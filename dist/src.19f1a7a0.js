parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"oEs9":[function(require,module,exports) {
"use strict";module.exports.sendMessage=function(e){"undefined"!=typeof LCC&&void 0!==LCC.onlineSupport&&LCC.onlineSupport.sendMessage("containerUserMessage",{payload:e})},module.exports.addErrorHandler=function(e){"undefined"!=typeof LCC&&void 0!==LCC.onlineSupport&&LCC.onlineSupport.addErrorHandler(e)},module.exports.removeErrorHandler=function(e){"undefined"!=typeof LCC&&void 0!==LCC.onlineSupport&&LCC.onlineSupport.removeErrorHandler(e)},module.exports.addMessageHandler=function(e){"undefined"!=typeof LCC&&void 0!==LCC.onlineSupport&&LCC.onlineSupport.addMessageHandler(e)},module.exports.removeMessageHandler=function(e){"undefined"!=typeof LCC&&void 0!==LCC.onlineSupport&&LCC.onlineSupport.removeMessageHandler(e)},module.exports.getRESTAPISessionKey=function(){return"undefined"!=typeof LCC&&void 0!==LCC.onlineSupport?LCC.onlineSupport.getRESTAPISessionKey():""},module.exports.callApex=function(e,o,n,r){"undefined"!=typeof Visualforce&&void 0!==Visualforce.remoting&&void 0!==Visualforce.remoting.Manager&&Visualforce.remoting.Manager.invokeAction(e,o,n,r)};
},{}],"YOwE":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"pyFg":[function(require,module,exports) {
"use strict";var e=require("object-assign"),t=60103,r=60106;exports.Fragment=60107,exports.StrictMode=60108,exports.Profiler=60114;var n=60109,o=60110,u=60112;exports.Suspense=60113;var s=60115,i=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;t=f("react.element"),r=f("react.portal"),exports.Fragment=f("react.fragment"),exports.StrictMode=f("react.strict_mode"),exports.Profiler=f("react.profiler"),n=f("react.provider"),o=f("react.context"),u=f("react.forward_ref"),exports.Suspense=f("react.suspense"),s=f("react.memo"),i=f("react.lazy")}var a="function"==typeof Symbol&&Symbol.iterator;function c(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=a&&e[a]||e["@@iterator"])?e:null}function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function d(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||l}function v(){}function h(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||l}d.prototype.isReactComponent={},d.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},d.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=d.prototype;var _=h.prototype=new v;_.constructor=h,e(_,d.prototype),_.isPureReactComponent=!0;var x={current:null},m=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function S(e,r,n){var o,u={},s=null,i=null;if(null!=r)for(o in void 0!==r.ref&&(i=r.ref),void 0!==r.key&&(s=""+r.key),r)m.call(r,o)&&!b.hasOwnProperty(o)&&(u[o]=r[o]);var f=arguments.length-2;if(1===f)u.children=n;else if(1<f){for(var a=Array(f),c=0;c<f;c++)a[c]=arguments[c+2];u.children=a}if(e&&e.defaultProps)for(o in f=e.defaultProps)void 0===u[o]&&(u[o]=f[o]);return{$$typeof:t,type:e,key:s,ref:i,props:u,_owner:x.current}}function $(e,r){return{$$typeof:t,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function g(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}var k=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?g(""+e.key):t.toString(36)}function E(e,n,o,u,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var f=!1;if(null===e)f=!0;else switch(i){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case t:case r:f=!0}}if(f)return s=s(f=e),e=""===u?"."+C(f,0):u,Array.isArray(s)?(o="",null!=e&&(o=e.replace(k,"$&/")+"/"),E(s,n,o,"",function(e){return e})):null!=s&&(w(s)&&(s=$(s,o+(!s.key||f&&f.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),n.push(s)),1;if(f=0,u=""===u?".":u+":",Array.isArray(e))for(var a=0;a<e.length;a++){var l=u+C(i=e[a],a);f+=E(i,n,o,l,s)}else if("function"==typeof(l=c(e)))for(e=l.call(e),a=0;!(i=e.next()).done;)f+=E(i=i.value,n,o,l=u+C(i,a++),s);else if("object"===i)throw n=""+e,Error(p(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n));return f}function R(e,t,r){if(null==e)return e;var n=[],o=0;return E(e,n,"","",function(e){return t.call(r,e,o++)}),n}function j(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var P={current:null};function O(){var e=P.current;if(null===e)throw Error(p(321));return e}var A={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:e};exports.Children={map:R,forEach:function(e,t,r){R(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!w(e))throw Error(p(143));return e}},exports.Component=d,exports.PureComponent=h,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,exports.cloneElement=function(r,n,o){if(null==r)throw Error(p(267,r));var u=e({},r.props),s=r.key,i=r.ref,f=r._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,f=x.current),void 0!==n.key&&(s=""+n.key),r.type&&r.type.defaultProps)var a=r.type.defaultProps;for(c in n)m.call(n,c)&&!b.hasOwnProperty(c)&&(u[c]=void 0===n[c]&&void 0!==a?a[c]:n[c])}var c=arguments.length-2;if(1===c)u.children=o;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];u.children=a}return{$$typeof:t,type:r.type,key:s,ref:i,props:u,_owner:f}},exports.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:n,_context:e},e.Consumer=e},exports.createElement=S,exports.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},exports.createRef=function(){return{current:null}},exports.forwardRef=function(e){return{$$typeof:u,render:e}},exports.isValidElement=w,exports.lazy=function(e){return{$$typeof:i,_payload:{_status:-1,_result:e},_init:j}},exports.memo=function(e,t){return{$$typeof:s,type:e,compare:void 0===t?null:t}},exports.useCallback=function(e,t){return O().useCallback(e,t)},exports.useContext=function(e,t){return O().useContext(e,t)},exports.useDebugValue=function(){},exports.useEffect=function(e,t){return O().useEffect(e,t)},exports.useImperativeHandle=function(e,t,r){return O().useImperativeHandle(e,t,r)},exports.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},exports.useMemo=function(e,t){return O().useMemo(e,t)},exports.useReducer=function(e,t,r){return O().useReducer(e,t,r)},exports.useRef=function(e){return O().useRef(e)},exports.useState=function(e){return O().useState(e)},exports.version="17.0.2";
},{"object-assign":"YOwE"}],"HdMw":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/react.production.min.js");
},{"./cjs/react.production.min.js":"pyFg"}],"x9cO":[function(require,module,exports) {
"use strict";var e,t,n,r;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;exports.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();exports.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var i=null,s=null,u=function(){if(null!==i)try{var e=exports.unstable_now();i(!0,e),i=null}catch(t){throw setTimeout(u,0),t}};e=function(t){null!==i?setTimeout(e,0,t):(i=t,setTimeout(u,0))},t=function(e,t){s=setTimeout(e,t)},n=function(){clearTimeout(s)},exports.unstable_shouldYield=function(){return!1},r=exports.unstable_forceFrameRate=function(){}}else{var c=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var b=!1,d=null,v=-1,x=5,y=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=y},r=function(){},exports.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5};var m=new MessageChannel,w=m.port2;m.port1.onmessage=function(){if(null!==d){var e=exports.unstable_now();y=e+x;try{d(!0,e)?w.postMessage(null):(b=!1,d=null)}catch(t){throw w.postMessage(null),t}}else b=!1},e=function(e){d=e,b||(b=!0,w.postMessage(null))},t=function(e,t){v=c(function(){e(exports.unstable_now())},t)},n=function(){f(v),v=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<T(o,t)))break e;e[r]=t,e[n]=o,n=r}}function h(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,l=e[a],i=a+1,s=e[i];if(void 0!==l&&0>T(l,n))void 0!==s&&0>T(s,l)?(e[r]=s,e[i]=n,r=i):(e[r]=l,e[a]=n,r=a);else{if(!(void 0!==s&&0>T(s,n)))break e;e[r]=s,e[i]=n,r=i}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var g=[],P=[],F=1,I=null,M=3,C=!1,j=!1,A=!1;function L(e){for(var t=h(P);null!==t;){if(null===t.callback)k(P);else{if(!(t.startTime<=e))break;k(P),t.sortIndex=t.expirationTime,_(g,t)}t=h(P)}}function q(n){if(A=!1,L(n),!j)if(null!==h(g))j=!0,e(R);else{var r=h(P);null!==r&&t(q,r.startTime-n)}}function R(e,r){j=!1,A&&(A=!1,n()),C=!0;var o=M;try{for(L(r),I=h(g);null!==I&&(!(I.expirationTime>r)||e&&!exports.unstable_shouldYield());){var a=I.callback;if("function"==typeof a){I.callback=null,M=I.priorityLevel;var l=a(I.expirationTime<=r);r=exports.unstable_now(),"function"==typeof l?I.callback=l:I===h(g)&&k(g),L(r)}else k(g);I=h(g)}if(null!==I)var i=!0;else{var s=h(P);null!==s&&t(q,s.startTime-r),i=!1}return i}finally{I=null,M=o,C=!1}}var Y=r;exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(e){e.callback=null},exports.unstable_continueExecution=function(){j||C||(j=!0,e(R))},exports.unstable_getCurrentPriorityLevel=function(){return M},exports.unstable_getFirstCallbackNode=function(){return h(g)},exports.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},exports.unstable_pauseExecution=function(){},exports.unstable_requestPaint=Y,exports.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},exports.unstable_scheduleCallback=function(r,o,a){var l=exports.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?l+a:l:a=l,r){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return r={id:F++,callback:o,priorityLevel:r,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(r.sortIndex=a,_(P,r),null===h(g)&&r===h(P)&&(A?n():A=!0,t(q,a-l))):(r.sortIndex=i,_(g,r),j||C||(j=!0,e(R))),r},exports.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}};
},{}],"IGIl":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/scheduler.production.min.js");
},{"./cjs/scheduler.production.min.js":"x9cO"}],"jF7N":[function(require,module,exports) {
"use strict";var e=require("react"),t=require("object-assign"),n=require("scheduler");function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!e)throw Error(r(227));var l=new Set,a={};function o(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var i=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),s=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c=Object.prototype.hasOwnProperty,f={},d={};function p(e){return!!c.call(d,e)||!c.call(f,e)&&(s.test(e)?d[e]=!0:(f[e]=!0,!1))}function h(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function m(e,t,n,r){if(null==t||h(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function g(e,t,n,r,l,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var l=v.hasOwnProperty(t)?v[t]:null;(null!==l?0===l.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(m(t,n,l,r)&&(n=null),r||null===l?p(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=null===n?3!==l.type&&"":n:(t=l.attributeName,r=l.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(l=l.type)||4===l&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,E=60106,x=60107,C=60108,_=60114,N=60109,P=60110,z=60112,L=60113,T=60120,M=60115,O=60116,R=60121,D=60128,F=60129,I=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;S=V("react.element"),E=V("react.portal"),x=V("react.fragment"),C=V("react.strict_mode"),_=V("react.profiler"),N=V("react.provider"),P=V("react.context"),z=V("react.forward_ref"),L=V("react.suspense"),T=V("react.suspense_list"),M=V("react.memo"),O=V("react.lazy"),R=V("react.block"),V("react.scope"),D=V("react.opaque.id"),F=V("react.debug_trace_mode"),I=V("react.offscreen"),U=V("react.legacy_hidden")}var A,B="function"==typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function Q(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var H=!1;function j(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(i){var r=i}Reflect.construct(e,[],t)}else{try{t.call()}catch(i){r=i}e.call(t.prototype)}else{try{throw Error()}catch(i){r=i}e()}}catch(i){if(i&&r&&"string"==typeof i.stack){for(var l=i.stack.split("\n"),a=r.stack.split("\n"),o=l.length-1,u=a.length-1;1<=o&&0<=u&&l[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(l[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||l[o]!==a[u])return"\n"+l[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Q(e):""}function $(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 22:return e=j(e.type._render,!1);case 1:return e=j(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case _:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return q(e.type);case R:return q(e._render);case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function G(e){e._valueTracker||(e._valueTracker=X(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ee(e,n){var r=n.checked;return t({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ne(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function re(e,t){ne(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function le(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}function ue(e,n){return e=t({children:void 0},n),(n=oe(n.children))&&(e.children=n),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,l=0;l<e.length;l++){if(e[l].value===n)return e[l].selected=!0,void(r&&(e[l].defaultSelected=!0));null!==t||e[l].disabled||(t=e[l])}null!==t&&(t.selected=!0)}}function se(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(r(91));return t({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function fe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function de(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var pe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==pe.svg||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),l=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}Object.keys(be).forEach(function(e){we.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]})});var Ee=t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Pe=null,ze=null;function Le(e){if(e=Sl(e)){if("function"!=typeof Ne)throw Error(r(280));var t=e.stateNode;t&&(t=xl(t),Ne(e.stateNode,e.type,t))}}function Te(e){Pe?ze?ze.push(e):ze=[e]:Pe=e}function Me(){if(Pe){var e=Pe,t=ze;if(ze=Pe=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,l){return e(t,n,r,l)}function De(){}var Fe=Oe,Ie=!1,Ue=!1;function Ve(){null===Pe&&null===ze||(De(),Me())}function Ae(e,t,n){if(Ue)return e(t,n);Ue=!0;try{return Fe(e,t,n)}finally{Ue=!1,Ve()}}function Be(e,t){var n=e.stateNode;if(null===n)return null;var l=xl(n);if(null===l)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(l=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!l;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var We=!1;if(i)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){We=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch(Fs){We=!1}function He(e,t,n,r,l,a,o,u,i){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(c){this.onError(c)}}var je=!1,$e=null,qe=!1,Ke=null,Ye={onError:function(e){je=!0,$e=e}};function Xe(e,t,n,r,l,a,o,u,i){je=!1,$e=null,He.apply(Ye,arguments)}function Ge(e,t,n,l,a,o,u,i,s){if(Xe.apply(this,arguments),je){if(!je)throw Error(r(198));var c=$e;je=!1,$e=null,qe||(qe=!0,Ke=c)}}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function et(e){if(Ze(e)!==e)throw Error(r(188))}function tt(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(l=a.return)){n=l;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return et(a),e;if(o===l)return et(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==l.return)n=a,l=o;else{for(var u=!1,i=a.child;i;){if(i===n){u=!0,n=a,l=o;break}if(i===l){u=!0,l=a,n=o;break}i=i.sibling}if(!u){for(i=o.child;i;){if(i===n){u=!0,n=o,l=a;break}if(i===l){u=!0,l=o,n=a;break}i=i.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function nt(e){if(!(e=tt(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var lt,at,ot,ut,it=!1,st=[],ct=null,ft=null,dt=null,pt=new Map,ht=new Map,mt=[],gt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vt(e,t,n,r,l){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:l,targetContainers:[r]}}function yt(e,t){switch(e){case"focusin":case"focusout":ct=null;break;case"dragenter":case"dragleave":ft=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function bt(e,t,n,r,l,a){return null===e||e.nativeEvent!==a?(e=vt(t,n,r,l,a),null!==t&&(null!==(t=Sl(t))&&at(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==l&&-1===t.indexOf(l)&&t.push(l),e)}function wt(e,t,n,r,l){switch(t){case"focusin":return ct=bt(ct,e,t,n,r,l),!0;case"dragenter":return ft=bt(ft,e,t,n,r,l),!0;case"mouseover":return dt=bt(dt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return pt.set(a,bt(pt.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,ht.set(a,bt(ht.get(a)||null,e,t,n,r,l)),!0}return!1}function kt(e){var t=kl(e.target);if(null!==t){var r=Ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Je(r)))return e.blockedOn=t,void ut(e.lanePriority,function(){n.unstable_runWithPriority(e.priority,function(){ot(r)})})}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function St(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Sl(n))&&at(t),e.blockedOn=n,!1;t.shift()}return!0}function Et(e,t,n){St(e)&&n.delete(t)}function xt(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=Sl(e.blockedOn))&&lt(e);break}for(var t=e.targetContainers;0<t.length;){var n=un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ct&&St(ct)&&(ct=null),null!==ft&&St(ft)&&(ft=null),null!==dt&&St(dt)&&(dt=null),pt.forEach(Et),ht.forEach(Et)}function Ct(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xt)))}function _t(e){function t(t){return Ct(t,e)}if(0<st.length){Ct(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ct&&Ct(ct,e),null!==ft&&Ct(ft,e),null!==dt&&Ct(dt,e),pt.forEach(t),ht.forEach(t),n=0;n<mt.length;n++)(r=mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<mt.length&&null===(n=mt[0]).blockedOn;)kt(n),null===n.blockedOn&&mt.shift()}function Nt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pt={animationend:Nt("Animation","AnimationEnd"),animationiteration:Nt("Animation","AnimationIteration"),animationstart:Nt("Animation","AnimationStart"),transitionend:Nt("Transition","TransitionEnd")},zt={},Lt={};function Tt(e){if(zt[e])return zt[e];if(!Pt[e])return e;var t,n=Pt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Lt)return zt[e]=n[t];return e}i&&(Lt=document.createElement("div").style,"AnimationEvent"in window||(delete Pt.animationend.animation,delete Pt.animationiteration.animation,delete Pt.animationstart.animation),"TransitionEvent"in window||delete Pt.transitionend.transition);var Mt=Tt("animationend"),Ot=Tt("animationiteration"),Rt=Tt("animationstart"),Dt=Tt("transitionend"),Ft=new Map,It=new Map,Ut=["abort","abort",Mt,"animationEnd",Ot,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],l=e[n+1];l="on"+(l[0].toUpperCase()+l.slice(1)),It.set(r,t),Ft.set(r,l),o(l,[r])}}var At=n.unstable_now;At();var Bt=8;function Wt(e){if(0!=(1&e))return Bt=15,1;if(0!=(2&e))return Bt=14,2;if(0!=(4&e))return Bt=13,4;var t=24&e;return 0!==t?(Bt=12,t):0!=(32&e)?(Bt=11,32):0!==(t=192&e)?(Bt=10,t):0!=(256&e)?(Bt=9,256):0!==(t=3584&e)?(Bt=8,t):0!=(4096&e)?(Bt=7,4096):0!==(t=4186112&e)?(Bt=6,t):0!==(t=62914560&e)?(Bt=5,t):67108864&e?(Bt=4,67108864):0!=(134217728&e)?(Bt=3,134217728):0!==(t=805306368&e)?(Bt=2,t):0!=(1073741824&e)?(Bt=1,1073741824):(Bt=8,e)}function Qt(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Ht(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(r(358,e))}}function jt(e,t){var n=e.pendingLanes;if(0===n)return Bt=0;var r=0,l=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,l=Bt=15;else if(0!==(a=134217727&n)){var i=a&~o;0!==i?(r=Wt(i),l=Bt):0!==(u&=a)&&(r=Wt(u),l=Bt)}else 0!==(a=n&~o)?(r=Wt(a),l=Bt):0!==u&&(r=Wt(u),l=Bt);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Wt(t),l<=Bt)return t;Bt=l}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)l=1<<(n=31-Gt(t)),r|=e[n],t&=~l;return r}function $t(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function qt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Kt(24&~t))?qt(10,t):e;case 10:return 0===(e=Kt(192&~t))?qt(8,t):e;case 8:return 0===(e=Kt(3584&~t))&&(0===(e=Kt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Kt(805306368&~t))&&(t=268435456),t}throw Error(r(358,e))}function Kt(e){return e&-e}function Yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:en,Zt=Math.log,Jt=Math.LN2;function en(e){return 0===e?32:31-(Zt(e)/Jt|0)|0}var tn=n.unstable_UserBlockingPriority,nn=n.unstable_runWithPriority,rn=!0;function ln(e,t,n,r){Ie||De();var l=on,a=Ie;Ie=!0;try{Re(l,e,t,n,r)}finally{(Ie=a)||Ve()}}function an(e,t,n,r){nn(tn,on.bind(null,e,t,n,r))}function on(e,t,n,r){var l;if(rn)if((l=0==(4&t))&&0<st.length&&-1<gt.indexOf(e))e=vt(null,e,t,n,r),st.push(e);else{var a=un(e,t,n,r);if(null===a)l&&yt(e,r);else{if(l){if(-1<gt.indexOf(e))return e=vt(a,e,t,n,r),void st.push(e);if(wt(a,e,t,n,r))return;yt(e,r)}Jr(e,t,r,null,n)}}}function un(e,t,n,r){var l=_e(r);if(null!==(l=kl(l))){var a=Ze(l);if(null===a)l=null;else{var o=a.tag;if(13===o){if(null!==(l=Je(a)))return l;l=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;l=null}else a!==l&&(l=null)}}return Jr(e,t,r,l,n),null}var sn=null,cn=null,fn=null;function dn(){if(fn)return fn;var e,t,n=cn,r=n.length,l="value"in sn?sn.value:sn.textContent,a=l.length;for(e=0;e<r&&n[e]===l[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===l[a-t];t++);return fn=l.slice(e,1<t?1-t:void 0)}function pn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hn(){return!0}function mn(){return!1}function gn(e){function n(t,n,r,l,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=l,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(l):l[o]);return this.isDefaultPrevented=(null!=l.defaultPrevented?l.defaultPrevented:!1===l.returnValue)?hn:mn,this.isPropagationStopped=mn,this}return t(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),n}var vn,yn,bn,wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kn=gn(wn),Sn=t({},wn,{view:0,detail:0}),En=gn(Sn),xn=t({},Sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&"mousemove"===e.type?(vn=e.screenX-bn.screenX,yn=e.screenY-bn.screenY):yn=vn=0,bn=e),vn)},movementY:function(e){return"movementY"in e?e.movementY:yn}}),Cn=gn(xn),_n=t({},xn,{dataTransfer:0}),Nn=gn(_n),Pn=t({},Sn,{relatedTarget:0}),zn=gn(Pn),Ln=t({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tn=gn(Ln),Mn=t({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),On=gn(Mn),Rn=t({},wn,{data:0}),Dn=gn(Rn),Fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Un[e])&&!!t[e]}function An(){return Vn}var Bn=t({},Sn,{key:function(e){if(e.key){var t=Fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=pn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?pn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?pn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Wn=gn(Bn),Qn=t({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hn=gn(Qn),jn=t({},Sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An}),$n=gn(jn),qn=t({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kn=gn(qn),Yn=t({},xn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xn=gn(Yn),Gn=[9,13,27,32],Zn=i&&"CompositionEvent"in window,Jn=null;i&&"documentMode"in document&&(Jn=document.documentMode);var er=i&&"TextEvent"in window&&!Jn,tr=i&&(!Zn||Jn&&8<Jn&&11>=Jn),nr=String.fromCharCode(32),rr=!1;function lr(e,t){switch(e){case"keyup":return-1!==Gn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ar(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var or=!1;function ur(e,t){switch(e){case"compositionend":return ar(t);case"keypress":return 32!==t.which?null:(rr=!0,nr);case"textInput":return(e=t.data)===nr&&rr?null:e;default:return null}}function ir(e,t){if(or)return"compositionend"===e||!Zn&&lr(e,t)?(e=dn(),fn=cn=sn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tr&&"ko"!==t.locale?null:t.data;default:return null}}var sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!sr[e.type]:"textarea"===t}function fr(e,t,n,r){Te(r),0<(t=tl(t,"onChange")).length&&(n=new kn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dr=null,pr=null;function hr(e){qr(e,0)}function mr(e){if(Z(El(e)))return e}function gr(e,t){if("change"===e)return t}var vr=!1;if(i){var yr;if(i){var br="oninput"in document;if(!br){var wr=document.createElement("div");wr.setAttribute("oninput","return;"),br="function"==typeof wr.oninput}yr=br}else yr=!1;vr=yr&&(!document.documentMode||9<document.documentMode)}function kr(){dr&&(dr.detachEvent("onpropertychange",Sr),pr=dr=null)}function Sr(e){if("value"===e.propertyName&&mr(pr)){var t=[];if(fr(t,pr,e,_e(e)),e=hr,Ie)e(t);else{Ie=!0;try{Oe(e,t)}finally{Ie=!1,Ve()}}}}function Er(e,t,n){"focusin"===e?(kr(),pr=n,(dr=t).attachEvent("onpropertychange",Sr)):"focusout"===e&&kr()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(pr)}function Cr(e,t){if("click"===e)return mr(t)}function _r(e,t){if("input"===e||"change"===e)return mr(t)}function Nr(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Pr="function"==typeof Object.is?Object.is:Nr,zr=Object.prototype.hasOwnProperty;function Lr(e,t){if(Pr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!zr.call(t,n[r])||!Pr(e[n[r]],t[n[r]]))return!1;return!0}function Tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mr(e,t){var n,r=Tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tr(r)}}function Or(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Or(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Rr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function Dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Fr=i&&"documentMode"in document&&11>=document.documentMode,Ir=null,Ur=null,Vr=null,Ar=!1;function Br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ar||null==Ir||Ir!==J(r)||("selectionStart"in(r=Ir)&&Dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Vr&&Lr(Vr,r)||(Vr=r,0<(r=tl(Ur,"onSelect")).length&&(t=new kn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ir)))}Vt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Ut,2);for(var Wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Qr=0;Qr<Wr.length;Qr++)It.set(Wr[Qr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ge(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],i=u.instance,s=u.currentTarget;if(u=u.listener,i!==a&&l.isPropagationStopped())break e;$r(l,u,s),a=i}else for(o=0;o<r.length;o++){if(i=(u=r[o]).instance,s=u.currentTarget,u=u.listener,i!==a&&l.isPropagationStopped())break e;$r(l,u,s),a=i}}}if(qe)throw e=Ke,qe=!1,Ke=null,e}function Kr(e,t){var n=Cl(t),r=e+"__bubble";n.has(r)||(Zr(t,e,2,!1),n.add(r))}var Yr="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){e[Yr]||(e[Yr]=!0,l.forEach(function(t){jr.has(t)||Gr(t,!1,e,null),Gr(t,!0,e,null)}))}function Gr(e,t,n,r){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&jr.has(e)){if("scroll"!==e)return;l|=2,a=r}var o=Cl(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(l|=4),Zr(a,e,l,t),o.add(u))}function Zr(e,t,n,r){var l=It.get(t);switch(void 0===l?2:l){case 0:l=ln;break;case 1:l=an;break;default:l=on}n=l.bind(null,t,n,e),l=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(l=!0),r?void 0!==l?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):void 0!==l?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Jr(e,t,n,r,l){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===l||8===u.nodeType&&u.parentNode===l)break;if(4===o)for(o=r.return;null!==o;){var i=o.tag;if((3===i||4===i)&&((i=o.stateNode.containerInfo)===l||8===i.nodeType&&i.parentNode===l))return;o=o.return}for(;null!==u;){if(null===(o=kl(u)))return;if(5===(i=o.tag)||6===i){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae(function(){var r=a,l=_e(n),o=[];e:{var u=Ft.get(e);if(void 0!==u){var i=kn,s=e;switch(e){case"keypress":if(0===pn(n))break e;case"keydown":case"keyup":i=Wn;break;case"focusin":s="focus",i=zn;break;case"focusout":s="blur",i=zn;break;case"beforeblur":case"afterblur":i=zn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=Nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=$n;break;case Mt:case Ot:case Rt:i=Tn;break;case Dt:i=Kn;break;case"scroll":i=En;break;case"wheel":i=Xn;break;case"copy":case"cut":case"paste":i=On;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Hn}var c=0!=(4&t),f=!c&&"scroll"===e,d=c?null!==u?u+"Capture":null:u;c=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Be(h,d))&&c.push(el(h,m,p)))),f)break;h=h.return}0<c.length&&(u=new i(u,s,null,n,l),o.push({event:u,listeners:c}))}}if(0==(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(s=n.relatedTarget||n.fromElement)||!kl(s)&&!s[bl])&&(i||u)&&(u=l.window===l?l:(u=l.ownerDocument)?u.defaultView||u.parentWindow:window,i?(i=r,null!==(s=(s=n.relatedTarget||n.toElement)?kl(s):null)&&(s!==(f=Ze(s))||5!==s.tag&&6!==s.tag)&&(s=null)):(i=null,s=r),i!==s)){if(c=Cn,m="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Hn,m="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==i?u:El(i),p=null==s?u:El(s),(u=new c(m,h+"leave",i,n,l)).target=f,u.relatedTarget=p,m=null,kl(l)===r&&((c=new c(d,h+"enter",s,n,l)).target=p,c.relatedTarget=f,m=c),f=m,i&&s)e:{for(d=s,h=0,p=c=i;p;p=nl(p))h++;for(p=0,m=d;m;m=nl(m))p++;for(;0<h-p;)c=nl(c),h--;for(;0<p-h;)d=nl(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=nl(c),d=nl(d)}c=null}else c=null;null!==i&&rl(o,u,i,c,!1),null!==s&&null!==f&&rl(o,f,s,c,!0)}if("select"===(i=(u=r?El(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===i&&"file"===u.type)var g=gr;else if(cr(u))if(vr)g=_r;else{g=xr;var v=Er}else(i=u.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(g=Cr);switch(g&&(g=g(e,r))?fr(o,g,n,l):(v&&v(e,u,r),"focusout"===e&&(v=u._wrapperState)&&v.controlled&&"number"===u.type&&ae(u,"number",u.value)),v=r?El(r):window,e){case"focusin":(cr(v)||"true"===v.contentEditable)&&(Ir=v,Ur=r,Vr=null);break;case"focusout":Vr=Ur=Ir=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,Br(o,n,l);break;case"selectionchange":if(Fr)break;case"keydown":case"keyup":Br(o,n,l)}var y;if(Zn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else or?lr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(tr&&"ko"!==n.locale&&(or||"onCompositionStart"!==b?"onCompositionEnd"===b&&or&&(y=dn()):(cn="value"in(sn=l)?sn.value:sn.textContent,or=!0)),0<(v=tl(r,b)).length&&(b=new Dn(b,e,null,n,l),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=ar(n))&&(b.data=y))),(y=er?ur(e,n):ir(e,n))&&(0<(r=tl(r,"onBeforeInput")).length&&(l=new Dn("onBeforeInput","beforeinput",null,n,l),o.push({event:l,listeners:r}),l.data=y))}qr(o,t)})}function el(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tl(e,t){for(var n=t+"Capture",r=[];null!==e;){var l=e,a=l.stateNode;5===l.tag&&null!==a&&(l=a,null!=(a=Be(e,n))&&r.unshift(el(e,a,l)),null!=(a=Be(e,t))&&r.push(el(e,a,l))),e=e.return}return r}function nl(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function rl(e,t,n,r,l){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,i=u.alternate,s=u.stateNode;if(null!==i&&i===r)break;5===u.tag&&null!==s&&(u=s,l?null!=(i=Be(n,a))&&o.unshift(el(n,i,u)):l||null!=(i=Be(n,a))&&o.push(el(n,i,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function ll(){}var al=null,ol=null;function ul(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function il(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sl="function"==typeof setTimeout?setTimeout:void 0,cl="function"==typeof clearTimeout?clearTimeout:void 0;function fl(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function dl(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function pl(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hl=0;function ml(e){return{$$typeof:D,toString:e,valueOf:e}}var gl=Math.random().toString(36).slice(2),vl="__reactFiber$"+gl,yl="__reactProps$"+gl,bl="__reactContainer$"+gl,wl="__reactEvents$"+gl;function kl(e){var t=e[vl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bl]||n[vl]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=pl(e);null!==e;){if(n=e[vl])return n;e=pl(e)}return t}n=(e=n).parentNode}return null}function Sl(e){return!(e=e[vl]||e[bl])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function El(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function xl(e){return e[yl]||null}function Cl(e){var t=e[wl];return void 0===t&&(t=e[wl]=new Set),t}var _l=[],Nl=-1;function Pl(e){return{current:e}}function zl(e){0>Nl||(e.current=_l[Nl],_l[Nl]=null,Nl--)}function Ll(e,t){_l[++Nl]=e.current,e.current=t}var Tl={},Ml=Pl(Tl),Ol=Pl(!1),Rl=Tl;function Dl(e,t){var n=e.type.contextTypes;if(!n)return Tl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in n)a[l]=t[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fl(e){return null!=(e=e.childContextTypes)}function Il(){zl(Ol),zl(Ml)}function Ul(e,t,n){if(Ml.current!==Tl)throw Error(r(168));Ll(Ml,t),Ll(Ol,n)}function Vl(e,n,l){var a=e.stateNode;if(e=n.childContextTypes,"function"!=typeof a.getChildContext)return l;for(var o in a=a.getChildContext())if(!(o in e))throw Error(r(108,q(n)||"Unknown",o));return t({},l,a)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tl,Rl=Ml.current,Ll(Ml,e),Ll(Ol,Ol.current),!0}function Bl(e,t,n){var l=e.stateNode;if(!l)throw Error(r(169));n?(e=Vl(e,t,Rl),l.__reactInternalMemoizedMergedChildContext=e,zl(Ol),zl(Ml),Ll(Ml,e)):zl(Ol),Ll(Ol,n)}var Wl=null,Ql=null,Hl=n.unstable_runWithPriority,jl=n.unstable_scheduleCallback,$l=n.unstable_cancelCallback,ql=n.unstable_shouldYield,Kl=n.unstable_requestPaint,Yl=n.unstable_now,Xl=n.unstable_getCurrentPriorityLevel,Gl=n.unstable_ImmediatePriority,Zl=n.unstable_UserBlockingPriority,Jl=n.unstable_NormalPriority,ea=n.unstable_LowPriority,ta=n.unstable_IdlePriority,na={},ra=void 0!==Kl?Kl:function(){},la=null,aa=null,oa=!1,ua=Yl(),ia=1e4>ua?Yl:function(){return Yl()-ua};function sa(){switch(Xl()){case Gl:return 99;case Zl:return 98;case Jl:return 97;case ea:return 96;case ta:return 95;default:throw Error(r(332))}}function ca(e){switch(e){case 99:return Gl;case 98:return Zl;case 97:return Jl;case 96:return ea;case 95:return ta;default:throw Error(r(332))}}function fa(e,t){return e=ca(e),Hl(e,t)}function da(e,t,n){return e=ca(e),jl(e,t,n)}function pa(){if(null!==aa){var e=aa;aa=null,$l(e)}ha()}function ha(){if(!oa&&null!==la){oa=!0;var e=0;try{var t=la;fa(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),la=null}catch(n){throw null!==la&&(la=la.slice(e+1)),jl(Gl,pa),n}finally{oa=!1}}}var ma=k.ReactCurrentBatchConfig;function ga(e,n){if(e&&e.defaultProps){for(var r in n=t({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}return n}var va=Pl(null),ya=null,ba=null,wa=null;function ka(){wa=ba=ya=null}function Sa(e){var t=va.current;zl(va),e.type._context._currentValue=t}function Ea(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function xa(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(nu=!0),e.firstContext=null)}function Ca(e,t){if(wa!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(wa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ba){if(null===ya)throw Error(r(308));ba=t,ya.dependencies={lanes:0,firstContext:t,responders:null}}else ba=ba.next=t;return e._currentValue}var _a=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Ta(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var l=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?l=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?l=a=t:a=a.next=t}else l=a=t;return n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,n,r,l){var a=e.updateQueue;_a=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var s=i,c=s.next;s.next=null,null===u?o=c:u.next=c,u=s;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=s)}}if(null!==o){for(d=a.baseState,u=0,f=c=s=null;;){i=o.lane;var p=o.eventTime;if((l&i)===i){null!==f&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,m=o;switch(i=n,p=r,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(p,d,i);break e}d=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(i="function"==typeof(h=m.payload)?h.call(p,d,i):h))break e;d=t({},d,i);break e;case 2:_a=!0}}null!==o.callback&&(e.flags|=32,null===(i=a.effects)?a.effects=[o]:i.push(o))}else p={eventTime:p,lane:i,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(c=f=p,s=d):f=f.next=p,u|=i;if(null===(o=o.next)){if(null===(i=a.shared.pending))break;o=i.next,i.next=null,a.lastBaseUpdate=i,a.shared.pending=null}}null===f&&(s=d),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=f,ui|=u,e.lanes=u,e.memoizedState=d}}function Oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var l=e[t],a=l.callback;if(null!==a){if(l.callback=null,l=n,"function"!=typeof a)throw Error(r(191,a));a.call(l)}}}var Ra=(new e.Component).refs;function Da(e,n,r,l){r=null==(r=r(l,n=e.memoizedState))?n:t({},n,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Fa={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mi(),l=Oi(e),a=za(r,l);a.payload=t,null!=n&&(a.callback=n),La(e,a),Ri(e,l,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mi(),l=Oi(e),a=za(r,l);a.tag=1,a.payload=t,null!=n&&(a.callback=n),La(e,a),Ri(e,l,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mi(),r=Oi(e),l=za(n,r);l.tag=2,null!=t&&(l.callback=t),La(e,l),Ri(e,r,n)}};function Ia(e,t,n,r,l,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Lr(n,r)||!Lr(l,a))}function Ua(e,t,n){var r=!1,l=Tl,a=t.contextType;return"object"==typeof a&&null!==a?a=Ca(a):(l=Fl(t)?Rl:Ml.current,a=(r=null!=(r=t.contextTypes))?Dl(e,l):Tl),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fa.enqueueReplaceState(t,t.state,null)}function Aa(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs=Ra,Na(e);var a=t.contextType;"object"==typeof a&&null!==a?l.context=Ca(a):(a=Fl(t)?Rl:Ml.current,l.context=Dl(e,a)),Ma(e,n,l,r),l.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Da(e,t,a,n),l.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(t=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),t!==l.state&&Fa.enqueueReplaceState(l,l.state,null),Ma(e,n,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4)}var Ba=Array.isArray;function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var l=n.stateNode}if(!l)throw Error(r(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=l.refs;t===Ra&&(t=l.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Qa(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ha(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function l(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=hs(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=ys(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function s(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=ms(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=bs(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,l){return null===t||7!==t.tag?((t=gs(n,e.mode,r,l)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ys(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=ms(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case E:return(t=bs(t,e.mode,n)).return=e,t}if(Ba(t)||W(t))return(t=gs(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function p(e,t,n,r){var l=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==l?null:i(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===l?n.type===x?f(e,t,n.props.children,r,l):s(e,t,n,r):null;case E:return n.key===l?c(e,t,n,r):null}if(Ba(n)||W(n))return null!==l?null:f(e,t,n,r,null);Qa(e,n)}return null}function h(e,t,n,r,l){if("string"==typeof r||"number"==typeof r)return i(t,e=e.get(n)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===x?f(t,e,r.props.children,l,r.key):s(t,e,r,l);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,l)}if(Ba(r)||W(r))return f(t,e=e.get(n)||null,r,l,null);Qa(t,r)}return null}function m(r,a,u,i){for(var s=null,c=null,f=a,m=a=0,g=null;null!==f&&m<u.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=p(r,f,u[m],i);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(r,f),a=o(v,a,m),null===c?s=v:c.sibling=v,c=v,f=g}if(m===u.length)return n(r,f),s;if(null===f){for(;m<u.length;m++)null!==(f=d(r,u[m],i))&&(a=o(f,a,m),null===c?s=f:c.sibling=f,c=f);return s}for(f=l(r,f);m<u.length;m++)null!==(g=h(f,r,m,u[m],i))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?s=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return t(r,e)}),s}function g(a,u,i,s){var c=W(i);if("function"!=typeof c)throw Error(r(150));if(null==(i=c.call(i)))throw Error(r(151));for(var f=c=null,m=u,g=u=0,v=null,y=i.next();null!==m&&!y.done;g++,y=i.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(a,m,y.value,s);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),u=o(b,u,g),null===f?c=b:f.sibling=b,f=b,m=v}if(y.done)return n(a,m),c;if(null===m){for(;!y.done;g++,y=i.next())null!==(y=d(a,y.value,s))&&(u=o(y,u,g),null===f?c=y:f.sibling=y,f=y);return c}for(m=l(a,m);!y.done;g++,y=i.next())null!==(y=h(m,a,g,y.value,s))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),u=o(y,u,g),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach(function(e){return t(a,e)}),c}return function(e,l,o,i){var s="object"==typeof o&&null!==o&&o.type===x&&null===o.key;s&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case S:e:{for(c=o.key,s=l;null!==s;){if(s.key===c){switch(s.tag){case 7:if(o.type===x){n(e,s.sibling),(l=a(s,o.props.children)).return=e,e=l;break e}break;default:if(s.elementType===o.type){n(e,s.sibling),(l=a(s,o.props)).ref=Wa(e,s,o),l.return=e,e=l;break e}}n(e,s);break}t(e,s),s=s.sibling}o.type===x?((l=gs(o.props.children,e.mode,i,o.key)).return=e,e=l):((i=ms(o.type,o.key,o.props,null,e.mode,i)).ref=Wa(e,l,o),i.return=e,e=i)}return u(e);case E:e:{for(s=o.key;null!==l;){if(l.key===s){if(4===l.tag&&l.stateNode.containerInfo===o.containerInfo&&l.stateNode.implementation===o.implementation){n(e,l.sibling),(l=a(l,o.children||[])).return=e,e=l;break e}n(e,l);break}t(e,l),l=l.sibling}(l=bs(o,e.mode,i)).return=e,e=l}return u(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==l&&6===l.tag?(n(e,l.sibling),(l=a(l,o)).return=e,e=l):(n(e,l),(l=ys(o,e.mode,i)).return=e,e=l),u(e);if(Ba(o))return m(e,l,o,i);if(W(o))return g(e,l,o,i);if(c&&Qa(e,o),void 0===o&&!s)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(r(152,q(e.type)||"Component"))}return n(e,l)}}var ja=Ha(!0),$a=Ha(!1),qa={},Ka=Pl(qa),Ya=Pl(qa),Xa=Pl(qa);function Ga(e){if(e===qa)throw Error(r(174));return e}function Za(e,t){switch(Ll(Xa,t),Ll(Ya,e),Ll(Ka,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:me(null,"");break;default:t=me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}zl(Ka),Ll(Ka,t)}function Ja(){zl(Ka),zl(Ya),zl(Xa)}function eo(e){Ga(Xa.current);var t=Ga(Ka.current),n=me(t,e.type);t!==n&&(Ll(Ya,e),Ll(Ka,n))}function to(e){Ya.current===e&&(zl(Ka),zl(Ya))}var no=Pl(0);function ro(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=null,ao=null,oo=!1;function uo(e,t){var n=fs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function so(e){if(oo){var t=ao;if(t){var n=t;if(!io(e,t)){if(!(t=dl(n.nextSibling))||!io(e,t))return e.flags=-1025&e.flags|2,oo=!1,void(lo=e);uo(lo,n)}lo=e,ao=dl(t.firstChild)}else e.flags=-1025&e.flags|2,oo=!1,lo=e}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;lo=e}function fo(e){if(e!==lo)return!1;if(!oo)return co(e),oo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!il(t,e.memoizedProps))for(t=ao;t;)uo(e,t),t=dl(t.nextSibling);if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ao=dl(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ao=null}}else ao=lo?dl(e.stateNode.nextSibling):null;return!0}function po(){ao=lo=null,oo=!1}var ho=[];function mo(){for(var e=0;e<ho.length;e++)ho[e]._workInProgressVersionPrimary=null;ho.length=0}var go=k.ReactCurrentDispatcher,vo=k.ReactCurrentBatchConfig,yo=0,bo=null,wo=null,ko=null,So=!1,Eo=!1;function xo(){throw Error(r(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pr(e[n],t[n]))return!1;return!0}function _o(e,t,n,l,a,o){if(yo=o,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=null===e||null===e.memoizedState?Zo:Jo,e=n(l,a),Eo){o=0;do{if(Eo=!1,!(25>o))throw Error(r(301));o+=1,ko=wo=null,t.updateQueue=null,go.current=eu,e=n(l,a)}while(Eo)}if(go.current=Go,t=null!==wo&&null!==wo.next,yo=0,ko=wo=bo=null,So=!1,t)throw Error(r(300));return e}function No(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ko?bo.memoizedState=ko=e:ko=ko.next=e,ko}function Po(){if(null===wo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===ko?bo.memoizedState:ko.next;if(null!==t)ko=t,wo=e;else{if(null===e)throw Error(r(310));e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===ko?bo.memoizedState=ko=e:ko=ko.next=e}return ko}function zo(e,t){return"function"==typeof t?t(e):t}function Lo(e){var t=Po(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var l=wo,a=l.baseQueue,o=n.pending;if(null!==o){if(null!==a){var u=a.next;a.next=o.next,o.next=u}l.baseQueue=a=o,n.pending=null}if(null!==a){a=a.next,l=l.baseState;var i=u=o=null,s=a;do{var c=s.lane;if((yo&c)===c)null!==i&&(i=i.next={lane:0,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),l=s.eagerReducer===e?s.eagerState:e(l,s.action);else{var f={lane:c,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===i?(u=i=f,o=l):i=i.next=f,bo.lanes|=c,ui|=c}s=s.next}while(null!==s&&s!==a);null===i?o=l:i.next=u,Pr(l,t.memoizedState)||(nu=!0),t.memoizedState=l,t.baseState=o,t.baseQueue=i,n.lastRenderedState=l}return[t.memoizedState,n.dispatch]}function To(e){var t=Po(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var u=a=a.next;do{o=e(o,u.action),u=u.next}while(u!==a);Pr(o,t.memoizedState)||(nu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Mo(e,t,n){var l=t._getVersion;l=l(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===l:(e=e.mutableReadLanes,(e=(yo&e)===e)&&(t._workInProgressVersionPrimary=l,ho.push(t))),e)return n(t._source);throw ho.push(t),Error(r(350))}function Oo(e,t,n,l){var a=Ju;if(null===a)throw Error(r(349));var o=t._getVersion,u=o(t._source),i=go.current,s=i.useState(function(){return Mo(a,t,n)}),c=s[1],f=s[0];s=ko;var d=e.memoizedState,p=d.refs,h=p.getSnapshot,m=d.source;d=d.subscribe;var g=bo;return e.memoizedState={refs:p,source:t,subscribe:l},i.useEffect(function(){p.getSnapshot=n,p.setSnapshot=c;var e=o(t._source);if(!Pr(u,e)){e=n(t._source),Pr(f,e)||(c(e),e=Oi(g),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,l=e;0<l;){var i=31-Gt(l),s=1<<i;r[i]|=e,l&=~s}}},[n,t,l]),i.useEffect(function(){return l(t._source,function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=Oi(g);a.mutableReadLanes|=r&a.pendingLanes}catch(l){n(function(){throw l})}})},[t,l]),Pr(h,n)&&Pr(m,t)&&Pr(d,l)||((e={pending:null,dispatch:null,lastRenderedReducer:zo,lastRenderedState:f}).dispatch=c=Xo.bind(null,bo,e),s.queue=e,s.baseQueue=null,f=Mo(a,t,n),s.memoizedState=s.baseState=f),f}function Ro(e,t,n){return Oo(Po(),e,t,n)}function Do(e){var t=No();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e}).dispatch=Xo.bind(null,bo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=bo.updateQueue)?(t={lastEffect:null},bo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(e){return e={current:e},No().memoizedState=e}function Uo(){return Po().memoizedState}function Vo(e,t,n,r){var l=No();bo.flags|=e,l.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Ao(e,t,n,r){var l=Po();r=void 0===r?null:r;var a=void 0;if(null!==wo){var o=wo.memoizedState;if(a=o.destroy,null!==r&&Co(r,o.deps))return void Fo(t,n,a,r)}bo.flags|=e,l.memoizedState=Fo(1|t,n,a,r)}function Bo(e,t){return Vo(516,4,e,t)}function Wo(e,t){return Ao(516,4,e,t)}function Qo(e,t){return Ao(4,2,e,t)}function Ho(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!=n?n.concat([e]):null,Ao(4,2,Ho.bind(null,t,e),n)}function $o(){}function qo(e,t){var n=Po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t){var n=sa();fa(98>n?98:n,function(){e(!0)}),fa(97<n?97:n,function(){var n=vo.transition;vo.transition=1;try{e(!1),t()}finally{vo.transition=n}})}function Xo(e,t,n){var r=Mi(),l=Oi(e),a={lane:l,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===bo||null!==o&&o===bo)Eo=So=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,i=o(u,n);if(a.eagerReducer=o,a.eagerState=i,Pr(i,u))return}catch(s){}Ri(e,l,r)}}var Go={readContext:Ca,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useOpaqueIdentifier:xo,unstable_isNewReconciler:!1},Zo={readContext:Ca,useCallback:function(e,t){return No().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Vo(4,2,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=No();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=No();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Xo.bind(null,bo,e),[r.memoizedState,e]},useRef:Io,useState:Do,useDebugValue:$o,useDeferredValue:function(e){var t=Do(e),n=t[0],r=t[1];return Bo(function(){var t=vo.transition;vo.transition=1;try{r(e)}finally{vo.transition=t}},[e]),n},useTransition:function(){var e=Do(!1),t=e[0];return Io(e=Yo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=No();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Oo(r,e,t,n)},useOpaqueIdentifier:function(){if(oo){var e=!1,t=ml(function(){throw e||(e=!0,n("r:"+(hl++).toString(36))),Error(r(355))}),n=Do(t)[1];return 0==(2&bo.mode)&&(bo.flags|=516,Fo(5,function(){n("r:"+(hl++).toString(36))},void 0,null)),t}return Do(t="r:"+(hl++).toString(36)),t},unstable_isNewReconciler:!1},Jo={readContext:Ca,useCallback:qo,useContext:Ca,useEffect:Wo,useImperativeHandle:jo,useLayoutEffect:Qo,useMemo:Ko,useReducer:Lo,useRef:Uo,useState:function(){return Lo(zo)},useDebugValue:$o,useDeferredValue:function(e){var t=Lo(zo),n=t[0],r=t[1];return Wo(function(){var t=vo.transition;vo.transition=1;try{r(e)}finally{vo.transition=t}},[e]),n},useTransition:function(){var e=Lo(zo)[0];return[Uo().current,e]},useMutableSource:Ro,useOpaqueIdentifier:function(){return Lo(zo)[0]},unstable_isNewReconciler:!1},eu={readContext:Ca,useCallback:qo,useContext:Ca,useEffect:Wo,useImperativeHandle:jo,useLayoutEffect:Qo,useMemo:Ko,useReducer:To,useRef:Uo,useState:function(){return To(zo)},useDebugValue:$o,useDeferredValue:function(e){var t=To(zo),n=t[0],r=t[1];return Wo(function(){var t=vo.transition;vo.transition=1;try{r(e)}finally{vo.transition=t}},[e]),n},useTransition:function(){var e=To(zo)[0];return[Uo().current,e]},useMutableSource:Ro,useOpaqueIdentifier:function(){return To(zo)[0]},unstable_isNewReconciler:!1},tu=k.ReactCurrentOwner,nu=!1;function ru(e,t,n,r){t.child=null===e?$a(t,null,n,r):ja(t,e.child,n,r)}function lu(e,t,n,r,l){n=n.render;var a=t.ref;return xa(t,l),r=_o(e,t,n,r,a,l),null===e||nu?(t.flags|=1,ru(e,t,r,l),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~l,Cu(e,t,l))}function au(e,t,n,r,l,a){if(null===e){var o=n.type;return"function"!=typeof o||ds(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ms(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ou(e,t,o,r,l,a))}return o=e.child,0==(l&a)&&(l=o.memoizedProps,(n=null!==(n=n.compare)?n:Lr)(l,r)&&e.ref===t.ref)?Cu(e,t,a):(t.flags|=1,(e=hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function ou(e,t,n,r,l,a){if(null!==e&&Lr(e.memoizedProps,r)&&e.ref===t.ref){if(nu=!1,0==(a&l))return t.lanes=e.lanes,Cu(e,t,a);0!=(16384&e.flags)&&(nu=!0)}return su(e,t,n,r,a)}function uu(e,t,n){var r=t.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Qi(t,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Qi(t,e),null;t.memoizedState={baseLanes:0},Qi(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Qi(t,r);return ru(e,t,l,n),t.child}function iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function su(e,t,n,r,l){var a=Fl(n)?Rl:Ml.current;return a=Dl(t,a),xa(t,l),n=_o(e,t,n,r,a,l),null===e||nu?(t.flags|=1,ru(e,t,n,l),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~l,Cu(e,t,l))}function cu(e,t,n,r,l){if(Fl(n)){var a=!0;Al(t)}else a=!1;if(xa(t,l),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ua(t,n,r),Aa(t,n,r,l),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var i=o.context,s=n.contextType;"object"==typeof s&&null!==s?s=Ca(s):s=Dl(t,s=Fl(n)?Rl:Ml.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==r||i!==s)&&Va(t,o,r,s),_a=!1;var d=t.memoizedState;o.state=d,Ma(t,r,o,l),i=t.memoizedState,u!==r||d!==i||Ol.current||_a?("function"==typeof c&&(Da(t,n,c,r),i=t.memoizedState),(u=_a||Ia(t,n,u,r,d,i,s))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=i),o.props=r,o.state=i,o.context=s,r=u):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,s=t.type===t.elementType?u:ga(t.type,u),o.props=s,f=t.pendingProps,d=o.context,"object"==typeof(i=n.contextType)&&null!==i?i=Ca(i):i=Dl(t,i=Fl(n)?Rl:Ml.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==f||d!==i)&&Va(t,o,r,i),_a=!1,d=t.memoizedState,o.state=d,Ma(t,r,o,l);var h=t.memoizedState;u!==f||d!==h||Ol.current||_a?("function"==typeof p&&(Da(t,n,p,r),h=t.memoizedState),(s=_a||Ia(t,n,s,r,d,h,i))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,i),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,i)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=i,r=s):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return fu(e,t,n,r,a,l)}function fu(e,t,n,r,l,a){iu(e,t);var o=0!=(64&t.flags);if(!r&&!o)return l&&Bl(t,n,!1),Cu(e,t,a);r=t.stateNode,tu.current=t;var u=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,u,a)):ru(e,t,u,a),t.memoizedState=r.state,l&&Bl(t,n,!0),t.child}function du(e){var t=e.stateNode;t.pendingContext?Ul(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ul(e,t.context,!1),Za(e,t.containerInfo)}var pu,hu,mu,gu,vu={dehydrated:null,retryLane:0};function yu(e,t,n){var r,l=t.pendingProps,a=no.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=1),Ll(no,1&a),null===e?(void 0!==l.fallback&&so(t),e=l.children,a=l.fallback,o?(e=bu(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=vu,e):"number"==typeof l.unstable_expectedLoadTime?(e=bu(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=vu,t.lanes=33554432,e):((n=vs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(l=ku(e,t,l.children,l.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=vu,l):(n=wu(e,t,l.children,n),t.memoizedState=null,n))}function bu(e,t,n,r){var l=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&l)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=vs(t,l,0,null),n=gs(n,l,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function wu(e,t,n,r){var l=e.child;return e=l.sibling,n=hs(l,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ku(e,t,n,r,l){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0==(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=hs(o,u),null!==e?r=hs(e,r):(r=gs(r,a,l,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Su(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ea(e.return,t)}function Eu(e,t,n,r,l,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l,o.lastEffect=a)}function xu(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(ru(e,t,r.children,n),0!=(2&(r=no.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Su(e,n);else if(19===e.tag)Su(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ll(no,r),0==(2&t.mode))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;null!==n;)null!==(e=n.alternate)&&null===ro(e)&&(l=n),n=n.sibling;null===(n=l)?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Eu(t,!1,l,n,a,t.lastEffect);break;case"backwards":for(n=null,l=t.child,t.child=null;null!==l;){if(null!==(e=l.alternate)&&null===ro(e)){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Eu(t,!0,n,null,a,t.lastEffect);break;case"together":Eu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Cu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ui|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function _u(e,t){if(!oo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nu(e,n,l){var o=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fl(n.type)&&Il(),null;case 3:return Ja(),zl(Ol),zl(Ml),mo(),(o=n.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(fo(n)?n.flags|=4:o.hydrate||(n.flags|=256)),hu(n),null;case 5:to(n);var u=Ga(Xa.current);if(l=n.type,null!==e&&null!=n.stateNode)mu(e,n,l,o,u),e.ref!==n.ref&&(n.flags|=128);else{if(!o){if(null===n.stateNode)throw Error(r(166));return null}if(e=Ga(Ka.current),fo(n)){o=n.stateNode,l=n.type;var i=n.memoizedProps;switch(o[vl]=n,o[yl]=i,l){case"dialog":Kr("cancel",o),Kr("close",o);break;case"iframe":case"object":case"embed":Kr("load",o);break;case"video":case"audio":for(e=0;e<Hr.length;e++)Kr(Hr[e],o);break;case"source":Kr("error",o);break;case"img":case"image":case"link":Kr("error",o),Kr("load",o);break;case"details":Kr("toggle",o);break;case"input":te(o,i),Kr("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Kr("invalid",o);break;case"textarea":ce(o,i),Kr("invalid",o)}for(var s in xe(l,i),e=null,i)i.hasOwnProperty(s)&&(u=i[s],"children"===s?"string"==typeof u?o.textContent!==u&&(e=["children",u]):"number"==typeof u&&o.textContent!==""+u&&(e=["children",""+u]):a.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&Kr("scroll",o));switch(l){case"input":G(o),le(o,i,!0);break;case"textarea":G(o),de(o);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(o.onclick=ll)}o=e,n.updateQueue=o,null!==o&&(n.flags|=4)}else{switch(s=9===u.nodeType?u:u.ownerDocument,e===pe.html&&(e=he(l)),e===pe.html?"script"===l?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=s.createElement(l,{is:o.is}):(e=s.createElement(l),"select"===l&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,l),e[vl]=n,e[yl]=o,pu(e,n,!1,!1),n.stateNode=e,s=Ce(l,o),l){case"dialog":Kr("cancel",e),Kr("close",e),u=o;break;case"iframe":case"object":case"embed":Kr("load",e),u=o;break;case"video":case"audio":for(u=0;u<Hr.length;u++)Kr(Hr[u],e);u=o;break;case"source":Kr("error",e),u=o;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),u=o;break;case"details":Kr("toggle",e),u=o;break;case"input":te(e,o),u=ee(e,o),Kr("invalid",e);break;case"option":u=ue(e,o);break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=t({},o,{value:void 0}),Kr("invalid",e);break;case"textarea":ce(e,o),u=se(e,o),Kr("invalid",e);break;default:u=o}xe(l,u);var c=u;for(i in c)if(c.hasOwnProperty(i)){var f=c[i];"style"===i?Se(e,f):"dangerouslySetInnerHTML"===i?null!=(f=f?f.__html:void 0)&&ve(e,f):"children"===i?"string"==typeof f?("textarea"!==l||""!==f)&&ye(e,f):"number"==typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(a.hasOwnProperty(i)?null!=f&&"onScroll"===i&&Kr("scroll",e):null!=f&&w(e,i,f,s))}switch(l){case"input":G(e),le(e,o,!1);break;case"textarea":G(e),de(e);break;case"option":null!=o.value&&e.setAttribute("value",""+K(o.value));break;case"select":e.multiple=!!o.multiple,null!=(i=o.value)?ie(e,!!o.multiple,i,!1):null!=o.defaultValue&&ie(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=ll)}ul(l,o)&&(n.flags|=4)}null!==n.ref&&(n.flags|=128)}return null;case 6:if(e&&null!=n.stateNode)gu(e,n,e.memoizedProps,o);else{if("string"!=typeof o&&null===n.stateNode)throw Error(r(166));l=Ga(Xa.current),Ga(Ka.current),fo(n)?(o=n.stateNode,l=n.memoizedProps,o[vl]=n,o.nodeValue!==l&&(n.flags|=4)):((o=(9===l.nodeType?l:l.ownerDocument).createTextNode(o))[vl]=n,n.stateNode=o)}return null;case 13:return zl(no),o=n.memoizedState,0!=(64&n.flags)?(n.lanes=l,n):(o=null!==o,l=!1,null===e?void 0!==n.memoizedProps.fallback&&fo(n):l=null!==e.memoizedState,o&&!l&&0!=(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&no.current)?0===li&&(li=3):(0!==li&&3!==li||(li=4),null===Ju||0==(134217727&ui)&&0==(134217727&ii)||Ui(Ju,ti))),(o||l)&&(n.flags|=4),null);case 4:return Ja(),hu(n),null===e&&Xr(n.stateNode.containerInfo),null;case 10:return Sa(n),null;case 17:return Fl(n.type)&&Il(),null;case 19:if(zl(no),null===(o=n.memoizedState))return null;if(i=0!=(64&n.flags),null===(s=o.rendering))if(i)_u(o,!1);else{if(0!==li||null!==e&&0!=(64&e.flags))for(e=n.child;null!==e;){if(null!==(s=ro(e))){for(n.flags|=64,_u(o,!1),null!==(i=s.updateQueue)&&(n.updateQueue=i,n.flags|=4),null===o.lastEffect&&(n.firstEffect=null),n.lastEffect=o.lastEffect,o=l,l=n.child;null!==l;)e=o,(i=l).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return Ll(no,1&no.current|2),n.child}e=e.sibling}null!==o.tail&&ia()>di&&(n.flags|=64,i=!0,_u(o,!1),n.lanes=33554432)}else{if(!i)if(null!==(e=ro(s))){if(n.flags|=64,i=!0,null!==(l=e.updateQueue)&&(n.updateQueue=l,n.flags|=4),_u(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!oo)return null!==(n=n.lastEffect=o.lastEffect)&&(n.nextEffect=null),null}else 2*ia()-o.renderingStartTime>di&&1073741824!==l&&(n.flags|=64,i=!0,_u(o,!1),n.lanes=33554432);o.isBackwards?(s.sibling=n.child,n.child=s):(null!==(l=o.last)?l.sibling=s:n.child=s,o.last=s)}return null!==o.tail?(l=o.tail,o.rendering=l,o.tail=l.sibling,o.lastEffect=n.lastEffect,o.renderingStartTime=ia(),l.sibling=null,n=no.current,Ll(no,i?1&n|2:1&n),l):null;case 23:case 24:return Hi(),null!==e&&null!==e.memoizedState!=(null!==n.memoizedState)&&"unstable-defer-without-hiding"!==o.mode&&(n.flags|=4),null}throw Error(r(156,n.tag))}function Pu(e){switch(e.tag){case 1:Fl(e.type)&&Il();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ja(),zl(Ol),zl(Ml),mo(),0!=(64&(t=e.flags)))throw Error(r(285));return e.flags=-4097&t|64,e;case 5:return to(e),null;case 13:return zl(no),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return zl(no),null;case 4:return Ja(),null;case 10:return Sa(e),null;case 23:case 24:return Hi(),null;default:return null}}function zu(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var l=n}catch(a){l="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:l}}function Lu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},hu=function(){},mu=function(e,n,r,l){var o=e.memoizedProps;if(o!==l){e=n.stateNode,Ga(Ka.current);var u,i=null;switch(r){case"input":o=ee(e,o),l=ee(e,l),i=[];break;case"option":o=ue(e,o),l=ue(e,l),i=[];break;case"select":o=t({},o,{value:void 0}),l=t({},l,{value:void 0}),i=[];break;case"textarea":o=se(e,o),l=se(e,l),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof l.onClick&&(e.onclick=ll)}for(f in xe(r,l),r=null,o)if(!l.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var s=o[f];for(u in s)s.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(a.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in l){var c=l[f];if(s=null!=o?o[f]:void 0,l.hasOwnProperty(f)&&c!==s&&(null!=c||null!=s))if("style"===f)if(s){for(u in s)!s.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in c)c.hasOwnProperty(u)&&s[u]!==c[u]&&(r||(r={}),r[u]=c[u])}else r||(i||(i=[]),i.push(f,r)),r=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(f,c)):"children"===f?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(a.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Kr("scroll",e),i||s===c||(i=[])):"object"==typeof c&&null!==c&&c.$$typeof===D?c.toString():(i=i||[]).push(f,c))}r&&(i=i||[]).push("style",r);var f=i;(n.updateQueue=f)&&(n.flags|=4)}},gu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Tu="function"==typeof WeakMap?WeakMap:Map;function Mu(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gi||(gi=!0,vi=r),Lu(e,t)},n}function Ou(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=t.value;n.payload=function(){return Lu(e,t),r(l)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===yi?yi=new Set([this]):yi.add(this),Lu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ru="function"==typeof WeakSet?WeakSet:Set;function Du(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){us(e,n)}else t.current=null}function Fu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,l=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ga(t.type,n),l),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&fl(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(r(163))}function Iu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var l=e.create;e.destroy=l()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;l=a.next,0!=(4&(a=a.tag))&&0!=(1&a)&&(ls(n,e),rs(n,e)),e=l}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(l=n.elementType===n.type?t.memoizedProps:ga(n.type,t.memoizedProps),e.componentDidUpdate(l,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Oa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Oa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ul(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(r(163))}function Uu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var l=n.memoizedProps.style;l=null!=l&&l.hasOwnProperty("display")?l.display:null,r.style.display=ke("display",l)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Vu(e,t){if(Ql&&"function"==typeof Ql.onCommitFiberUnmount)try{Ql.onCommitFiberUnmount(Wl,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,l=r.destroy;if(r=r.tag,void 0!==l)if(0!=(4&r))ls(t,n);else{r=t;try{l()}catch(a){us(r,a)}}n=n.next}while(n!==e)}break;case 1:if(Du(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){us(t,a)}break;case 5:Du(t);break;case 4:ju(e,t)}}function Au(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Bu(e){return 5===e.tag||3===e.tag||4===e.tag}function Wu(e){e:{for(var t=e.return;null!==t;){if(Bu(t))break e;t=t.return}throw Error(r(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var l=!1;break;case 3:case 4:t=t.containerInfo,l=!0;break;default:throw Error(r(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}l?Qu(e,n,t):Hu(e,n,t)}function Qu(e,t,n){var r=e.tag,l=5===r||6===r;if(l)e=l?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ll));else if(4!==r&&null!==(e=e.child))for(Qu(e,t,n),e=e.sibling;null!==e;)Qu(e,t,n),e=e.sibling}function Hu(e,t,n){var r=e.tag,l=5===r||6===r;if(l)e=l?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Hu(e,t,n),e=e.sibling;null!==e;)Hu(e,t,n),e=e.sibling}function ju(e,t){for(var n,l,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(r(160));switch(n=o.stateNode,o.tag){case 5:l=!1;break e;case 3:case 4:n=n.containerInfo,l=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var u=e,i=a,s=i;;)if(Vu(u,s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break e;for(;null===s.sibling;){if(null===s.return||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}l?(u=n,i=a.stateNode,8===u.nodeType?u.parentNode.removeChild(i):u.removeChild(i)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,l=!0,a.child.return=a,a=a.child;continue}}else if(Vu(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function $u(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var l=n=n.next;do{3==(3&l.tag)&&(e=l.destroy,l.destroy=void 0,void 0!==e&&e()),l=l.next}while(l!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){l=t.memoizedProps;var a=null!==e?e.memoizedProps:l;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[yl]=l,"input"===e&&"radio"===l.type&&null!=l.name&&ne(n,l),Ce(e,a),t=Ce(e,l),a=0;a<o.length;a+=2){var u=o[a],i=o[a+1];"style"===u?Se(n,i):"dangerouslySetInnerHTML"===u?ve(n,i):"children"===u?ye(n,i):w(n,u,i,t)}switch(e){case"input":re(n,l);break;case"textarea":fe(n,l);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!l.multiple,null!=(o=l.value)?ie(n,!!l.multiple,o,!1):e!==!!l.multiple&&(null!=l.defaultValue?ie(n,!!l.multiple,l.defaultValue,!0):ie(n,!!l.multiple,l.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(fi=ia(),Uu(t.child,!0)),void qu(t);case 19:return void qu(t);case 17:return;case 23:case 24:return void Uu(t,null!==t.memoizedState)}throw Error(r(163))}function qu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ru),t.forEach(function(t){var r=ss.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Ku(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Yu=Math.ceil,Xu=k.ReactCurrentDispatcher,Gu=k.ReactCurrentOwner,Zu=0,Ju=null,ei=null,ti=0,ni=0,ri=Pl(0),li=0,ai=null,oi=0,ui=0,ii=0,si=0,ci=null,fi=0,di=1/0;function pi(){di=ia()+500}var hi,mi=null,gi=!1,vi=null,yi=null,bi=!1,wi=null,ki=90,Si=[],Ei=[],xi=null,Ci=0,_i=null,Ni=-1,Pi=0,zi=0,Li=null,Ti=!1;function Mi(){return 0!=(48&Zu)?ia():-1!==Ni?Ni:Ni=ia()}function Oi(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===sa()?1:2;if(0===Pi&&(Pi=oi),0!==ma.transition){0!==zi&&(zi=null!==ci?ci.pendingLanes:0),e=Pi;var t=4186112&~zi;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=sa(),0!=(4&Zu)&&98===e?e=qt(12,Pi):e=qt(e=Qt(e),Pi),e}function Ri(e,t,n){if(50<Ci)throw Ci=0,_i=null,Error(r(185));if(null===(e=Di(e,t)))return null;Xt(e,t,n),e===Ju&&(ii|=t,4===li&&Ui(e,ti));var l=sa();1===t?0!=(8&Zu)&&0==(48&Zu)?Vi(e):(Fi(e,n),0===Zu&&(pi(),pa())):(0==(4&Zu)||98!==l&&99!==l||(null===xi?xi=new Set([e]):xi.add(e)),Fi(e,n)),ci=e}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Fi(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-Gt(o),i=1<<u,s=a[u];if(-1===s){if(0==(i&r)||0!=(i&l)){s=t,Wt(i);var c=Bt;a[u]=10<=c?s+250:6<=c?s+5e3:-1}}else s<=t&&(e.expiredLanes|=i);o&=~i}if(r=jt(e,e===Ju?ti:0),t=Bt,0===r)null!==n&&(n!==na&&$l(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==na&&$l(n)}15===t?(n=Vi.bind(null,e),null===la?(la=[n],aa=jl(Gl,ha)):la.push(n),n=na):14===t?n=da(99,Vi.bind(null,e)):n=da(n=Ht(t),Ii.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Ii(e){if(Ni=-1,zi=Pi=0,0!=(48&Zu))throw Error(r(327));var t=e.callbackNode;if(ns()&&e.callbackNode!==t)return null;var n=jt(e,e===Ju?ti:0);if(0===n)return null;var l=n,a=Zu;Zu|=16;var o=qi();for(Ju===e&&ti===l||(pi(),ji(e,l));;)try{Xi();break}catch(i){$i(e,i)}if(ka(),Xu.current=o,Zu=a,null!==ei?l=0:(Ju=null,ti=0,l=li),0!=(oi&ii))ji(e,0);else if(0!==l){if(2===l&&(Zu|=64,e.hydrate&&(e.hydrate=!1,fl(e.containerInfo)),0!==(n=$t(e))&&(l=Ki(e,n))),1===l)throw t=ai,ji(e,0),Ui(e,n),Fi(e,ia()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,l){case 0:case 1:throw Error(r(345));case 2:Ji(e);break;case 3:if(Ui(e,n),(62914560&n)===n&&10<(l=fi+500-ia())){if(0!==jt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){Mi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=sl(Ji.bind(null,e),l);break}Ji(e);break;case 4:if(Ui(e,n),(4186112&n)===n)break;for(l=e.eventTimes,a=-1;0<n;){var u=31-Gt(n);o=1<<u,(u=l[u])>a&&(a=u),n&=~o}if(n=a,10<(n=(120>(n=ia()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yu(n/1960))-n)){e.timeoutHandle=sl(Ji.bind(null,e),n);break}Ji(e);break;case 5:Ji(e);break;default:throw Error(r(329))}}return Fi(e,ia()),e.callbackNode===t?Ii.bind(null,e):null}function Ui(e,t){for(t&=~si,t&=~ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function Vi(e){if(0!=(48&Zu))throw Error(r(327));if(ns(),e===Ju&&0!=(e.expiredLanes&ti)){var t=ti,n=Ki(e,t);0!=(oi&ii)&&(n=Ki(e,t=jt(e,t)))}else n=Ki(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Zu|=64,e.hydrate&&(e.hydrate=!1,fl(e.containerInfo)),0!==(t=$t(e))&&(n=Ki(e,t))),1===n)throw n=ai,ji(e,0),Ui(e,t),Fi(e,ia()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ji(e),Fi(e,ia()),null}function Ai(){if(null!==xi){var e=xi;xi=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Fi(e,ia())})}pa()}function Bi(e,t){var n=Zu;Zu|=1;try{return e(t)}finally{0===(Zu=n)&&(pi(),pa())}}function Wi(e,t){var n=Zu;Zu&=-2,Zu|=8;try{return e(t)}finally{0===(Zu=n)&&(pi(),pa())}}function Qi(e,t){Ll(ri,ni),ni|=t,oi|=t}function Hi(){ni=ri.current,zl(ri)}function ji(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,cl(n)),null!==ei)for(n=ei.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Il();break;case 3:Ja(),zl(Ol),zl(Ml),mo();break;case 5:to(r);break;case 4:Ja();break;case 13:case 19:zl(no);break;case 10:Sa(r);break;case 23:case 24:Hi()}n=n.return}Ju=e,ei=hs(e.current,null),ti=ni=oi=t,li=0,ai=null,si=ii=ui=0}function $i(e,t){for(;;){var n=ei;try{if(ka(),go.current=Go,So){for(var r=bo.memoizedState;null!==r;){var l=r.queue;null!==l&&(l.pending=null),r=r.next}So=!1}if(yo=0,ko=wo=bo=null,Eo=!1,Gu.current=null,null===n||null===n.return){li=1,ai=t,ei=null;break}e:{var a=e,o=n.return,u=n,i=t;if(t=ti,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var s=i;if(0==(2&u.mode)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!=(1&no.current),d=o;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(p){var g=d.updateQueue;if(null===g){var v=new Set;v.add(s),d.updateQueue=v}else g.add(s);if(0==(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=za(-1,1);y.tag=2,La(u,y)}u.lanes|=1;break e}i=void 0,u=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new Tu,i=new Set,b.set(s,i)):void 0===(i=b.get(s))&&(i=new Set,b.set(s,i)),!i.has(u)){i.add(u);var w=is.bind(null,a,s,u);s.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);i=Error((q(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==li&&(li=2),i=zu(i,u),d=o;do{switch(d.tag){case 3:a=i,d.flags|=4096,t&=-t,d.lanes|=t,Ta(d,Mu(d,a,t));break e;case 1:a=i;var k=d.type,S=d.stateNode;if(0==(64&d.flags)&&("function"==typeof k.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===yi||!yi.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,Ta(d,Ou(d,a,t));break e}}d=d.return}while(null!==d)}Zi(n)}catch(E){t=E,ei===n&&null!==n&&(ei=n=n.return);continue}break}}function qi(){var e=Xu.current;return Xu.current=Go,null===e?Go:e}function Ki(e,t){var n=Zu;Zu|=16;var l=qi();for(Ju===e&&ti===t||ji(e,t);;)try{Yi();break}catch(a){$i(e,a)}if(ka(),Zu=n,Xu.current=l,null!==ei)throw Error(r(261));return Ju=null,ti=0,li}function Yi(){for(;null!==ei;)Gi(ei)}function Xi(){for(;null!==ei&&!ql();)Gi(ei)}function Gi(e){var t=hi(e.alternate,e,ni);e.memoizedProps=e.pendingProps,null===t?Zi(e):ei=t,Gu.current=null}function Zi(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=Nu(n,t,ni)))return void(ei=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&ni)||0==(4&n.mode)){for(var r=0,l=n.child;null!==l;)r|=l.lanes|l.childLanes,l=l.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Pu(t)))return n.flags&=2047,void(ei=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ei=t);ei=t=e}while(null!==t);0===li&&(li=5)}function Ji(e){var t=sa();return fa(99,es.bind(null,e,t)),null}function es(e,t){do{ns()}while(null!==wi);if(0!=(48&Zu))throw Error(r(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null;var l=n.lanes|n.childLanes,a=l,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var u=e.eventTimes,i=e.expirationTimes;0<o;){var s=31-Gt(o),c=1<<s;a[s]=0,u[s]=-1,i[s]=-1,o&=~c}if(null!==xi&&0==(24&l)&&xi.has(e)&&xi.delete(e),e===Ju&&(ei=Ju=null,ti=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,l=n.firstEffect):l=n:l=n.firstEffect,null!==l){if(a=Zu,Zu|=32,Gu.current=null,al=rn,Dr(u=Rr())){if("selectionStart"in u)i={start:u.selectionStart,end:u.selectionEnd};else e:if(i=(i=u.ownerDocument)&&i.defaultView||window,(c=i.getSelection&&i.getSelection())&&0!==c.rangeCount){i=c.anchorNode,o=c.anchorOffset,s=c.focusNode,c=c.focusOffset;try{i.nodeType,s.nodeType}catch(_){i=null;break e}var f=0,d=-1,p=-1,h=0,m=0,g=u,v=null;t:for(;;){for(var y;g!==i||0!==o&&3!==g.nodeType||(d=f+o),g!==s||0!==c&&3!==g.nodeType||(p=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===u)break t;if(v===i&&++h===o&&(d=f),v===s&&++m===c&&(p=f),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}i=-1===d||-1===p?null:{start:d,end:p}}else i=null;i=i||{start:0,end:0}}else i=null;ol={focusedElem:u,selectionRange:i},rn=!1,Li=null,Ti=!1,mi=l;do{try{ts()}catch(_){if(null===mi)throw Error(r(330));us(mi,_),mi=mi.nextEffect}}while(null!==mi);Li=null,mi=l;do{try{for(u=e;null!==mi;){var b=mi.flags;if(16&b&&ye(mi.stateNode,""),128&b){var w=mi.alternate;if(null!==w){var k=w.ref;null!==k&&("function"==typeof k?k(null):k.current=null)}}switch(1038&b){case 2:Wu(mi),mi.flags&=-3;break;case 6:Wu(mi),mi.flags&=-3,$u(mi.alternate,mi);break;case 1024:mi.flags&=-1025;break;case 1028:mi.flags&=-1025,$u(mi.alternate,mi);break;case 4:$u(mi.alternate,mi);break;case 8:ju(u,i=mi);var S=i.alternate;Au(i),null!==S&&Au(S)}mi=mi.nextEffect}}catch(_){if(null===mi)throw Error(r(330));us(mi,_),mi=mi.nextEffect}}while(null!==mi);if(k=ol,w=Rr(),b=k.focusedElem,u=k.selectionRange,w!==b&&b&&b.ownerDocument&&Or(b.ownerDocument.documentElement,b)){null!==u&&Dr(b)&&(w=u.start,void 0===(k=u.end)&&(k=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(k,b.value.length)):(k=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),i=b.textContent.length,S=Math.min(u.start,i),u=void 0===u.end?S:Math.min(u.end,i),!k.extend&&S>u&&(i=u,u=S,S=i),i=Mr(b,S),o=Mr(b,u),i&&o&&(1!==k.rangeCount||k.anchorNode!==i.node||k.anchorOffset!==i.offset||k.focusNode!==o.node||k.focusOffset!==o.offset)&&((w=w.createRange()).setStart(i.node,i.offset),k.removeAllRanges(),S>u?(k.addRange(w),k.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),k.addRange(w))))),w=[];for(k=b;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(k=w[b]).element.scrollLeft=k.left,k.element.scrollTop=k.top}rn=!!al,ol=al=null,e.current=n,mi=l;do{try{for(b=e;null!==mi;){var E=mi.flags;if(36&E&&Iu(b,mi.alternate,mi),128&E){w=void 0;var x=mi.ref;if(null!==x){var C=mi.stateNode;switch(mi.tag){case 5:w=C;break;default:w=C}"function"==typeof x?x(w):x.current=w}}mi=mi.nextEffect}}catch(_){if(null===mi)throw Error(r(330));us(mi,_),mi=mi.nextEffect}}while(null!==mi);mi=null,ra(),Zu=a}else e.current=n;if(bi)bi=!1,wi=e,ki=t;else for(mi=l;null!==mi;)t=mi.nextEffect,mi.nextEffect=null,8&mi.flags&&((E=mi).sibling=null,E.stateNode=null),mi=t;if(0===(l=e.pendingLanes)&&(yi=null),1===l?e===_i?Ci++:(Ci=0,_i=e):Ci=0,n=n.stateNode,Ql&&"function"==typeof Ql.onCommitFiberRoot)try{Ql.onCommitFiberRoot(Wl,n,void 0,64==(64&n.current.flags))}catch(_){}if(Fi(e,ia()),gi)throw gi=!1,e=vi,vi=null,e;return 0!=(8&Zu)?null:(pa(),null)}function ts(){for(;null!==mi;){var e=mi.alternate;Ti||null===Li||(0!=(8&mi.flags)?rt(mi,Li)&&(Ti=!0):13===mi.tag&&Ku(e,mi)&&rt(mi,Li)&&(Ti=!0));var t=mi.flags;0!=(256&t)&&Fu(e,mi),0==(512&t)||bi||(bi=!0,da(97,function(){return ns(),null})),mi=mi.nextEffect}}function ns(){if(90!==ki){var e=97<ki?97:ki;return ki=90,fa(e,as)}return!1}function rs(e,t){Si.push(t,e),bi||(bi=!0,da(97,function(){return ns(),null}))}function ls(e,t){Ei.push(t,e),bi||(bi=!0,da(97,function(){return ns(),null}))}function as(){if(null===wi)return!1;var e=wi;if(wi=null,0!=(48&Zu))throw Error(r(331));var t=Zu;Zu|=32;var n=Ei;Ei=[];for(var l=0;l<n.length;l+=2){var a=n[l],o=n[l+1],u=a.destroy;if(a.destroy=void 0,"function"==typeof u)try{u()}catch(s){if(null===o)throw Error(r(330));us(o,s)}}for(n=Si,Si=[],l=0;l<n.length;l+=2){a=n[l],o=n[l+1];try{var i=a.create;a.destroy=i()}catch(s){if(null===o)throw Error(r(330));us(o,s)}}for(i=e.current.firstEffect;null!==i;)e=i.nextEffect,i.nextEffect=null,8&i.flags&&(i.sibling=null,i.stateNode=null),i=e;return Zu=t,pa(),!0}function os(e,t,n){La(e,t=Mu(e,t=zu(n,t),1)),t=Mi(),null!==(e=Di(e,1))&&(Xt(e,1,t),Fi(e,t))}function us(e,t){if(3===e.tag)os(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){os(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===yi||!yi.has(r))){var l=Ou(n,e=zu(t,e),1);if(La(n,l),l=Mi(),null!==(n=Di(n,1)))Xt(n,1,l),Fi(n,l);else if("function"==typeof r.componentDidCatch&&(null===yi||!yi.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function is(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Mi(),e.pingedLanes|=e.suspendedLanes&n,Ju===e&&(ti&n)===n&&(4===li||3===li&&(62914560&ti)===ti&&500>ia()-fi?ji(e,0):si|=n),Fi(e,t)}function ss(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===sa()?1:2:(0===Pi&&(Pi=oi),0===(t=Kt(62914560&~Pi))&&(t=4194304))),n=Mi(),null!==(e=Di(e,t))&&(Xt(e,t,n),Fi(e,n))}function cs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(e,t,n,r){return new cs(e,t,n,r)}function ds(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ps(e){if("function"==typeof e)return ds(e)?1:0;if(null!=e){if((e=e.$$typeof)===z)return 11;if(e===M)return 14}return 2}function hs(e,t){var n=e.alternate;return null===n?((n=fs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ms(e,t,n,l,a,o){var u=2;if(l=e,"function"==typeof e)ds(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case x:return gs(n.children,a,o,t);case F:u=8,a|=16;break;case C:u=8,a|=1;break;case _:return(e=fs(12,n,t,8|a)).elementType=_,e.type=_,e.lanes=o,e;case L:return(e=fs(13,n,t,a)).type=L,e.elementType=L,e.lanes=o,e;case T:return(e=fs(19,n,t,a)).elementType=T,e.lanes=o,e;case I:return vs(n,a,o,t);case U:return(e=fs(24,n,t,a)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:u=10;break e;case P:u=9;break e;case z:u=11;break e;case M:u=14;break e;case O:u=16,l=null;break e;case R:u=22;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=fs(u,n,t,a)).elementType=e,t.type=l,t.lanes=o,t}function gs(e,t,n,r){return(e=fs(7,e,r,t)).lanes=n,e}function vs(e,t,n,r){return(e=fs(23,e,r,t)).elementType=I,e.lanes=n,e}function ys(e,t,n){return(e=fs(6,e,null,t)).lanes=n,e}function bs(e,t,n){return(t=fs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ws(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Yt(0),this.expirationTimes=Yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.mutableSourceEagerHydrationData=null}function ks(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ss(e,t,n,l){var a=t.current,o=Mi(),u=Oi(a);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break t;case 1:if(Fl(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break t}}i=i.return}while(null!==i);throw Error(r(171))}if(1===n.tag){var s=n.type;if(Fl(s)){n=Vl(n,s,i);break e}}n=i}else n=Tl;return null===t.context?t.context=n:t.pendingContext=n,(t=za(o,u)).payload={element:e},null!==(l=void 0===l?null:l)&&(t.callback=l),La(a,t),Ri(a,u,o),u}function Es(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function xs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Cs(e,t){xs(e,t),(e=e.alternate)&&xs(e,t)}function _s(){return null}function Ns(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new ws(e,t,null!=n&&!0===n.hydrate),t=fs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Na(t),e[bl]=n.current,Xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var l=(t=r[e])._getVersion;l=l(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,l]:n.mutableSourceEagerHydrationData.push(t,l)}this._internalRoot=n}function Ps(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zs(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ns(e,0,t?{hydrate:!0}:void 0)}function Ls(e,t,n,r,l){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof l){var u=l;l=function(){var e=Es(o);u.call(e)}}Ss(t,o,e,l)}else{if(a=n._reactRootContainer=zs(n,r),o=a._internalRoot,"function"==typeof l){var i=l;l=function(){var e=Es(o);i.call(e)}}Wi(function(){Ss(t,o,e,l)})}return Es(o)}function Ts(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ps(t))throw Error(r(200));return ks(e,t,null,n)}hi=function(e,t,n){var l=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Ol.current)nu=!0;else{if(0==(n&l)){switch(nu=!1,t.tag){case 3:du(t),po();break;case 5:eo(t);break;case 1:Fl(t.type)&&Al(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:l=t.memoizedProps.value;var a=t.type._context;Ll(va,a._currentValue),a._currentValue=l;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?yu(e,t,n):(Ll(no,1&no.current),null!==(t=Cu(e,t,n))?t.sibling:null);Ll(no,1&no.current);break;case 19:if(l=0!=(n&t.childLanes),0!=(64&e.flags)){if(l)return xu(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ll(no,no.current),l)break;return null;case 23:case 24:return t.lanes=0,uu(e,t,n)}return Cu(e,t,n)}nu=0!=(16384&e.flags)}else nu=!1;switch(t.lanes=0,t.tag){case 2:if(l=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=Dl(t,Ml.current),xa(t,n),a=_o(null,t,l,e,a,n),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fl(l)){var o=!0;Al(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Na(t);var u=l.getDerivedStateFromProps;"function"==typeof u&&Da(t,l,u,e),a.updater=Fa,t.stateNode=a,a._reactInternals=t,Aa(t,l,e,n),t=fu(null,t,l,!0,o,n)}else t.tag=0,ru(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=ps(a),e=ga(a,e),o){case 0:t=su(null,t,a,e,n);break e;case 1:t=cu(null,t,a,e,n);break e;case 11:t=lu(null,t,a,e,n);break e;case 14:t=au(null,t,a,ga(a.type,e),l,n);break e}throw Error(r(306,a,""))}return t;case 0:return l=t.type,a=t.pendingProps,su(e,t,l,a=t.elementType===l?a:ga(l,a),n);case 1:return l=t.type,a=t.pendingProps,cu(e,t,l,a=t.elementType===l?a:ga(l,a),n);case 3:if(du(t),l=t.updateQueue,null===e||null===l)throw Error(r(282));if(l=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,Pa(e,t),Ma(t,l,null,n),(l=t.memoizedState.element)===a)po(),t=Cu(e,t,n);else{if((o=(a=t.stateNode).hydrate)&&(ao=dl(t.stateNode.containerInfo.firstChild),lo=t,o=oo=!0),o){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(o=e[a])._workInProgressVersionPrimary=e[a+1],ho.push(o);for(n=$a(t,null,l,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ru(e,t,l,n),po();t=t.child}return t;case 5:return eo(t),null===e&&so(t),l=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,u=a.children,il(l,a)?u=null:null!==o&&il(l,o)&&(t.flags|=16),iu(e,t),ru(e,t,u,n),t.child;case 6:return null===e&&so(t),null;case 13:return yu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),l=t.pendingProps,null===e?t.child=ja(t,null,l,n):ru(e,t,l,n),t.child;case 11:return l=t.type,a=t.pendingProps,lu(e,t,l,a=t.elementType===l?a:ga(l,a),n);case 7:return ru(e,t,t.pendingProps,n),t.child;case 8:case 12:return ru(e,t,t.pendingProps.children,n),t.child;case 10:e:{l=t.type._context,a=t.pendingProps,u=t.memoizedProps,o=a.value;var i=t.type._context;if(Ll(va,i._currentValue),i._currentValue=o,null!==u)if(i=u.value,0===(o=Pr(i,o)?0:0|("function"==typeof l._calculateChangedBits?l._calculateChangedBits(i,o):1073741823))){if(u.children===a.children&&!Ol.current){t=Cu(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){u=i.child;for(var c=s.firstContext;null!==c;){if(c.context===l&&0!=(c.observedBits&o)){1===i.tag&&((c=za(-1,n&-n)).tag=2,La(i,c)),i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ea(i.return,n),s.lanes|=n;break}c=c.next}}else u=10===i.tag&&i.type===t.type?null:i.child;if(null!==u)u.return=i;else for(u=i;null!==u;){if(u===t){u=null;break}if(null!==(i=u.sibling)){i.return=u.return,u=i;break}u=u.return}i=u}ru(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,l=(o=t.pendingProps).children,xa(t,n),l=l(a=Ca(a,o.unstable_observedBits)),t.flags|=1,ru(e,t,l,n),t.child;case 14:return o=ga(a=t.type,t.pendingProps),au(e,t,a,o=ga(a.type,o),l,n);case 15:return ou(e,t,t.type,t.pendingProps,l,n);case 17:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:ga(l,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Fl(l)?(e=!0,Al(t)):e=!1,xa(t,n),Ua(t,l,a),Aa(t,l,a,n),fu(null,t,l,!0,e,n);case 19:return xu(e,t,n);case 23:case 24:return uu(e,t,n)}throw Error(r(156,t.tag))},Ns.prototype.render=function(e){Ss(e,this._internalRoot,null,null)},Ns.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ss(null,e,null,function(){t[bl]=null})},lt=function(e){13===e.tag&&(Ri(e,4,Mi()),Cs(e,4))},at=function(e){13===e.tag&&(Ri(e,67108864,Mi()),Cs(e,67108864))},ot=function(e){if(13===e.tag){var t=Mi(),n=Oi(e);Ri(e,n,t),Cs(e,n)}},ut=function(e,t){return t()},Ne=function(e,t,n){switch(t){case"input":if(re(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var a=xl(l);if(!a)throw Error(r(90));Z(l),re(l,a)}}}break;case"textarea":fe(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Oe=Bi,Re=function(e,t,n,r,l){var a=Zu;Zu|=4;try{return fa(98,e.bind(null,t,n,r,l))}finally{0===(Zu=a)&&(pi(),pa())}},De=function(){0==(49&Zu)&&(Ai(),ns())},Fe=function(e,t){var n=Zu;Zu|=2;try{return e(t)}finally{0===(Zu=n)&&(pi(),pa())}};var Ms={Events:[Sl,El,xl,Te,Me,ns,{current:!1}]},Os={findFiberByHostInstance:kl,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Rs={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance||_s,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Wl=Ds.inject(Rs),Ql=Ds}catch(Fs){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ms,exports.createPortal=Ts,exports.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},exports.flushSync=function(e,t){var n=Zu;if(0!=(48&n))return e(t);Zu|=1;try{if(e)return fa(99,e.bind(null,t))}finally{Zu=n,pa()}},exports.hydrate=function(e,t,n){if(!Ps(t))throw Error(r(200));return Ls(null,e,t,!0,n)},exports.render=function(e,t,n){if(!Ps(t))throw Error(r(200));return Ls(null,e,t,!1,n)},exports.unmountComponentAtNode=function(e){if(!Ps(e))throw Error(r(40));return!!e._reactRootContainer&&(Wi(function(){Ls(null,null,e,!1,function(){e._reactRootContainer=null,e[bl]=null})}),!0)},exports.unstable_batchedUpdates=Bi,exports.unstable_createPortal=function(e,t){return Ts(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},exports.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!Ps(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Ls(e,t,n,!1,l)},exports.version="17.0.2";
},{"react":"HdMw","object-assign":"YOwE","scheduler":"IGIl"}],"X9zx":[function(require,module,exports) {
"use strict";function _(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(O){console.error(O)}}}_(),module.exports=require("./cjs/react-dom.production.min.js");
},{"./cjs/react-dom.production.min.js":"jF7N"}],"D9Nj":[function(require,module,exports) {

},{}],"ra5a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.a=o,exports.b=O,exports.c=I,exports.e=T,exports.f=r,exports.h=t,exports.i=L,exports.j=a,exports.k=n,exports.l=i,exports.m=P,exports.w=exports.u=exports.n=exports.g=exports.d=exports._=exports.S=exports.L=void 0;var e=_(require("react"));function _(e){return e&&e.__esModule?e:{default:e}}function t(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}function E(e,_){for(var t=0;t<_.length;t++){var E=_[t];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(e,E.key,E)}}function r(e,_,t){return _&&E(e.prototype,_),t&&E(e,t),e}function n(e,_,t){return _ in e?Object.defineProperty(e,_,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[_]=t,e}function N(e,_){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(e);_&&(E=E.filter(function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable})),t.push.apply(t,E)}return t}function o(e){for(var _=1;_<arguments.length;_++){var t=null!=arguments[_]?arguments[_]:{};_%2?N(Object(t),!0).forEach(function(_){n(e,_,t[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach(function(_){Object.defineProperty(e,_,Object.getOwnPropertyDescriptor(t,_))})}return e}function T(e,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(_&&_.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),_&&A(e,_)}function a(e){return exports.j=a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function A(e,_){return(A=Object.setPrototypeOf||function(e,_){return e.__proto__=_,e})(e,_)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,_){return!_||"object"!=typeof _&&"function"!=typeof _?i(e):_}function O(e,_){return s(e)||l(e,_)||C()}function I(e){return S(e)||c(e)||u()}function S(e){if(Array.isArray(e)){for(var _=0,t=new Array(e.length);_<e.length;_++)t[_]=e[_];return t}}function s(e){if(Array.isArray(e))return e}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function l(e,_){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var t=[],E=!0,r=!1,n=void 0;try{for(var N,o=e[Symbol.iterator]();!(E=(N=o.next()).done)&&(t.push(N.value),!_||t.length!==_);E=!0);}catch(T){r=!0,n=T}finally{try{E||null==o.return||o.return()}finally{if(r)throw n}}return t}}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var p=e.default.createContext();exports.S=p;var f=function(_,t){var E=function(E){return e.default.createElement(p.Consumer,null,function(r){t&&"function"!=typeof t&&console.warn("Second parameter to withSendbirdContext must be a pure function");var n=o({},t&&"function"==typeof t?t(r):r,{},E);return e.default.createElement(_,n)})},r=_.displayName||_.name||"Component";return E.displayName="SendbirdAware".concat(r),E};exports.w=f;var R=function(){return exports._=R=Object.assign||function(e){for(var _,t=1,E=arguments.length;t<E;t++)for(var r in _=arguments[t])Object.prototype.hasOwnProperty.call(_,r)&&(e[r]=_[r]);return e},R.apply(this,arguments)};function P(){for(var e=0,_=0,t=arguments.length;_<t;_++)e+=arguments[_].length;var E=Array(e),r=0;for(_=0;_<t;_++)for(var n=arguments[_],N=0,o=n.length;N<o;N++,r++)E[r]=n[N];return E}exports._=R;var D=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var _=16*Math.random()|0;return("x"===e?_:3&_|8).toString(16)})};exports.u=exports.n=D;var M=function(){return{en:{OPEN_CHANNEL_SETTINGS__OPERATOR_TITLE:"Channel Information",OPEN_CHANNEL_SETTINGS__OPERATOR_URL:"URL",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL:"Delete channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE:"Delete this channel",OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT:"Delete",OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE:"Participants",OPEN_CHANNEL_SETTINGS__EMPTY_LIST:"No participants yet",OPEN_CHANNEL_SETTINGS__SEE_ALL:"See all participants",OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE:"All participants",OPEN_CHANNEL_SETTINGS__NO_TITLE:"(No title)",OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS:"participants",TRYING_TO_CONNECT:"Trying to connect",USER_PROFILE__MESSAGE:"Message",USER_PROFILE__USER_ID:"User ID",EDIT_PROFILE__TITLE:"My profile",EDIT_PROFILE__IMAGE_LABEL:"Profile image",EDIT_PROFILE__IMAGE_UPLOAD:"Upload",EDIT_PROFILE__NICKNAME_LABEL:"Nickname",EDIT_PROFILE__NICKNAME_PLACEHOLDER:"Enter your nickname",EDIT_PROFILE__USERID_LABEL:"User ID",EDIT_PROFILE__THEME_LABEL:"Dark theme",CHANNEL_LIST__TITLE:"Channels",CHANNEL__MESSAGE_INPUT__PLACE_HOLDER:"Enter message",CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__DISABLED:"Chat is unavailable in this channel",CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__MUTED:"Chat is unavailable because you are being muted",CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE:"new message(s) since",CHANNEL__MESSAGE_LIST__NOTIFICATION__ON:"on",CHANNEL_SETTING__HEADER__TITLE:"Channel information",CHANNEL_SETTING__PROFILE__EDIT:"Edit",CHANNEL_SETTING__MEMBERS__TITLE:"Members",CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS:"All members",CHANNEL_SETTING__MEMBERS__INVITE_MEMBER:"Invite users",CHANNEL_SETTING__LEAVE_CHANNEL__TITLE:"Leave channel",CHANNEL_SETTING__OPERATORS__TITLE:"Operators",CHANNEL_SETTING__OPERATORS__TITLE_ALL:"All operators",CHANNEL_SETTING__OPERATORS__TITLE_ADD:"Add operator",CHANNEL_SETTING__MUTED_MEMBERS__TITLE:"Muted members",CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL:"All muted members",CHANNEL_SETTING__BANNED_MEMBERS__TITLE:"Banned members",CHANNEL_SETTING__BANNED_MEMBERS__TITLE_ALL:"All banned members",CHANNEL_SETTING__FREEZE_CHANNEL:"Freeze Channel",BUTTON__CANCEL:"Cancel",BUTTON__DELETE:"Delete",BUTTON__SAVE:"Save",BUTTON__CREATE:"Create",BUTTON__INVITE:"Invite",BUTTON__CLOSE:"Close",BADGE__OVER:"+",MODAL__DELETE_MESSAGE__TITLE:"Delete this message?",MODAL__CHANNEL_INFORMATION__TITLE:"Edit channel information",MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE:"Channel image",MODAL__CHANNEL_INFORMATION__UPLOAD:"Upload",MODAL__CHANNEL_INFORMATION__CHANNEL_NAME:"Channel name",MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER:"Enter name",MODAL__INVITE_MEMBER__TITLE:"Invite member",MODAL__INVITE_MEMBER__SELECTEC:"selected",MODAL__CREATE_CHANNEL__TITLE:"New channel",MODAL__CREATE_CHANNEL__SELECTED:"selected",MODAL__USER_LIST__TITLE:"members",TYPING_INDICATOR__IS_TYPING:"is typing...",TYPING_INDICATOR__AND:"and",TYPING_INDICATOR__ARE_TYPING:"are typing...",TYPING_INDICATOR__MULTIPLE_TYPING:"Several people are typing...",MESSAGE_STATUS__SENDING_FAILED:"Couldn't send message.",MESSAGE_STATUS__TRY_AGAIN:"Try again",MESSAGE_STATUS__OR:"or",MESSAGE_STATUS__DELETE:"delete",CHANNEL_FROZEN:"Channel frozen",MUTED_PL:"Channel frozen",PLACE_HOLDER__NO_CHANNEL:"No channels",PLACE_HOLDER__WRONG:"Something went wrong",PLACE_HOLDER__RETRY_TO_CONNECT:"Retry",PLACE_HOLDER__NO_MESSAGES:"No messages",NO_TITLE:"No title",NO_NAME:"(No name)",NO_MEMBERS:"(No members)",TOOLTIP__AND_YOU:", and you",TOOLTIP__YOU:"you",YOU:" (You)",TOOLTIP__UNKOWN_USER:"(no name)",UNKNOWN__UNKNOWN_MESSAGE_TYPE:"(Unknown message type)",UNKNOWN__CANNOT_READ_MESSAGE:"Cannot read this message.",MESSAGE_EDITED:"(edited)",CONTEXT_MENU_DROPDOWN__COPY:"Copy",CONTEXT_MENU_DROPDOWN__EDIT:"Edit",CONTEXT_MENU_DROPDOWN__RESEND:"Resend",CONTEXT_MENU_DROPDOWN__DELETE:"Delete",SEARCH:"Search",SEARCH_IN_CHANNEL:"Search in channel",SEARCH_IN:"Search in",SEARCHING:"Searching for messages...",NO_SEARCHED_MESSAGE:"No results found."}}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en"]};exports.g=M;var y=e.default.createContext({stringSet:M("en")});exports.d=y;var m=function(_){var t=_.children;return e.default.createElement(y.Provider,{value:_},t)};exports.L=m;
},{"react":"HdMw"}],"kgel":[function(require,module,exports) {
"use strict";var _="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=_;
},{}],"xON7":[function(require,module,exports) {
"use strict";var e=require("./lib/ReactPropTypesSecret");function r(){}function t(){}t.resetWarningCache=r,module.exports=function(){function n(r,t,n,o,a,p){if(p!==e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function o(){return n}n.isRequired=n;var a={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:r};return a.PropTypes=a,a};
},{"./lib/ReactPropTypesSecret":"kgel"}],"Iix9":[function(require,module,exports) {
var r,e;module.exports=require("./factoryWithThrowingShims")();
},{"./factoryWithThrowingShims":"xON7"}],"hRTX":[function(require,module,exports) {
"use strict";module.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}};
},{}],"Feqj":[function(require,module,exports) {
"use strict";var r=require("./helpers/bind"),t=Object.prototype.toString;function n(r){return"[object Array]"===t.call(r)}function e(r){return void 0===r}function o(r){return null!==r&&!e(r)&&null!==r.constructor&&!e(r.constructor)&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}function i(r){return"[object ArrayBuffer]"===t.call(r)}function u(r){return"undefined"!=typeof FormData&&r instanceof FormData}function c(r){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer&&r.buffer instanceof ArrayBuffer}function f(r){return"string"==typeof r}function a(r){return"number"==typeof r}function l(r){return null!==r&&"object"==typeof r}function s(r){if("[object Object]"!==t.call(r))return!1;var n=Object.getPrototypeOf(r);return null===n||n===Object.prototype}function p(r){return"[object Date]"===t.call(r)}function d(r){return"[object File]"===t.call(r)}function y(r){return"[object Blob]"===t.call(r)}function b(r){return"[object Function]"===t.call(r)}function j(r){return l(r)&&b(r.pipe)}function v(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}function B(r){return r.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function g(r,t){if(null!=r)if("object"!=typeof r&&(r=[r]),n(r))for(var e=0,o=r.length;e<o;e++)t.call(null,r[e],e,r);else for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.call(null,r[i],i,r)}function A(){var r={};function t(t,e){s(r[e])&&s(t)?r[e]=A(r[e],t):s(t)?r[e]=A({},t):n(t)?r[e]=t.slice():r[e]=t}for(var e=0,o=arguments.length;e<o;e++)g(arguments[e],t);return r}function O(t,n,e){return g(n,function(n,o){t[o]=e&&"function"==typeof n?r(n,e):n}),t}function h(r){return 65279===r.charCodeAt(0)&&(r=r.slice(1)),r}module.exports={isArray:n,isArrayBuffer:i,isBuffer:o,isFormData:u,isArrayBufferView:c,isString:f,isNumber:a,isObject:l,isPlainObject:s,isUndefined:e,isDate:p,isFile:d,isBlob:y,isFunction:b,isStream:j,isURLSearchParams:v,isStandardBrowserEnv:m,forEach:g,merge:A,extend:O,trim:B,stripBOM:h};
},{"./helpers/bind":"hRTX"}],"phSU":[function(require,module,exports) {
"use strict";var e=require("./../utils");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(i,n,t){if(!n)return i;var a;if(t)a=t(n);else if(e.isURLSearchParams(n))a=n.toString();else{var c=[];e.forEach(n,function(i,n){null!=i&&(e.isArray(i)?n+="[]":i=[i],e.forEach(i,function(i){e.isDate(i)?i=i.toISOString():e.isObject(i)&&(i=JSON.stringify(i)),c.push(r(n)+"="+r(i))}))}),a=c.join("&")}if(a){var o=i.indexOf("#");-1!==o&&(i=i.slice(0,o)),i+=(-1===i.indexOf("?")?"?":"&")+a}return i};
},{"./../utils":"Feqj"}],"xpeW":[function(require,module,exports) {
"use strict";var t=require("./../utils");function e(){this.handlers=[]}e.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},e.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},e.prototype.forEach=function(e){t.forEach(this.handlers,function(t){null!==t&&e(t)})},module.exports=e;
},{"./../utils":"Feqj"}],"IAOH":[function(require,module,exports) {
"use strict";var r=require("./../utils");module.exports=function(t,u,e){return r.forEach(e,function(r){t=r(t,u)}),t};
},{"./../utils":"Feqj"}],"mXc0":[function(require,module,exports) {
"use strict";module.exports=function(t){return!(!t||!t.__CANCEL__)};
},{}],"njyv":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){e.forEach(t,function(e,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=e,delete t[o])})};
},{"../utils":"Feqj"}],"Lpyz":[function(require,module,exports) {
"use strict";module.exports=function(e,i,s,t,n){return e.config=i,s&&(e.code=s),e.request=t,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e};
},{}],"NZT3":[function(require,module,exports) {
"use strict";var r=require("./enhanceError");module.exports=function(e,n,o,t,u){var a=new Error(e);return r(a,n,o,t,u)};
},{"./enhanceError":"Lpyz"}],"Ztkp":[function(require,module,exports) {
"use strict";var t=require("./createError");module.exports=function(e,s,u){var a=u.config.validateStatus;u.status&&a&&!a(u.status)?s(t("Request failed with status code "+u.status,u.config,null,u.request,u)):e(u)};
},{"./createError":"NZT3"}],"MLCl":[function(require,module,exports) {
"use strict";var e=require("./../utils");module.exports=e.isStandardBrowserEnv()?{write:function(n,t,o,r,i,u){var s=[];s.push(n+"="+encodeURIComponent(t)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(r)&&s.push("path="+r),e.isString(i)&&s.push("domain="+i),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};
},{"./../utils":"Feqj"}],"R56a":[function(require,module,exports) {
"use strict";module.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};
},{}],"uRyQ":[function(require,module,exports) {
"use strict";module.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e};
},{}],"dm4E":[function(require,module,exports) {
"use strict";var e=require("../helpers/isAbsoluteURL"),r=require("../helpers/combineURLs");module.exports=function(s,u){return s&&!e(u)?r(s,u):u};
},{"../helpers/isAbsoluteURL":"R56a","../helpers/combineURLs":"uRyQ"}],"Zn5P":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(r){var i,o,n,s={};return r?(e.forEach(r.split("\n"),function(r){if(n=r.indexOf(":"),i=e.trim(r.substr(0,n)).toLowerCase(),o=e.trim(r.substr(n+1)),i){if(s[i]&&t.indexOf(i)>=0)return;s[i]="set-cookie"===i?(s[i]?s[i]:[]).concat([o]):s[i]?s[i]+", "+o:o}}),s):s};
},{"./../utils":"Feqj"}],"Rpqp":[function(require,module,exports) {
"use strict";var t=require("./../utils");module.exports=t.isStandardBrowserEnv()?function(){var r,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function a(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=a(window.location.href),function(e){var o=t.isString(e)?a(e):e;return o.protocol===r.protocol&&o.host===r.host}}():function(){return!0};
},{"./../utils":"Feqj"}],"akUF":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./../core/settle"),t=require("./../helpers/cookies"),s=require("./../helpers/buildURL"),o=require("../core/buildFullPath"),n=require("./../helpers/parseHeaders"),a=require("./../helpers/isURLSameOrigin"),i=require("../core/createError");module.exports=function(u){return new Promise(function(l,d){var p=u.data,c=u.headers;e.isFormData(p)&&delete c["Content-Type"];var f=new XMLHttpRequest;if(u.auth){var h=u.auth.username||"",m=u.auth.password?unescape(encodeURIComponent(u.auth.password)):"";c.Authorization="Basic "+btoa(h+":"+m)}var w=o(u.baseURL,u.url);if(f.open(u.method.toUpperCase(),s(w,u.params,u.paramsSerializer),!0),f.timeout=u.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in f?n(f.getAllResponseHeaders()):null,t={data:u.responseType&&"text"!==u.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:e,config:u,request:f};r(l,d,t),f=null}},f.onabort=function(){f&&(d(i("Request aborted",u,"ECONNABORTED",f)),f=null)},f.onerror=function(){d(i("Network Error",u,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+u.timeout+"ms exceeded";u.timeoutErrorMessage&&(e=u.timeoutErrorMessage),d(i(e,u,"ECONNABORTED",f)),f=null},e.isStandardBrowserEnv()){var R=(u.withCredentials||a(w))&&u.xsrfCookieName?t.read(u.xsrfCookieName):void 0;R&&(c[u.xsrfHeaderName]=R)}if("setRequestHeader"in f&&e.forEach(c,function(e,r){void 0===p&&"content-type"===r.toLowerCase()?delete c[r]:f.setRequestHeader(r,e)}),e.isUndefined(u.withCredentials)||(f.withCredentials=!!u.withCredentials),u.responseType)try{f.responseType=u.responseType}catch(T){if("json"!==u.responseType)throw T}"function"==typeof u.onDownloadProgress&&f.addEventListener("progress",u.onDownloadProgress),"function"==typeof u.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",u.onUploadProgress),u.cancelToken&&u.cancelToken.promise.then(function(e){f&&(f.abort(),d(e),f=null)}),p||(p=null),f.send(p)})};
},{"./../utils":"Feqj","./../core/settle":"Ztkp","./../helpers/cookies":"MLCl","./../helpers/buildURL":"phSU","../core/buildFullPath":"dm4E","./../helpers/parseHeaders":"Zn5P","./../helpers/isURLSameOrigin":"Rpqp","../core/createError":"NZT3"}],"g5IB":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"A14q":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=require("./utils"),r=require("./helpers/normalizeHeaderName"),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,r){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function i(){var t;return"undefined"!=typeof XMLHttpRequest?t=require("./adapters/xhr"):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(t=require("./adapters/http")),t}var o={adapter:i(),transformRequest:[function(e,n){return r(n,"Accept"),r(n,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)?(a(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};t.forEach(["delete","get","head"],function(e){o.headers[e]={}}),t.forEach(["post","put","patch"],function(e){o.headers[e]=t.merge(n)}),module.exports=o;
},{"./utils":"Feqj","./helpers/normalizeHeaderName":"njyv","./adapters/xhr":"akUF","./adapters/http":"akUF","process":"g5IB"}],"HALK":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./transformData"),a=require("../cancel/isCancel"),t=require("../defaults");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}module.exports=function(n){return s(n),n.headers=n.headers||{},n.data=r(n.data,n.headers,n.transformRequest),n.headers=e.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(e){delete n.headers[e]}),(n.adapter||t.adapter)(n).then(function(e){return s(n),e.data=r(e.data,e.headers,n.transformResponse),e},function(e){return a(e)||(s(n),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,n.transformResponse))),Promise.reject(e)})};
},{"./../utils":"Feqj","./transformData":"IAOH","../cancel/isCancel":"mXc0","../defaults":"A14q"}],"fBI1":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(n,t){t=t||{};var r={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(n,t){return e.isPlainObject(n)&&e.isPlainObject(t)?e.merge(n,t):e.isPlainObject(t)?e.merge({},t):e.isArray(t)?t.slice():t}function d(o){e.isUndefined(t[o])?e.isUndefined(n[o])||(r[o]=c(void 0,n[o])):r[o]=c(n[o],t[o])}e.forEach(o,function(n){e.isUndefined(t[n])||(r[n]=c(void 0,t[n]))}),e.forEach(i,d),e.forEach(a,function(o){e.isUndefined(t[o])?e.isUndefined(n[o])||(r[o]=c(void 0,n[o])):r[o]=c(void 0,t[o])}),e.forEach(s,function(e){e in t?r[e]=c(n[e],t[e]):e in n&&(r[e]=c(void 0,n[e]))});var f=o.concat(i).concat(a).concat(s),u=Object.keys(n).concat(Object.keys(t)).filter(function(e){return-1===f.indexOf(e)});return e.forEach(u,d),r};
},{"../utils":"Feqj"}],"trUU":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=require("../helpers/buildURL"),r=require("./InterceptorManager"),o=require("./dispatchRequest"),s=require("./mergeConfig");function i(e){this.defaults=e,this.interceptors={request:new r,response:new r}}i.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},i.prototype.getUri=function(e){return e=s(this.defaults,e),t(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(e){i.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}}),e.forEach(["post","put","patch"],function(e){i.prototype[e]=function(t,r,o){return this.request(s(o||{},{method:e,url:t,data:r}))}}),module.exports=i;
},{"./../utils":"Feqj","../helpers/buildURL":"phSU","./InterceptorManager":"xpeW","./dispatchRequest":"HALK","./mergeConfig":"fBI1"}],"qFUg":[function(require,module,exports) {
"use strict";function t(t){this.message=t}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,module.exports=t;
},{}],"VgQU":[function(require,module,exports) {
"use strict";var e=require("./Cancel");function n(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(e){o=e});var r=this;n(function(n){r.reason||(r.reason=new e(n),o(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(n){e=n}),cancel:e}},module.exports=n;
},{"./Cancel":"qFUg"}],"yisB":[function(require,module,exports) {
"use strict";module.exports=function(n){return function(t){return n.apply(null,t)}};
},{}],"FbOI":[function(require,module,exports) {
"use strict";module.exports=function(o){return"object"==typeof o&&!0===o.isAxiosError};
},{}],"Wzmt":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=require("./helpers/bind"),i=require("./core/Axios"),n=require("./core/mergeConfig"),u=require("./defaults");function o(n){var u=new i(n),o=r(i.prototype.request,u);return e.extend(o,i.prototype,u),e.extend(o,u),o}var l=o(u);l.Axios=i,l.create=function(e){return o(n(l.defaults,e))},l.Cancel=require("./cancel/Cancel"),l.CancelToken=require("./cancel/CancelToken"),l.isCancel=require("./cancel/isCancel"),l.all=function(e){return Promise.all(e)},l.spread=require("./helpers/spread"),l.isAxiosError=require("./helpers/isAxiosError"),module.exports=l,module.exports.default=l;
},{"./utils":"Feqj","./helpers/bind":"hRTX","./core/Axios":"trUU","./core/mergeConfig":"fBI1","./defaults":"A14q","./cancel/Cancel":"qFUg","./cancel/CancelToken":"VgQU","./cancel/isCancel":"mXc0","./helpers/spread":"yisB","./helpers/isAxiosError":"FbOI"}],"O4Aa":[function(require,module,exports) {
module.exports=require("./lib/axios");
},{"./lib/axios":"Wzmt"}],"UbHF":[function(require,module,exports) {
function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(t)}module.exports="object"==("undefined"==typeof self?"undefined":o(self))?self.FormData:window.FormData;
},{}],"GN2V":[function(require,module,exports) {
"use strict";module.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};
},{}],"FRly":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"Quj6":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"aqZJ":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"aMB2":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"FRly","ieee754":"Quj6","isarray":"aqZJ","buffer":"aMB2"}],"cz0G":[function(require,module,exports) {
var define;
var process = require("process");
var Buffer = require("buffer").Buffer;
var global = arguments[3];
var e,n=require("process"),t=require("buffer").Buffer,r=arguments[3];!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("axios"),require("form-data"),require("ws")):"function"==typeof e&&e.amd?e(["axios","form-data","ws"],t):(n="undefined"!=typeof globalThis?globalThis:n||self).SendBird=t(n.axios,n.FormData,n.WebSocket)}(this,function(e,i,a){"use strict";function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=s(e),l=s(i),u=s(a);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach(function(n){y(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,n,t){return n&&f(e.prototype,n),t&&f(e,t),e}function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&v(e,n)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,n){return(v=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function E(e,n,t){return(E=C()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(e,r));return t&&v(i,t.prototype),i}).apply(null,arguments)}function U(e){var n="function"==typeof Map?new Map:void 0;return(U=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return E(e,arguments,m(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){var n=C();return function(){var t,r=m(e);if(n){var i=m(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return function(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?b(e):n}(this,t)}}function S(e,n,t){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=m(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(t):i.value}})(e,n,t||e)}function I(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=t){var r,i,a=[],s=!0,o=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);s=!0);}catch(e){o=!0,i=e}finally{try{s||null==t.return||t.return()}finally{if(o)throw i}}return a}}(e,n)||k(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,n){if(e){if("string"==typeof e)return R(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,n):void 0}}function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function O(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=k(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==t.return||t.return()}finally{if(o)throw a}}}}var T=function(){function e(){p(this,e)}return g(e,null,[{key:"OS_VERSION",get:function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"}},{key:"SDK_VERSION",get:function(){return"3.0.153"}},{key:"SDK_MAJOR_VERSION",get:function(){return e.SDK_VERSION.split(".")[0]}},{key:"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",get:function(){return 100}},{key:"INTERNAL_CALL",get:function(){return"ic"}}]),e}(),M={},L=new WeakMap,P=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),L.set(this,"object"===h(n)&&n?n:{})}return g(e,[{key:"container",get:function(){return L.get(this)}},{key:"get",value:function(e){return L.get(this)[e]}},{key:"set",value:function(e,n){L.get(this)[e]=n}},{key:"remove",value:function(e){var n=L.get(this);n.hasOwnProperty(e)&&delete n[e]}}],[{key:"create",value:function(n,t){return M[n]=new e(t),M[n]}},{key:"get",value:function(e){return e||(e=$n.getInstance()._iid),M[e]}}]),e}(),w=function(e){_(t,U(Error));var n=A(t);function t(e,r){var i;return p(this,t),(i=n.call(this,r)).name="SendBirdException",i.code=r||0,i.message=e,i}return g(t,[{key:"isSessionKeyExpiredError",get:function(){return 400309===this.code}},{key:"isSessionTokenExpiredError",get:function(){return 400302===this.code}}],[{key:"INVALID_INITIALIZATION",get:function(){return 800100}},{key:"CONNECTION_REQUIRED",get:function(){return 800101}},{key:"CONNECTION_CANCELED",get:function(){return 800102}},{key:"INVALID_PARAMETER",get:function(){return 800110}},{key:"NETWORK_ERROR",get:function(){return 800120}},{key:"NETWORK_ROUTING_ERROR",get:function(){return 800121}},{key:"MALFORMED_DATA",get:function(){return 800130}},{key:"MALFORMED_ERROR_DATA",get:function(){return 800140}},{key:"WRONG_CHANNEL_TYPE",get:function(){return 800150}},{key:"MARK_AS_READ_RATE_LIMIT_EXCEEDED",get:function(){return 800160}},{key:"QUERY_IN_PROGRESS",get:function(){return 800170}},{key:"ACK_TIMEOUT",get:function(){return 800180}},{key:"LOGIN_TIMEOUT",get:function(){return 800190}},{key:"WEBSOCKET_CONNECTION_CLOSED",get:function(){return 800200}},{key:"WEBSOCKET_CONNECTION_FAILED",get:function(){return 800210}},{key:"REQUEST_FAILED",get:function(){return 800220}},{key:"FILE_UPLOAD_CANCEL_FAILED",get:function(){return 800230}},{key:"REQUEST_CANCELED",get:function(){return 800240}},{key:"REQUEST_DUPLICATED",get:function(){return 800250}},{key:"FILE_SIZE_LIMIT_EXCEEDED",get:function(){return 800260}},{key:"SESSION_TOKEN_REQUEST_FAILED",get:function(){return 800500}},{key:"SESSION_TOKEN_REFRESHED",get:function(){return 800501}},{key:"SESSION_TOKEN_REFRESH_FAILED",get:function(){return 800502}}]),t}(),D=function(){function e(){p(this,e),this.sessionToken=null,this.sessionKey=null,this.eKey=null}return g(e,[{key:"hasSession",value:function(){return!!this.sessionKey}}]),e}(),H={},F=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var r in p(this,e),this._iid=n,t){var i=t[r];"function"==typeof i&&(this[r]=this.getClonedClass(i))}H[n]=this}return g(e,[{key:"getClonedClass",value:function(e){var n=this._iid;return function(t){_(i,e);var r=A(i);function i(){return p(this,i),r.apply(this,arguments)}return g(i,[{key:"_iid",get:function(){return n}}],[{key:"_iid",get:function(){return n}},{key:"_name",get:function(){return e.name}}]),i}()}}],[{key:"get",value:function(e){return e?H[e]:{}}}]),e}(),G={verbose:"VERBOSE",info:"INFO",debug:"DEBUG",warn:"WARN",error:"ERROR",none:"NONE"},B=function(e){_(t,e);var n=A(t);function t(){return p(this,t),n.apply(this,arguments)}return g(t,[{key:"log",value:function(e){for(var n,t,r,i,a,s=this.getLogLevelText(e);s.length<8;)s+=" ";for(var o=arguments.length,l=new Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];switch(l.unshift("[".concat(s,"]")),e){case"verbose":(n=console).log.apply(n,l);break;case"debug":(t=console).log.apply(t,l);break;case"info":(r=console).info.apply(r,l);break;case"warn":(i=console).warn.apply(i,l);break;case"error":(a=console).error.apply(a,l)}}},{key:"groupStart",value:function(){var e;(e=console).group.apply(e,arguments)}},{key:"groupEnd",value:function(){var e;(e=console).groupEnd.apply(e,arguments)}}]),t}(function(){function e(){p(this,e)}return g(e,[{key:"getLogLevelText",value:function(e){return G[e]}}]),e}()),j={DEBUG:"debug",PRODUCTION:"production"},x=j.PRODUCTION,q={VERBOSE:"verbose",DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error",NONE:"none"},z=[q.NONE,q.ERROR,q.WARN,q.INFO,q.DEBUG,q.VERBOSE],Q=q.WARN,Y=z.indexOf(Q),K=[new B],W=function(){function e(){p(this,e)}return g(e,null,[{key:"Mode",get:function(){return j}},{key:"mode",get:function(){return x},set:function(n){Object.keys(e.Mode).map(function(n){return e.Mode[n]}).indexOf(n)>-1&&(x=n)}},{key:"supportedLogLevels",get:function(){return q}},{key:"logLevel",get:function(){return z[Y]},set:function(e){z.includes(e)||(e=Q),Y=z.indexOf(e)}},{key:"defaultLogLevel",get:function(){return Q}},{key:"isDisplayableLogLevel",value:function(e){var n=z.indexOf(e);return 0<=n&&n<=Y}},{key:"log",value:function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];e.isDisplayableLogLevel(n)&&K.forEach(function(e){return e.log.apply(e,[n].concat(r))})}},{key:"verbose",value:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];e.log.apply(e,[q.VERBOSE].concat(t))}},{key:"debug",value:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];e.log.apply(e,[q.DEBUG].concat(t))}},{key:"info",value:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];e.log.apply(e,[q.INFO].concat(t))}},{key:"warn",value:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];e.log.apply(e,[q.WARN].concat(t))}},{key:"error",value:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];e.log.apply(e,[q.ERROR].concat(t))}},{key:"group",value:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];var i=[];Array.isArray(t[t.length-1])&&(i=t.pop()),i.some(function(n){return e.isDisplayableLogLevel(n.level)})&&K.filter(function(e){return e instanceof B}).forEach(function(e){e.groupStart.apply(e,t),i.forEach(function(n){return e.log.apply(e,[n.level].concat(N(n.messages)))}),e.groupEnd()})}}]),e}(),V=function(){function e(){p(this,e),this._queue=[],this.locked=!1}return g(e,[{key:"lock",value:function(e){var n=this;this.locked?this._queue.push(e):(this.locked=!0,e(function(){return n.unlock()}))}},{key:"unlock",value:function(){if(this.locked=!1,this._queue.length>0){var e=this._queue.shift();this.lock(e)}}}]),e}(),J=function(){function e(n){p(this,e),this.sb=n,this.mutex=new V,this.pingTimer=null,this.pingTimeoutTimer=null}return g(e,[{key:"ping",value:function(){var e=this,n=F.get(this.sb._iid).Command.bPing(),t=P.get(this.sb._iid).container,r=t.wsAdapter,i=t.pongTimeout;r.client.send(n),W.debug("`PING`"),this.pingTimeoutTimer=setTimeout(function(){W.debug("`PING` timeout."),e.stop(),r.client.handler&&r.client.handler.onError()},i)}},{key:"pong",value:function(){this.pingTimeoutTimer&&(clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=null)}},{key:"refreshTimer",value:function(){var e=this,n=P.get(this.sb._iid).container.pingInterval;this.mutex.lock(function(t){e.stop(),e.pingTimer=setInterval(function(){e.ping()},n),t()})}},{key:"start",value:function(){this.refreshTimer(),this.ping()}},{key:"stop",value:function(){this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null),this.pingTimeoutTimer&&(clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=null)}}]),e}();function X(){return"undefined"==typeof window&&void 0!==n&&("node"===n.title||void 0!==n.versions&&n.versions.node||"[object process]"===String(n))}var Z=[w.CONNECTION_REQUIRED,w.NETWORK_ERROR,w.ACK_TIMEOUT,w.WEBSOCKET_CONNECTION_CLOSED,w.WEBSOCKET_CONNECTION_FAILED,w.FILE_UPLOAD_CANCEL_FAILED,w.REQUEST_CANCELED,500901,500910,900200],$=function(){function e(){p(this,e)}return g(e,null,[{key:"deepEqual",value:function(e,n){if(e!==n){var t=d({},e),r=d({},n);return!(t.messageId&&r.messageId&&t.messageId!==r.messageId||t.reqId&&r.reqId&&t.reqId!==r.reqId||(t.hasOwnProperty("messageId")&&delete t.messageId,t.hasOwnProperty("reqId")&&delete t.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(t)!==JSON.stringify(r)))}return!0}},{key:"isResendableError",value:function(e){return e>0&&Z.indexOf(e)>=0}},{key:"isFile",value:function(e){var n="object"===h(e)&&null!==e&&"string"==typeof e.name&&"string"==typeof e.uri&&"string"==typeof e.type;if(!n)if(X()){if(void 0!==t)return e instanceof t}else{if("undefined"!=typeof Blob)return e instanceof Blob;if("undefined"!=typeof File)return e instanceof File}return n}}]),e}(),ee=function(){function e(n){if(p(this,e),this.fields={},n)for(var t in n)this.fields[t]={value:n[t]},$.isFile(n[t])&&(this.fields[t].filename=n[t].name);this.options={},this.internal=!1,this.upload={reqId:null,deleteRequest:null,progressHandler:null}}return g(e,[{key:"add",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.fields[e]={value:n,filename:t}}},{key:"remove",value:function(e){this.fields.hasOwnProperty(e)&&delete this.fields[e]}},{key:"yield",value:function(){var e=!1;for(var n in this.fields)if($.isFile(this.fields[n].value)){e=!0;break}if(e){var t=new l.default;for(var r in this.fields){var i=this.fields[r];if($.isFile(i.value)){var a=i.value;a.filename||a.name?t.append(r,i.value,a.filename||a.name):a.data?t.append(r,i.value,a.data.name):t.append(r,i.value,"unnamed")}else t.append(r,i.value)}return t}var s={};for(var o in this.fields)s[o]=this.fields[o].value;return s}}]),e}(),ne=function(){function e(n){p(this,e),this.sb=n,this.cls=F.get(this.sb._iid)}return g(e,[{key:"checkRouting",value:function(e){if(this.sb.customApiHost&&this.sb.customWsHost)"function"==typeof e&&e(null,{apiHost:this.sb.customApiHost,wsHost:this.sb.customWsHost});else{var n=this.sb.getApplicationId();e(null,{apiHost:"https://api-".concat(n,".sendbird.com"),wsHost:"wss://ws-".concat(n,".sendbird.com")})}}},{key:"_buildUrl",value:function(e){var n=e.apiHost,t=e.url,r=e.params;return t?r&&r.internal?"".concat(n,"/v").concat(T.SDK_MAJOR_VERSION,"/sdk").concat(t):"".concat(n,"/v").concat(T.SDK_MAJOR_VERSION).concat(t):n}},{key:"_createHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.noSessionKey,r=void 0!==t&&t,i=n.accessToken,a=void 0===i?null:i,s=e instanceof l.default&&"function"==typeof e.getHeaders?e.getHeaders():{},o=P.get(this.sb._iid).container,u=o.appId,c=o.auth,d=o.extensions,h=o.getUserAgentWithExtensions;return s.SendBird="JS,".concat(T.OS_VERSION,",").concat(T.SDK_VERSION,",").concat(u),s["SB-User-Agent"]=encodeURIComponent(h(d)),!r&&c.sessionKey&&(s["Session-Key"]=c.sessionKey),a&&(s["App-Id"]=u,s["Access-Token"]=a),s["Request-Sent-Timestamp"]=(new Date).getTime().toString(),s}},{key:"_createQuery",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var t=[];for(var r in n){var i=n[r];if(null!=i){var a;a="object"===h(i)?Array.isArray(i)?i.map(function(e){return encodeURIComponent("string"==typeof e?e.trim():e)}).join(","):encodeURIComponent(JSON.stringify(i)):encodeURIComponent(i),t.push("".concat(r,"=").concat(a))}}return t.length>0?"".concat(e,"?").concat(t.join("&")):e}catch(n){return W.debug("createWithEncodedGetParams is failed. - ",n),e}}},{key:"_request",value:function(e,n,t,r){var i=this;this.checkRouting(function(a,s){if(a)r(new w("Request failed.",w.REQUEST_FAILED),null);else{var u=i._buildUrl({apiHost:s.apiHost,url:n,params:t}),c=t?t.yield():{},d=i._createHeader(c,t?t.options:{}),h=[{level:W.supportedLogLevels.DEBUG,messages:["url:",n]},{level:W.supportedLogLevels.DEBUG,messages:["data:",c]}],p=null;switch(e){case"GET":p=i._createQuery(u,c);break;case"POST":case"PUT":p=u;break;case"DELETE":p=i._createQuery(u,c)}var f=null;if("undefined"==typeof ServiceWorker||"undefined"==typeof ServiceWorkerRegistration||"undefined"!=typeof ServiceWorkerContainer||X()||"function"!=typeof fetch)switch(e){case"GET":f=o.default.get(p,{headers:d,validateStatus:i._validateStatus});break;case"POST":var g=null;if(c instanceof l.default){var y=o.default.CancelToken.source();g=y.token;var _=i.cls.FileMessageQueue,m=t.upload.reqId;m&&(h.push({level:W.supportedLogLevels.DEBUG,messages:["request id:",m]}),_.uploadRequest[m]=y)}f=o.default.post(p,"function"==typeof c.getBuffer?c.getBuffer():c,{headers:d,validateStatus:i._validateStatus,cancelToken:g,onUploadProgress:function(e){t.upload.progressHandler&&t.upload.progressHandler(e,t.upload.reqId)}});break;case"PUT":f=o.default.put(p,c,{headers:d,validateStatus:i._validateStatus});break;case"DELETE":f=o.default.delete(p,{headers:d,validateStatus:i._validateStatus})}else{var v={method:e,headers:d};switch(e){case"GET":break;case"POST":if(c instanceof l.default){if("function"==typeof AbortController){var C=new AbortController,E=C.signal;v.signal=E;var U=i.cls.FileMessageQueue,b=t.upload.reqId;b&&(h.push({level:W.supportedLogLevels.DEBUG,messages:["request id:",b]}),U.uploadRequest[b]=C)}v.body="function"==typeof c.getBuffer?c.getBuffer():c}else d["Content-Type"]="application/json; charset=utf-8",v.body=JSON.stringify(c);break;case"PUT":c instanceof l.default?v.body="function"==typeof c.getBuffer?c.getBuffer():c:(d["Content-Type"]="application/json; charset=utf-8",v.body=JSON.stringify(c))}f=fetch(p,v).then(function(e){return e.json().then(function(n){if(!i._validateStatus(e.status))throw{request:{isAbort:!1},response:{data:n}};return Promise.resolve({data:n})})})}W.group("".concat(e," request"),h),h=[],f.then(function(n){try{var i=n.data;"POST"===e&&"function"==typeof t.upload.deleteRequest&&t.upload.deleteRequest(),h.push({level:W.supportedLogLevels.DEBUG,messages:["data:",i]}),r(null,i)}catch(e){throw{code:888e3,rawError:e}}}).catch(function(a){if(888e3===a.code)throw a.rawError;"POST"===e&&"function"==typeof t.upload.deleteRequest&&t.upload.deleteRequest();var s=i._handleError(a);h.push({level:W.supportedLogLevels.DEBUG,messages:["error:",s]}),n&&t&&s.isSessionKeyExpiredError?P.get(i.sb._iid).container.sessionManager.refresh(function(e){return r(e,null)}):r(s,null)}).finally(function(){return W.group("".concat(e," response"),h)})}})}},{key:"_validateStatus",value:function(e){return e>=200&&e<400}},{key:"_handleError",value:function(e){var n=e.request,t=e.response;if(n){if(n.isAbort||n.aborted)return new w("Request has been canceled.",w.REQUEST_CANCELED);if(t){var r=t.data,i=r?r.message:"Request failed.",a=r?r.code:w.REQUEST_FAILED;return new w(i,a)}return new w("Request failed.",w.REQUEST_FAILED)}return new w("There was a network error.",w.NETWORK_ERROR)}},{key:"get",value:function(e,n,t){this._request("GET",e,n,t)}},{key:"dummyCall",value:function(e){this._request("GET",null,null,e)}},{key:"post",value:function(e,n,t){this._request("POST",e,n,t)}},{key:"put",value:function(e,n,t){this._request("PUT",e,n,t)}},{key:"delete",value:function(e,n,t){this._request("DELETE",e,n,t)}},{key:"refreshSessionKey",value:function(n,t){var r=this,i=n.accessToken;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_SESSION_KEY.replace("%s",encodeURIComponent(a.userId)),o=new ee;o.options.noSessionKey=!0,o.options.accessToken=i,r.post(s,o,t)}})}},{key:"updateCurrentUserInfo",value:function(n,t){var r=this,i=n.nickname,a=n.profileUrl,s=n.profileImage,o=n.preferredLanguages;this.sb.ConnectionManager.ready(function(n,l){if(n)t(n,null);else{var u=e.Path.USERS_USERID.replace("%s",encodeURIComponent(l.userId)),c=new ee;i&&c.add("nickname",i),a&&c.add("profile_url",a),s&&c.add("profile_file",s,s.name),o&&c.add("preferred_languages",o),r.put(u,c,t)}})}},{key:"getMyGroupChannelChangeLogs",value:function(n,t){var r=this,i=n.ts,a=n.token,s=n.customTypes,o=n.includeEmpty,l=n.includeFrozen;this.sb.ConnectionManager.ready(function(n,u){if(n)t(n,null);else{var c=e.Path.USERS_USERID_MY_GROUP_CHANNEL_CHANGELOGS.replace("%s",encodeURIComponent(u.userId)),d=new ee({show_read_receipt:!0,show_delivery_receipt:!0,show_member:!0});a&&d.add("token",a),i&&d.add("change_ts",i),s&&s.length>0&&d.add("custom_types",s),"boolean"==typeof o&&d.add("show_empty",o),"boolean"==typeof l&&d.add("show_frozen",l),r.get(c,d,t)}})}},{key:"getChannelInvitationPreference",value:function(n,t){var r=this;this.sb.ConnectionManager.ready(function(n,i){if(n)t(n,null);else{var a=e.Path.USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}})}},{key:"getGroupChannelCount",value:function(n,t){var r=this,i=n.memberStateFilter;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=r.cls.GroupChannel,o=e.Path.USERS_USERID_GROUP_CHANNEL_COUNT.replace("%s",encodeURIComponent(a.userId)),l="";switch(i){case s.MemberStateFilter.JOINED:l="joined";break;case s.MemberStateFilter.INVITED:l="invited";break;case s.MemberStateFilter.INVITED_BY_FRIEND:l="invited_by_friend";break;case s.MemberStateFilter.INVITED_BY_NON_FRIEND:l="invited_by_non_friend";break;default:l="all"}var u=new ee({state:l});r.get(o,u,t)}})}},{key:"getUnreadItemCount",value:function(n,t){var r=this,i=n.keys;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_UNREAD_ITEM_COUNT.replace("%s",encodeURIComponent(a.userId)),o=new ee({item_keys:i});r.get(s,o,t)}})}},{key:"getTotalUnreadMessageCount",value:function(n,t){var r=this,i=n.customTypesFilter,a=n.superChannelFilter;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=e.Path.USERS_USERID_UNREAD_MESSAGE_COUNT.replace("%s",encodeURIComponent(s.userId)),l=new ee({super_mode:a});null!==i&&i.length>0&&l.add("custom_types",i),r.get(o,l,t)}})}},{key:"getTotalUnreadChannelCount",value:function(n,t){var r=this;this.sb.ConnectionManager.ready(function(n,i){if(n)t(n,null);else{var a=e.Path.USERS_USERID_UNREAD_CHANNEL_COUNT.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}})}},{key:"searchMessages",value:function(n,t){var r=this,i=n.keyword,a=n.limit,s=n.reverse,o=n.exactMatch,l=n.channelUrl,u=n.channelCustomType,c=n.messageTimestampFrom,d=n.messageTimestampTo,h=n.order,p=n.nextToken,f=n.advancedQuery,g=n.targetFields;this.sb.ConnectionManager.ready(function(n,y){if(n)t(n,null);else{var _=e.Path.SEARCH_MESSAGE,m=new ee({limit:a,reverse:s,query:i,custom_type:u});c&&m.add("message_ts_from",c),d&&m.add("message_ts_to",d),l&&m.add("channel_url",l),h&&m.add("sort_field",h),"boolean"==typeof o&&m.add("exact_match",o),null!==p&&p.length>0&&m.add("after",p),"boolean"==typeof f&&m.add("advanced_query",f),g&&Array.isArray(g)&&m.add("target_fields",g),r.get(_,m,t)}})}},{key:"markAsReadAll",value:function(n,t){var r=this,i=n.channelUrls;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_MARKASREADALL.replace("%s",encodeURIComponent(a.userId)),o=new ee;i&&o.add("channel_urls",i),r.put(s,o,t)}})}},{key:"markAsDelivered",value:function(n,t){var r=this,i=n.channelUrl,a=n.userId;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASDELIVERED.replace("%s",encodeURIComponent(i)),l=new ee;a&&l.add("user_id",a),r.put(o,l,t)}})}},{key:"setChannelInvitationPreference",value:function(n,t){var r=this,i=n.isAutoAccept;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE.replace("%s",encodeURIComponent(a.userId)),o=new ee({auto_accept:i});r.put(s,o,t)}})}},{key:"blockUser",value:function(n,t){var r=this,i=n.blockedUserId;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_BLOCK.replace("%s",encodeURIComponent(a.userId)),o=new ee({target_id:i});r.post(s,o,t)}})}},{key:"unblockUser",value:function(n,t){var r=this,i=n.unblockedUserId;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_BLOCK_TARGETID.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i));r.delete(s,null,t)}})}},{key:"getPushTriggerOption",value:function(n,t){var r=this;this.sb.ConnectionManager.ready(function(n,i){if(n)t(n,null);else{var a=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}})}},{key:"setPushTriggerOption",value:function(n,t){var r=this,i=n.pushTriggerOption;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(a.userId)),o=new ee({push_trigger_option:i});r.put(s,o,t)}})}},{key:"getPushTokens",value:function(n,t){var r=this,i=n.ts,a=n.token,s=n.type;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=e.Path.USERS_USERID_PUSH_DEVICE_TOKENS.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(s)),u=new ee;a&&u.add("token",a),i&&u.add("created_ts",i),r.get(l,u,t)}})}},{key:"getPushTemplate",value:function(n,t){var r=this;this.sb.ConnectionManager.ready(function(n,i){if(n)t(n,null);else{var a=e.Path.USERS_USERID_PUSH_TEMPLATE.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}})}},{key:"setPushTemplate",value:function(n,t){var r=this,i=n.templateName;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_PUSH_TEMPLATE.replace("%s",encodeURIComponent(a.userId)),o=new ee({name:i});r.put(s,o,t)}})}},{key:"getDoNotDisturb",value:function(n,t){var r=this;this.sb.ConnectionManager.ready(function(n,i){if(n)t(n,null);else{var a=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}})}},{key:"setDoNotDisturb",value:function(n,t){var r=this,i=n.doNotDisturbOn,a=n.startHour,s=n.startMin,o=n.endHour,l=n.endMin,u=n.timezone;this.sb.ConnectionManager.ready(function(n,c){if(n)t(n,null);else{var d=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(c.userId)),h=new ee({do_not_disturb:i,start_hour:a,start_min:s,end_hour:o,end_min:l,timezone:u});r.put(d,h,t)}})}},{key:"getSnoozePeriod",value:function(n,t){var r=this;this.sb.ConnectionManager.ready(function(n,i){if(n)t(n,null);else{var a=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}})}},{key:"setSnoozePeriod",value:function(n,t){var r=this,i=n.snoozeOn,a=n.startTs,s=n.endTs;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(o.userId)),u=new ee({snooze_enabled:i,snooze_start_ts:a,snooze_end_ts:s});r.put(l,u,t)}})}},{key:"registerGCMPushToken",value:function(n,t){var r=this,i=n.token;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_PUSH_GCM.replace("%s",encodeURIComponent(a.userId)),o=new ee({gcm_reg_token:i,always_push:!0});r.post(s,o,t)}})}},{key:"unregisterGCMPushToken",value:function(n,t){var r=this,i=n.token;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_PUSH_GCM_TOKEN.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i));r.delete(s,null,t)}})}},{key:"unregisterAllGCMPushTokens",value:function(n,t){var r=this;this.sb.ConnectionManager.ready(function(n,i){if(n)t(n,null);else{var a=e.Path.USERS_USERID_PUSH_GCM.replace("%s",encodeURIComponent(i.userId));r.delete(a,null,t)}})}},{key:"registerAPNSPushToken",value:function(n,t){var r=this,i=n.token;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_PUSH_APNS.replace("%s",encodeURIComponent(a.userId)),o=new ee({apns_device_token:i,always_push:!0});r.post(s,o,t)}})}},{key:"unregisterAPNSPushToken",value:function(n,t){var r=this,i=n.token;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_PUSH_APNS_TOKEN.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i));r.delete(s,null,t)}})}},{key:"unregisterAllAPNSPushTokens",value:function(n,t){var r=this;this.sb.ConnectionManager.ready(function(n,i){if(n)t(n,null);else{var a=e.Path.USERS_USERID_PUSH_APNS.replace("%s",encodeURIComponent(i.userId));r.delete(a,null,t)}})}},{key:"unregisterAllPushTokens",value:function(n,t){var r=this;this.sb.ConnectionManager.ready(function(n,i){if(n)t(n,null);else{var a=e.Path.USERS_USERID_PUSH.replace("%s",encodeURIComponent(i.userId));r.delete(a,null,t)}})}},{key:"loadFriendList",value:function(n,t){var r=this,i=n.token,a=n.limit;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=e.Path.FRIENDS.replace("%s",encodeURIComponent(s.userId)),l=new ee({limit:a,token:i});r.get(o,l,t)}})}},{key:"getFriendChangeLogsByToken",value:function(n,t){var r=this,i=n.token;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.FRIENDS_CHANGE_LOGS.replace("%s",encodeURIComponent(a.userId)),o=new ee;i&&o.add("token",i),r.get(s,o,t)}})}},{key:"addFriends",value:function(n,t){var r=this,i=n.userIds;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.FRIENDS.replace("%s",encodeURIComponent(a.userId)),o=new ee({user_ids:i});r.post(s,o,t)}})}},{key:"deleteFriends",value:function(n,t){var r=this,i=n.userIds;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.FRIENDS.replace("%s",encodeURIComponent(a.userId)),o=new ee({user_ids:i});r.delete(s,o,t)}})}},{key:"uploadFriendDiscoveries",value:function(n,t){var r=this,i=n.discoveries;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.FRIENDS_DISCOVERIES.replace("%s",encodeURIComponent(a.userId)),o=[];i.forEach(function(e){o.push({friend_discovery_key:e.friendDiscoveryKey,friend_name:"string"==typeof e.friendName||e.friendName?e.friendName:null})});var l=new ee({friend_discoveries:o});r.put(s,l,t)}})}},{key:"deleteFriendDiscoveries",value:function(n,t){var r=this,i=n.discoveryKeys;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.FRIENDS_DISCOVERIES.replace("%s",encodeURIComponent(a.userId)),o=new ee({friend_discovery_keys:i});r.delete(s,o,t)}})}},{key:"loadUserList",value:function(n,t){var r=this,i=n.token,a=n.limit,s=n.userIdsFilter,o=n.metaDataKeyFilter,l=n.metaDataValuesFilter,u=n.nicknameStartsWithFilter;this.sb.ConnectionManager.ready(function(n,c){if(n)t(n,null);else{var d=e.Path.USERS,h=new ee({token:i,limit:a});s&&s.length>0&&h.add("user_ids",s),o&&l&&l.length>0&&(h.add("metadatakey",o),h.add("metadatavalues_in",l)),u&&h.add("nickname_startswith",u),r.get(d,h,t)}})}},{key:"loadBlockedUserList",value:function(n,t){var r=this,i=n.token,a=n.limit,s=n.userIdsFilter;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=e.Path.USERS_USERID_BLOCK.replace("%s",encodeURIComponent(o.userId)),u=new ee({token:i,limit:a});s&&s.length>0&&u.add("user_ids",s),r.get(l,u,t)}})}},{key:"createUserMetaData",value:function(n,t){var r=this,i=n.metaData;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(a.userId)),o=new ee({metadata:i});r.post(s,o,t)}})}},{key:"updateUserMetaData",value:function(n,t){var r=this,i=n.metaData,a=n.upsert;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(s.userId)),l=new ee({metadata:i,upsert:a});r.put(o,l,t)}})}},{key:"deleteUserMetaData",value:function(n,t){var r=this,i=n.metaDataKey;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_METADATA_KEY.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i));r.delete(s,null,t)}})}},{key:"deleteAllUserMetaData",value:function(n,t){var r=this;this.sb.ConnectionManager.ready(function(n,i){if(n)t(n,null);else{var a=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(i.userId));r.delete(a,null,t)}})}},{key:"getMessageChangeLogs",value:function(n,t){var r=this,i=n.channelUrl,a=n.ts,s=n.timestamp,o=n.token,l=n.isOpenChannel,u=n.includeMetaArray,c=n.includeReactions,d=n.includeReplies,h=n.includeParentMessageText,p=n.includeThreadInfo;this.sb.ConnectionManager.ready(function(n,f){if(n)t(n,null);else{var g=l?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS.replace("%s",encodeURIComponent(i)),y=new ee;o&&y.add("token",o),a&&y.add("change_ts",a),s&&y.add("change_ts",s),"boolean"==typeof u&&y.add("with_sorted_meta_array",u),"boolean"==typeof c&&y.add("include_reactions",c),"boolean"==typeof d&&y.add("include_replies",d),"boolean"==typeof h&&y.add("include_parent_text_message",h),"boolean"==typeof p&&y.add("include_thread_info",p),r.get(g,y,t)}})}},{key:"getMyMutedInfo",value:function(n,t){var r=this,i=n.channelUrl,a=n.userId,s=n.isGroupChannel;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=s?e.Path.GROUPCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a));r.get(l,null,t)}})}},{key:"loadBannedUserList",value:function(n,t){var r=this,i=n.token,a=n.limit,s=n.channelUrl,o=n.isOpenChannel;this.sb.ConnectionManager.ready(function(n,l){if(n)t(n,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(s)):e.Path.GROUPCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(s)),c=new ee({token:i,limit:a});r.get(u,c,t)}})}},{key:"loadMutedUserList",value:function(n,t){var r=this,i=n.token,a=n.limit,s=n.channelUrl,o=n.isOpenChannel;this.sb.ConnectionManager.ready(function(n,l){if(n)t(n,null);else{var u=o?e.Path.OPENCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(s)):e.Path.GROUPCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(s)),c=new ee({token:i,limit:a});r.get(u,c,t)}})}},{key:"getMessageList",value:function(n,t){var r=this,i=n.channel,a=n.token,s=n.tokenType,o=n.isInclusive,l=n.prevResultSize,u=void 0===l?0:l,c=n.nextResultSize,d=void 0===c?0:c,h=n.shouldReverse,p=n.messageType,f=n.customType,g=n.customTypes,y=n.senderUserIds,_=n.includeMetaArray,m=n.includeReactions,v=n.includeThreadInfo,C=n.includeReplies,E=n.includeParentMessageText,U=n.showSubchannelMessagesOnly,b=n.rootMessageId,A=n.parentMessageId;this.sb.ConnectionManager.ready(function(n,l){if(n)t(n,null);else{var c=i.isOpenChannel()?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",i.url):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",i.url),S=new ee({is_sdk:String(!0),prev_limit:String(u),next_limit:String(d),include:String(o),reverse:String(h)});"timestamp"===s?S.add("message_ts",a):"messageId"===s&&S.add("message_id",String(a)),p&&S.add("message_type",String(p)),Array.isArray(g)&&(0===g.length&&("string"==typeof f?g.push(f):g.push("*")),S.add("custom_types",g)),Array.isArray(y)&&y.length>0&&S.add("sender_ids",y),"boolean"==typeof _&&S.add("with_sorted_meta_array",_),"boolean"==typeof m&&S.add("include_reactions",m),"boolean"==typeof v&&S.add("include_thread_info",v),"boolean"==typeof C&&S.add("include_replies",C),"boolean"==typeof E&&S.add("include_parent_message_text",E),"boolean"==typeof U&&i.isOpenChannel()&&S.add("show_subchannel_messages_only",U),b&&S.add("root_message_id",b),A&&S.add("parent_message_id",A),r.get(c,S,t)}})}},{key:"translateUserMessage",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.messageId,o=n.translationTargetLanguages;this.sb.ConnectionManager.ready(function(n,l){if(n)t(n,null);else{var u=a?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION.replace("%s",encodeURIComponent(i)).replace("%s",s):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION.replace("%s",encodeURIComponent(i)).replace("%s",s),c=new ee({target_langs:o});r.post(u,c,t)}})}},{key:"getMessage",value:function(n,t){var r=this,i=n.channel,a=n.messageId;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=i.isOpenChannel()?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i.url)).replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i.url)).replace("%s",encodeURIComponent(a));r.get(o,null,t)}})}},{key:"deleteMessage",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.messageId;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=a?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s));r.delete(l,null,t)}})}},{key:"muteUser",value:function(n,t){var r=this,i=n.channelUrl,a=n.userId,s=n.description,o=n.seconds,l=n.isGroupChannel;this.sb.ConnectionManager.ready(function(n,u){if(n)t(n,null);else{var c=l?e.Path.GROUPCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(i)),d=new ee({user_id:a});o&&(o>0||-1!==o)&&d.add("seconds",o),s&&d.add("description",s),r.post(c,d,t)}})}},{key:"unmuteUser",value:function(n,t){var r=this,i=n.channelUrl,a=n.userId,s=n.isGroupChannel;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=s?e.Path.GROUPCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a));r.delete(l,null,t)}})}},{key:"banUser",value:function(n,t){var r=this,i=n.channelUrl,a=n.userId,s=n.description,o=n.seconds,l=n.isGroupChannel;this.sb.ConnectionManager.ready(function(n,u){if(n)t(n,null);else{var c=l?e.Path.GROUPCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(i)),d=new ee({user_id:a});s&&d.add("description",s),d.add("seconds",String(o)),r.post(c,d,t)}})}},{key:"unbanUser",value:function(n,t){var r=this,i=n.channelUrl,a=n.userId,s=n.isGroupChannel;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=s?e.Path.GROUPCHANNELS_CHANNELURL_BAN_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_BAN_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a));r.delete(l,null,t)}})}},{key:"getMetaCounters",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.keys;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=a?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)),u=new ee({keys:s});r.get(l,u,t)}})}},{key:"createMetaCounters",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.metaCounter;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=a?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)),u=new ee({metacounter:s});r.post(l,u,t)}})}},{key:"updateMetaCounters",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.metaCounter,o=n.upsert,l=n.mode;this.sb.ConnectionManager.ready(function(n,u){if(n)t(n,null);else{var c=a?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)),d=new ee({metacounter:s,upsert:o,mode:l});r.put(c,d,t)}})}},{key:"deleteMetaCounter",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.key;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=a?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER_KEY.replace("%s",encodeURIComponent(i)).replace("%s",s):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER_KEY.replace("%s",encodeURIComponent(i)).replace("%s",s);r.delete(l,null,t)}})}},{key:"deleteAllMetaCounters",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=a?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i));r.delete(o,null,t)}})}},{key:"getMetaData",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.keys;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=a?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),u=new ee({keys:s,include_ts:!0});r.get(l,u,t)}})}},{key:"createMetaData",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.metaData;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=a?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),u=new ee({metadata:s,include_ts:!0});r.post(l,u,t)}})}},{key:"updateMetaData",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.metaData,o=n.upsert;this.sb.ConnectionManager.ready(function(n,l){if(n)t(n,null);else{var u=a?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),c=new ee({metadata:s,upsert:o,include_ts:!0});r.put(u,c,t)}})}},{key:"deleteMetaData",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.key;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=a?e.Path.OPENCHANNELS_CHANNELURL_METADATA_KEY.replace("%s",encodeURIComponent(i)).replace("%s",s):e.Path.GROUPCHANNELS_CHANNELURL_METADATA_KEY.replace("%s",encodeURIComponent(i)).replace("%s",s),u=new ee({include_ts:!0});r.delete(l,u,t)}})}},{key:"deleteAllMetaData",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=a?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),l=new ee({include_ts:!0});r.delete(o,l,t)}})}},{key:"loadOperatorList",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.token,o=n.limit;this.sb.ConnectionManager.ready(function(n,l){if(n)t(n,null);else{var u=a?e.Path.OPENCHANNELS_OPERATORS.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_OPERATORS.replace("%s",encodeURIComponent(i)),c=new ee({token:s,limit:o});r.get(u,c,t)}})}},{key:"getOpenChannel",value:function(n,t){var r=this,i=n.channelUrl,a=n.internalCall;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i)),l=new ee({});l.internal=a===T.INTERNAL_CALL,r.get(o,l,t)}})}},{key:"loadOpenChannelList",value:function(n,t){var r=this,i=n.token,a=n.limit,s=n.nameKeyword,o=n.urlKeyword,l=n.customTypes,u=n.includeFrozen,c=n.includeMetaData;this.sb.ConnectionManager.ready(function(n,d){if(n)t(n,null);else{var h=e.Path.OPENCHANNELS,p=new ee({token:i,limit:a});s&&p.add("name_contains",s),o&&p.add("url_contains",o),l&&l.length>0&&p.add("custom_types",l),"boolean"==typeof u&&p.add("show_frozen",u),"boolean"==typeof c&&p.add("show_metadata",c),r.get(h,p,t)}})}},{key:"loadParticipantList",value:function(n,t){var r=this,i=n.token,a=n.limit,s=n.channelUrl;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=e.Path.OPENCHANNELS_CHANNELURL_PARTICIPANTS.replace("%s",encodeURIComponent(s)),u=new ee({token:i,limit:a});r.get(l,u,t)}})}},{key:"createOpenChannel",value:function(n,t){var r=this,i=n.name,a=n.coverUrlOrImage,s=n.data,o=n.operatorUserIds,l=n.customType;this.sb.ConnectionManager.ready(function(n,u){if(n)t(n,null);else{var c=e.Path.OPENCHANNELS,d=new ee;"string"==typeof a&&d.add("cover_url",a),$.isFile(a)&&d.add("cover_file",a),null!==i&&"string"==typeof i&&d.add("name",i),s&&d.add("data",s),o&&(Array.isArray(o)?d.add("operators",o):d.add("operators",[o])),l&&d.add("custom_type",l),r.post(c,d,t)}})}},{key:"updateOpenChannel",value:function(n,t){var r=this,i=n.channelUrl,a=n.name,s=n.coverUrlOrImage,o=n.data,l=n.operatorUserIds,u=n.customType;this.sb.ConnectionManager.ready(function(n,c){if(n)t(n,null);else{var d=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i)),h=new ee;"string"==typeof s&&h.add("cover_url",s),$.isFile(s)&&h.add("cover_file",s,s.name),null!==a&&"string"==typeof a&&h.add("name",a),null!==o&&"string"==typeof o&&h.add("data",o),null!==l&&(Array.isArray(l)?h.add("operator_ids",l):h.add("operator_ids",[l])),null!==u&&"string"==typeof u&&h.add("custom_type",u),r.put(d,h,t)}})}},{key:"deleteOpenChannel",value:function(n,t){var r=this,i=n.channelUrl;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i));r.delete(s,null,t)}})}},{key:"getGroupChannel",value:function(n,t){var r=this,i=n.channelUrl,a=n.showMember,s=n.internalCall;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i)),u=new ee({show_member:a,show_read_receipt:!0,show_delivery_receipt:!0});u.internal=s===T.INTERNAL_CALL,r.get(l,u,t)}})}},{key:"loadGroupChannelList",value:function(n,t){var r=this,i=n.token,a=n.limit,s=n.includeEmpty,o=n.order,l=n.userIdsFilter,u=n.nicknameContainsFilter,c=n.channelNameContainsFilter,d=n.channelUrlsFilter,h=n.customTypesFilter,p=n.customTypeStartsWithFilter,f=n.memberStateFilter,g=n.superChannelFilter,y=n.publicChannelFilter,_=n.unreadChannelFilter,m=n.metadataOrderKeyFilter,v=n.hiddenChannelFilter,C=n.searchFilter,E=n.includeFrozen,U=n.includeMetaData;this.sb.ConnectionManager.ready(function(n,b){if(n)t(n,null);else{var A=e.Path.MYGROUPCHANNELS.replace("%s",encodeURIComponent(b.userId)),S=new ee({token:i,limit:a,order:o,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:String(s),member_state_filter:f});h&&h.length>0&&S.add("custom_types",h),u&&S.add("members_nickname_contains",u),c&&S.add("name_contains",c),C.hasOwnProperty("search_query")&&C.hasOwnProperty("search_fields")&&(S.add("search_query",C.search_query),S.add("search_fields",C.search_fields)),l.userIds&&l.userIds.length>0&&(l.includeMode?(S.add("members_include_in",l.userIds),S.add("query_type",l.queryType.toUpperCase())):S.add("members_exactly_in",l.userIds)),d&&d.length>0&&S.add("channel_urls",d),S.add("super_mode",g),S.add("public_mode",y),S.add("unread_filter",_),m&&S.add("metadata_order_key",m),p&&S.add("custom_type_startswith",p),v&&S.add("hidden_mode",v),"boolean"==typeof E&&S.add("show_frozen",E),"boolean"==typeof U&&S.add("show_metadata",U),r.get(A,S,t)}})}},{key:"loadPublicGroupChannelList",value:function(n,t){var r=this,i=n.token,a=n.limit,s=n.includeEmpty,o=n.order,l=n.channelNameContainsFilter,u=n.channelUrlsFilter,c=n.customTypesFilter,d=n.customTypeStartsWithFilter,h=n.superChannelFilter,p=n.membershipFilter,f=n.metadataOrderKeyFilter,g=n.includeFrozen,y=n.includeMetaData;this.sb.ConnectionManager.ready(function(n,_){if(n)t(n,null);else{var m=r.cls.GroupChannel,v=e.Path.GROUPCHANNELS,C=new ee({token:i,limit:a,order:o,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:String(s),public_mode:m.PublicChannelFilter.PUBLIC,public_membership_mode:p});c&&c.length>0&&C.add("custom_types",c),l&&C.add("name_contains",l),u&&u.length>0&&C.add("channel_urls",u),C.add("super_mode",h),f&&C.add("metadata_order_key",f),d&&C.add("custom_type_startswith",d),"boolean"==typeof g&&C.add("show_frozen",g),"boolean"==typeof y&&C.add("show_metadata",y),r.get(v,C,t)}})}},{key:"createGroupChannel",value:function(n,t){var r=this,i=n.isDistinct,a=n.isSuper,s=n.isBroadcast,o=n.isPublic,l=n.channelUrl,u=n.isDiscoverable,c=n.isStrict,d=n.name,h=n.data,p=n.customType,f=n.coverUrl,g=n.coverImage,y=n.accessCode,_=n.isEphemeral,m=n._invitedUserIds,v=void 0===m?[]:m,C=n.operatorUserIds,E=n.messageSurvivalSeconds;this.sb.ConnectionManager.ready(function(n,m){if(n)t(n,null);else{var U=e.Path.GROUPCHANNELS,b=new ee({user_ids:[m.userId].concat(N(v)).filter(function(e,n,t){return n===t.indexOf(e)})});null!==f&&"string"==typeof f&&b.add("cover_url",f),$.isFile(g)&&b.add("cover_file",g,g.name),null!==l&&b.add("channel_url",l),null!==i&&b.add("is_distinct",i),null!==a&&b.add("is_super",a),null!==s&&b.add("is_broadcast",s),null!==o&&b.add("is_public",o),null!==u&&b.add("is_discoverable",u),null!==c&&b.add("strict",c),null!==_&&b.add("is_ephemeral",_),y&&b.add("access_code",y),null!==d&&"string"==typeof d&&b.add("name",d),h&&b.add("data",h),p&&b.add("custom_type",p),Array.isArray(C)&&C.length>0&&b.add("operator_ids",C),null!==E&&E>-1&&b.add("message_survival_seconds",E),r.post(U,b,t)}})}},{key:"updateGroupChannel",value:function(n,t){var r=this,i=n.isDistinct,a=n.isPublic,s=n.channelUrl,o=n.isDiscoverable,l=n.name,u=n.data,c=n.customType,d=n.coverUrl,h=n.coverImage,p=n.accessCode,f=n.operatorUserIds,g=n.messageSurvivalSeconds;this.sb.ConnectionManager.ready(function(n,y){if(n)t(n,null);else{var _=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(s)),m=new ee;null!==i&&m.add("is_distinct",i),null!==a&&m.add("is_public",a),null!==o&&m.add("is_discoverable",o),null!==p&&m.add("access_code",p),null!==d&&"string"==typeof d&&m.add("cover_url",d),$.isFile(h)&&m.add("cover_file",h,h.name),null!==l&&"string"==typeof l&&m.add("name",l),null!==u&&"string"==typeof u&&m.add("data",u),null!==c&&"string"==typeof c&&m.add("custom_type",c),null!==f&&(Array.isArray(f)?m.add("operator_ids",f):f&&m.add("operator_ids",[f])),null!==g&&g>-1&&m.add("message_survival_seconds",g),r.put(_,m,t)}})}},{key:"addOperators",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=void 0!==a&&a,o=n.operatorUserIds;this.sb.ConnectionManager.ready(function(n,a){if(!n){var l=(s?e.Path.OPENCHANNELS_CHANNELURL_OPERATORS:e.Path.GROUPCHANNELS_CHANNELURL_OPERATORS).replace("%s",encodeURIComponent(i)),u=new ee({operator_ids:o});r.post(l,u,t)}})}},{key:"removeOperators",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=void 0!==a&&a,o=n.operatorUserIds;this.sb.ConnectionManager.ready(function(n,a){if(!n){var l=(s?e.Path.OPENCHANNELS_CHANNELURL_OPERATORS:e.Path.GROUPCHANNELS_CHANNELURL_OPERATORS).replace("%s",encodeURIComponent(i)),u=new ee({operator_ids:o});r.delete(l,u,t)}})}},{key:"inviteToGroupChannel",value:function(n,t){var r=this,i=n.channelUrl,a=n.userIds;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_INVITE.replace("%s",encodeURIComponent(i)),l=new ee({user_ids:a});r.post(o,l,t)}})}},{key:"acceptInvitation",value:function(n,t){var r=this,i=n.channelUrl,a=n.accessCode;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_ACCEPT_INVITATION.replace("%s",encodeURIComponent(i)),l=new ee({user_id:s.userId});a&&l.add("access_code",a),r.put(o,l,t)}})}},{key:"declineInvitation",value:function(n,t){var r=this,i=n.channelUrl;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_DECLINE_INVITATION.replace("%s",encodeURIComponent(i)),o=new ee({user_id:a.userId});r.put(s,o,t)}})}},{key:"joinGroupChannel",value:function(n,t){var r=this,i=n.channelUrl,a=n.accessCode;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_JOIN.replace("%s",encodeURIComponent(i)),l=new ee({user_id:s.userId});a&&l.add("access_code",a),r.put(o,l,t)}})}},{key:"leaveGroupChannel",value:function(n,t){var r=this,i=n.channelUrl;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_LEAVE.replace("%s",encodeURIComponent(i)),o=new ee({user_id:a.userId});r.put(s,o,t)}})}},{key:"hideGroupChannel",value:function(n,t){var r=this,i=n.channelUrl,a=n.hidePreviousMessages,s=n.allowAutoUnhide;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=e.Path.GROUPCHANNELS_CHANNELURL_HIDE.replace("%s",encodeURIComponent(i)),u=new ee({user_id:o.userId,hide_previous_messages:a,allow_auto_unhide:s});r.put(l,u,t)}})}},{key:"unhideGroupChannel",value:function(n,t){var r=this,i=n.channelUrl;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_HIDE.replace("%s",encodeURIComponent(i));r.delete(s,null,t)}})}},{key:"freeze",value:function(n,t){var r=this,i=n.channelUrl,a=n.isGroupChannel,s=n.freezing;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=a?e.Path.GROUPCHANNELS_CHANNELURL_FREEZE.replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_FREEZE.replace("%s",encodeURIComponent(i)),u=new ee({freeze:s});r.put(l,u,t)}})}},{key:"deleteGroupChannel",value:function(n,t){var r=this,i=n.channelUrl;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i));r.delete(s,null,t)}})}},{key:"loadMemberList",value:function(n,t){var r=this,i=n.channelUrl,a=n.token,s=n.limit,o=n.mutedMemberFilter,l=n.order,u=n.memberStateFilter,c=n.nicknameStartsWithFilter;this.sb.ConnectionManager.ready(function(n,d){if(n)t(n,null);else{var h=e.Path.GROUPCHANNELS_MEMBERS.replace("%s",encodeURIComponent(i)),p=new ee({token:a,limit:s,order:l.toLowerCase(),muted_member_filter:o.toLowerCase(),member_state_filter:u,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0});c&&p.add("nickname_startswith",c),r.get(h,p,t)}})}},{key:"report",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.reportCategory,o=n.reportingUserId,l=n.reportDescription;this.sb.ConnectionManager.ready(function(n,u){if(n)t(n,null);else{var c=e.Path.REPORT_CHANNELS.replace("%s",encodeURIComponent(a?"open_channels":"group_channels")).replace("%s",encodeURIComponent(i)),d=new ee({report_category:s});null!=o&&d.add("reporting_user_id",o),null!=l&&d.add("report_description",l),r.post(c,d,t)}})}},{key:"reportUser",value:function(n,t){var r=this,i=n.offendingUserId,a=n.channelUrl,s=n.isOpenChannel,o=n.reportCategory,l=n.reportingUserId,u=n.reportDescription;this.sb.ConnectionManager.ready(function(n,c){if(n)t(n,null);else{var d=e.Path.REPORT_USERS.replace("%s",encodeURIComponent(i)),h=new ee({channel_url:a,channel_type:s?"open_channels":"group_channels",report_category:o});null!=l&&h.add("reporting_user_id",l),null!=u&&h.add("report_description",u),r.post(d,h,t)}})}},{key:"reportMessage",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.messageId,o=n.reportCategory,l=n.reportingUserId,u=n.reportDescription,c=n.offendingUserId;this.sb.ConnectionManager.ready(function(n,d){if(n)t(n,null);else{var h=e.Path.REPORT_MESSAGES.replace("%s",encodeURIComponent(a?"open_channels":"group_channels")).replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)),p=new ee({report_category:o,offending_user_id:c});null!=l&&p.add("reporting_user_id",l),null!=u&&p.add("report_description",u),r.post(h,p,t)}})}},{key:"sendUserMessage",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.message,o=n.data,l=n.customType,u=n.translationTargetLanguages,c=n.metaArrays,d=n.mentionType,h=n.mentionedUserIds,p=n.pushNotificationDeliveryOption,f=n.rootMessageId,g=n.parentMessageId,y=n.appleCriticalAlertOptions;this.sb.ConnectionManager.ready(function(n,_){if(n)t(n,null);else{var m=r.cls.FileMessageParams,v=a?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)),C=new ee({message_type:"MESG",user_id:_.userId,message:s,mention_type:d,mentioned_user_ids:[]});null!=o&&C.add("data",o),null!=l&&C.add("custom_type",l),u&&C.add("translation_target_langs",u),c&&c.length>0&&C.add("sorted_metaarray",c.map(function(e){return e.encode()})),d===r.cls.BaseMessageParams.MentionType.CHANNEL?C.add("mentioned_user_ids",[]):Array.isArray(h)&&h.length>0&&C.add("mentioned_user_ids",h),p&&p!==m.PushNotificationDeliveryOption.DEFAULT&&C.add("push_option",p),f&&C.add("root_message_id",f),g&&C.add("parent_message_id",g),y&&C.add("apple_critical_alert_options",y.serialize()),r.post(v,C,t)}})}},{key:"sendFileMessage",value:function(n,t){var r=this,i=n.channelUrl,a=n.isOpenChannel,s=n.fileUrl,o=n.fileName,l=n.fileSize,u=n.fileType,c=n.data,d=n.customType,h=n.thumbnailSizes,p=n.requireAuth,f=n.metaArrays,g=n.mentionType,y=n.mentionedUserIds,_=n.pushNotificationDeliveryOption,m=n.rootMessageId,v=n.parentMessageId,C=n.appleCriticalAlertOptions;this.sb.ConnectionManager.ready(function(n,E){if(n)t(n,null);else{var U=r.cls.FileMessageParams,b=a?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)),A=new ee({message_type:"FILE",user_id:E.userId,url:s,mention_type:g,mentioned_user_ids:[]});null!=o&&A.add("file_name",o),null!=l&&A.add("file_size",l),null!=u&&A.add("file_type",u),null!=c&&A.add("custom_field",c),null!=d&&A.add("custom_type",d),h&&A.add("thumbnails",h),p&&A.add("require_auth",p),f&&f.length>0&&A.add("sorted_metaarray",f.map(function(e){return e.encode()})),g===r.cls.BaseMessageParams.MentionType.CHANNEL?A.add("mentioned_user_ids",[]):Array.isArray(y)&&y.length>0&&A.add("mentioned_user_ids",y),_&&_!==U.PushNotificationDeliveryOption.DEFAULT&&A.add("push_option",_),m&&A.add("root_message_id",m),v&&A.add("parent_message_id",v),C&&A.add("apple_critical_alert_options",C.serialize()),r.post(b,A,t)}})}},{key:"uploadFile",value:function(n,t){var r=this,i=n.file,a=n.thumbnailSizes,s=n.channelUrl,o=n.progressHandler,l=n.reqId;this.sb.ConnectionManager.ready(function(n,u){if(n)t(n,null);else{var c=P.get(r.sb._iid).container.appInfo;if(c)if("number"==typeof i.size||i.size||(i.size=0),"number"==typeof i.size)if(i.size<=c.uploadSizeLimit){var d=e.Path.STORAGE_FILE,h=new ee;if(h.add("file",i,i.name),s&&"string"==typeof s&&h.add("channel_url",s),a)for(var p=0;p<a.length;p++)h.add("thumbnail"+(p+1),a[p].maxWidth+","+a[p].maxHeight);h.upload.reqId=l,h.upload.deleteRequest=function(){var e=r.cls.FileMessageQueue;e.uploadRequest[l]&&delete e.uploadRequest[l]},h.upload.progressHandler=function(e){o&&"function"==typeof o&&o(e,l)},r.post(d,h,t)}else t(new w("The file size exceeded the upload limit: ".concat(c.uploadSizeLimit),w.FILE_SIZE_LIMIT_EXCEEDED),null);else t(new w("Invalid file size: ".concat(i.size),w.INVALID_PARAMETER),null);else t(new w("Connection should be made first.",w.CONNECTION_REQUIRED),null)}})}},{key:"registerScheduledUserMessage",value:function(n,t){var r=this,i=n.groupChannelParams,a=n.channelUrl,s=n.isOpenChannel;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=s?e.Path.OPENCHANNELS_CHANNELURL_SCHEDULED_MESSAGES.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_SCHEDULED_MESSAGES.replace("%s",encodeURIComponent(a)),u=new ee({scheduled_dt:i._getScheduleString(),user_id:o.userId,message:i.message,data:i.data});i.customType&&u.add("custom_type",i.customType),i.metaArrayKeys&&Object.keys(i.metaArrayKeys).length>0&&u.add("metaarray",i.metaArrayKeys),i.mentionType&&u.add("mention_type",i._mentionType),i._mentionType===r.cls.BaseMessageParams.MentionType.CHANNEL?u.add("mentioned_user_ids",[]):Array.isArray(i._mentionedUserIds)&&i._mentionedUserIds.length>0&&u.add("mentioned_user_ids",i._mentionedUserIds),i.translationTargetLanguages&&i.translationTargetLanguages.length>0&&u.add("translation_target_langs",i.translationTargetLanguages),i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==r.cls.BaseMessageParams.PushNotificationDeliveryOption.DEFAULT&&u.add("push_option",i.pushNotificationDeliveryOption),i.appleCriticalAlertOptions&&u.add("apple_critical_alert_options",i.appleCriticalAlertOptions.serialize()),r.post(l,u,t)}})}},{key:"getMyPushTriggerOption",value:function(n,t){var r=this,i=n.channelUrl;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_PUSHPREFERENCE_CHANNELURL.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i));r.get(s,null,t)}})}},{key:"setMyPushTriggerOption",value:function(n,t){var r=this,i=n.channelUrl,a=n.pushTriggerOption,s=n.enable;this.sb.ConnectionManager.ready(function(n,o){if(n)t(n,null);else{var l=e.Path.USERS_USERID_PUSHPREFERENCE_CHANNELURL.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(i)),u=new ee;a&&u.add("push_trigger_option",a),"boolean"==typeof s&&u.add("enable",s),r.put(l,u,t)}})}},{key:"setMyCountPreference",value:function(n,t){var r=this,i=n.channelUrl,a=n.countPreference;this.sb.ConnectionManager.ready(function(n,s){if(n)t(n,null);else{var o=e.Path.USERS_COUNT_PREFERENCE.replace("%s",encodeURIComponent(s.userId)).replace("%s",encodeURIComponent(i)),l=new ee({count_preference:a});r.put(o,l,t)}})}},{key:"resetMyHistory",value:function(n,t){var r=this,i=n.channelUrl;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.GROUPCHANNELS_RESET_USER_HISTORY.replace("%s",encodeURIComponent(i));r.put(s,null,t)}})}},{key:"addReaction",value:function(n,t){var r=this,i=n.isGroupChannel,a=n.channelUrl,s=n.messageId,o=n.key;this.sb.ConnectionManager.ready(function(n,l){if(n)t(n,null);else{var u=i?e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)):e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)),c=new ee({reaction:o});r.post(u,c,t)}})}},{key:"deleteReaction",value:function(n,t){var r=this,i=n.isGroupChannel,a=n.channelUrl,s=n.messageId,o=n.key;this.sb.ConnectionManager.ready(function(n,l){if(n)t(n,null);else{var u=i?e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)):e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)),c=new ee({reaction:o});r.delete(u,c,t)}})}},{key:"getAllEmoji",value:function(n){var t=this;this.sb.ConnectionManager.ready(function(r,i){r?n(r,null):t.get(e.Path.EMOJI_CATEGORIES,null,n)})}},{key:"getEmojiCategory",value:function(n,t){var r=this,i=n.categoryId;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.EMOJI_CATEGORIES_CATEGORYID.replace("%s",i);r.get(s,null,t)}})}},{key:"getEmoji",value:function(n,t){var r=this,i=n.emojiKey;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.EMOJIS_EMOJIKEY.replace("%s",i);r.get(s,null,t)}})}},{key:"getAllowFriendDiscovery",value:function(n){var t=this;this.sb.ConnectionManager.ready(function(r,i){if(r)n(r,null);else{var a=e.Path.USERS_USERID_ALLOW_FRIEND_DISCOVERY.replace("%s",encodeURIComponent(i.userId));t.get(a,null,n)}})}},{key:"setAllowFriendDiscovery",value:function(n,t){var r=this,i=n.allowFriendDiscovery;this.sb.ConnectionManager.ready(function(n,a){if(n)t(n,null);else{var s=e.Path.USERS_USERID_ALLOW_FRIEND_DISCOVERY.replace("%s",encodeURIComponent(a.userId)),o=new ee;"boolean"==typeof i&&o.add("allow_friend_discovery",i),r.put(s,o,t)}})}}],[{key:"Path",get:function(){return{USERS:"/users",USERS_USERID:"/users/%s",USERS_USERID_LOGIN:"/users/%s/login",USERS_USERID_SESSION_KEY:"/users/%s/session_key",USERS_USERID_METADATA:"/users/%s/metadata",USERS_USERID_METADATA_KEY:"/users/%s/metadata/%s",USERS_USERID_MARKASREADALL:"/users/%s/mark_as_read_all",USERS_USERID_MY_GROUP_CHANNEL_CHANGELOGS:"/users/%s/my_group_channels/changelogs",USERS_USERID_UNREAD_ITEM_COUNT:"/users/%s/unread_item_count",USERS_USERID_UNREAD_MESSAGE_COUNT:"/users/%s/unread_message_count",USERS_USERID_UNREAD_CHANNEL_COUNT:"/users/%s/unread_channel_count",USERS_USERID_PUSH_GCM_TOKEN:"/users/%s/push/gcm/%s",USERS_USERID_PUSH_GCM:"/users/%s/push/gcm",USERS_USERID_PUSH_DEVICE_TOKENS:"/users/%s/push/%s/device_tokens",USERS_USERID_PUSHPREFERENCE_CHANNELURL:"/users/%s/push_preference/%s",USERS_USERID_PUSHPREFERENCE:"/users/%s/push_preference/",USERS_USERID_PUSH_TEMPLATE:"/users/%s/push/template",USERS_USERID_BLOCK:"/users/%s/block",USERS_USERID_BLOCK_TARGETID:"/users/%s/block/%s",USERS_USERID_PUSH_APNS_TOKEN:"/users/%s/push/apns/%s",USERS_USERID_PUSH_APNS:"/users/%s/push/apns",USERS_USERID_PUSH:"/users/%s/push",USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE:"/users/%s/channel_invitation_preference",USERS_USERID_GROUP_CHANNEL_COUNT:"/users/%s/group_channel_count",USERS_COUNT_PREFERENCE:"/users/%s/count_preference/%s",USERS_USERID_ALLOW_FRIEND_DISCOVERY:"/users/%s/allow_friend_discovery",OPENCHANNELS:"/open_channels",OPENCHANNELS_CHANNELURL:"/open_channels/%s",OPENCHANNELS_CHANNELURL_MESSAGES:"/open_channels/%s/messages",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID:"/open_channels/%s/messages/%s",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION:"/open_channels/%s/messages/%s/translation",OPENCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS:"/open_channels/%s/messages/changelogs",OPENCHANNELS_CHANNELURL_SCHEDULED_MESSAGES:"/open_channels/%s/scheduled_messages",OPENCHANNELS_CHANNELURL_PARTICIPANTS:"/open_channels/%s/participants",OPENCHANNELS_CHANNELURL_OPERATORS:"/open_channels/%s/operators",OPENCHANNELS_CHANNELURL_METADATA:"/open_channels/%s/metadata",OPENCHANNELS_CHANNELURL_METADATA_KEY:"/open_channels/%s/metadata/%s",OPENCHANNELS_CHANNELURL_METACOUNTER:"/open_channels/%s/metacounter",OPENCHANNELS_CHANNELURL_METACOUNTER_KEY:"/open_channels/%s/metacounter/%s",OPENCHANNELS_CHANNELURL_BAN:"/open_channels/%s/ban",OPENCHANNELS_CHANNELURL_BAN_USERID:"/open_channels/%s/ban/%s",OPENCHANNELS_CHANNELURL_MUTE:"/open_channels/%s/mute",OPENCHANNELS_CHANNELURL_MUTE_USERID:"/open_channels/%s/mute/%s",OPENCHANNELS_CHANNELURL_FREEZE:"/open_channels/%s/freeze",OPENCHANNELS_OPERATORS:"/open_channels/%s/operators",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION:"/open_channels/%s/messages/%s/reactions",GROUPCHANNELS:"/group_channels",MYGROUPCHANNELS:"/users/%s/my_group_channels",GROUPCHANNELS_CHANNELURL:"/group_channels/%s",GROUPCHANNELS_CHANNELURL_INVITE:"/group_channels/%s/invite",GROUPCHANNELS_CHANNELURL_ACCEPT_INVITATION:"/group_channels/%s/accept",GROUPCHANNELS_CHANNELURL_DECLINE_INVITATION:"/group_channels/%s/decline",GROUPCHANNELS_CHANNELURL_HIDE:"/group_channels/%s/hide",GROUPCHANNELS_CHANNELURL_LEAVE:"/group_channels/%s/leave",GROUPCHANNELS_CHANNELURL_JOIN:"/group_channels/%s/join",GROUPCHANNELS_CHANNELURL_OPERATORS:"/group_channels/%s/operators",GROUPCHANNELS_CHANNELURL_MESSAGES:"/group_channels/%s/messages",GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASREAD:"/group_channels/%s/messages/mark_as_read",GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASDELIVERED:"/group_channels/%s/messages/mark_as_delivered",GROUPCHANNELS_CHANNELURL_MESSAGES_TOTALCOUNT:"/group_channels/%s/messages/total_count",GROUPCHANNELS_CHANNELURL_MESSAGES_UNREADCOUNT:"/group_channels/%s/messages/unread_count",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID:"/group_channels/%s/messages/%s",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION:"/group_channels/%s/messages/%s/translation",GROUPCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS:"/group_channels/%s/messages/changelogs",GROUPCHANNELS_CHANNELURL_SCHEDULED_MESSAGES:"/group_channels/%s/scheduled_messages",GROUPCHANNELS_CHANNELURL_MEMBERS:"/group_channels/%s/members",GROUPCHANNELS_CHANNELURL_METADATA:"/group_channels/%s/metadata",GROUPCHANNELS_CHANNELURL_METADATA_KEY:"/group_channels/%s/metadata/%s",GROUPCHANNELS_CHANNELURL_METACOUNTER:"/group_channels/%s/metacounter",GROUPCHANNELS_CHANNELURL_METACOUNTER_KEY:"/group_channels/%s/metacounter/%s",GROUPCHANNELS_RESET_USER_HISTORY:"/group_channels/%s/reset_user_history",GROUPCHANNELS_OPERATORS:"/group_channels/%s/operators",GROUPCHANNELS_MEMBERS:"/group_channels/%s/members",GROUPCHANNELS_CHANNELURL_BAN:"/group_channels/%s/ban",GROUPCHANNELS_CHANNELURL_BAN_USERID:"/group_channels/%s/ban/%s",GROUPCHANNELS_CHANNELURL_MUTE:"/group_channels/%s/mute",GROUPCHANNELS_CHANNELURL_MUTE_USERID:"/group_channels/%s/mute/%s",GROUPCHANNELS_CHANNELURL_FREEZE:"/group_channels/%s/freeze",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION:"/group_channels/%s/messages/%s/reactions",STORAGE_FILE:"/storage/file",STORAGE_PROFILE:"/storage/profile_image",FRIENDS:"/users/%s/friends",FRIENDS_CHANGE_LOGS:"/users/%s/friends/changelogs",FRIENDS_DISCOVERIES:"/users/%s/friend_discoveries",SEARCH_MESSAGE:"/search/messages",REPORT_USERS:"/report/users/%s",REPORT_CHANNELS:"/report/%s/%s",REPORT_MESSAGES:"/report/%s/%s/messages/%s",EMOJIS_EMOJIKEY:"/emojis/%s",EMOJI_CATEGORIES:"/emoji_categories",EMOJI_CATEGORIES_CATEGORYID:"/emoji_categories/%s"}}}]),e}(),te=function(){function e(n,t){p(this,e),this.sb=n,this.ws=null,this.wsHost=null,this.WebSocket=null,this.handler=t||new e.ConnectionHandler,this.explicitDisconnect=!1,this.lastActiveMillis=0;try{this.WebSocket="undefined"==typeof WebSocket?u.default:WebSocket}catch(e){this.WebSocket=WebSocket}}return g(e,[{key:"connect",value:function(e,n,t){var r=this;W.debug("`WebSocketClient.connect` called.");var i=P.get(this.sb._iid).container,a=i.pinger,s=i.auth,o=i.extensions,l=i.getUserAgentWithExtensions,u=i.sessionManager;this.wsHost=t;try{var c="/?p=JS&pv="+encodeURIComponent(T.OS_VERSION)+"&sv="+encodeURIComponent(T.SDK_VERSION)+"&ai="+encodeURIComponent(this.sb.getApplicationId());if(s.sessionKey?c+="&key="+encodeURIComponent(s.sessionKey):c+="&user_id="+encodeURIComponent(e)+"&access_token="+encodeURIComponent(n),c+="&active=1",c+="&SB-User-Agent="+encodeURIComponent(l(o)),c+="&Request-Sent-Timestamp="+(new Date).getTime().toString(),c+="&include_extra_data="+encodeURIComponent(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"].join(",")),u.handler&&(c+="&expiring_session=1"),this.ws=new this.WebSocket(this.wsHost+c),!this.ws)return this.sb.isReconnectingOnError=!0,void this.handler.onError("ws does not exist.")}catch(e){return this.sb.isReconnectingOnError=!0,void this.handler.onError(e)}try{this.sb.getDebugMode()&&"undefined"!=typeof window&&(window.ws=this.ws)}catch(e){W.debug("`window` object does not exist.")}var d=!1;this.ws.onopen=function(e){W.debug("`WebSocket.onopen` called."),r.handler.onOpen(e)},this.ws.onmessage=function(e){r.active();var n=e.data.split("\n");for(var t in n){var i=n[t];if(i&&"string"==typeof i){try{if("PONG"===i.substring(0,4)){a.pong();continue}}catch(e){W.debug("`WebSocket.onmessage` command check error:",e)}r.handler.onMessage(i)}}},this.ws.onerror=function(e){W.debug("`WebSocket.onerror` called:",e),a&&a.stop(),d=!0,r.sb.isReconnectingOnError=!0,r.handler.onError(e)},this.ws.onclose=function(e){W.group("`WebSocket.onclose` called.",[{level:W.supportedLogLevels.DEBUG,messages:["e",e]},{level:W.supportedLogLevels.DEBUG,messages:["explicitDisconnect",r.explicitDisconnect]}]),a&&a.stop(),r.explicitDisconnect?r.handler.onClose(e):d||r.handler.onError(e),r.explicitDisconnect=!1}}},{key:"disconnect",value:function(e,n){W.group("`WebSocketClient.onclose` called.",[{level:W.supportedLogLevels.DEBUG,messages:["explicit",e]}]);var t=P.get(this.sb._iid).container.pinger;t&&t.stop(),this.explicitDisconnect=!0===e,this.ws&&(this.ws.onopen=function(){},this.ws.onmessage=function(){},this.ws.onclose=function(){n&&n()},this.ws.onerror=function(){},this.ws.close(),this.ws=null),this.explicitDisconnect?this.handler.onClose():this.handler.onError(),this.explicitDisconnect=!1}},{key:"send",value:function(e,n){if(1!==this.ws.readyState)n&&n(new w("Connection is not valid. Please reconnect.",w.WEBSOCKET_CONNECTION_CLOSED),null);else{var t=P.get(this.sb._iid).container.pinger;this.ws.send(e.encode()),"PING"!==e.command&&t.refreshTimer(),n&&n(null,null)}}},{key:"active",value:function(){this.lastActiveMillis=(new Date).getTime()}},{key:"getConnectionState",value:function(){try{return 1===this.ws.readyState?this.sb.ConnectionState.OPEN:0===this.ws.readyState?this.sb.ConnectionState.CONNECTING:this.sb.ConnectionState.CLOSED}catch(e){return this.sb.ConnectionState.CLOSED}}}]),e}();te.ConnectionHandler=function e(){p(this,e),this.onReady=function(){},this.onOpen=function(){},this.onClose=function(){},this.onMessage=function(){},this.onError=function(){}};var re=function(){function e(n){p(this,e),this.sb=n,this.cls=F.get(this.sb._iid),this.client=new te(this.sb),this.connectParams={retryCount:1},this.reconnectParams={interval:3,retryCount:3,multiplier:2,maxInterval:24},this.connectCount=0,this.reconnectCount=0,this.reconnectDelay=0}return g(e,[{key:"isConnected",get:function(){return this.client&&this.client.getConnectionState()===this.sb.ConnectionState.OPEN}},{key:"connect",value:function(e,n){var t=this,r=P.get(this.sb._iid).container,i=r.auth,a=r.apiClient,s=r.commandHandler;i.sessionToken=n||null;var o=this.cls.GroupChannel,l=null,u=new te.ConnectionHandler;this.client=new te(this.sb,u),u.onMessage=function(e){s.onRawCommandReceived(e)},this.sb.loginHandler=function(e,n){if(t.sb.connecting=!1,e)t.disconnect({clearSession:!0,err:e},null);else{clearInterval(t.sb.globalTimer);var r=function(){if(o.cachedChannels)for(var e in o.cachedChannels){var n=o.cachedChannels[e];if(n.invalidateTypingStatus())for(var r in t.sb.channelHandlers)t.sb.channelHandlers[r].onTypingStatusUpdated(n)}};r(),t.sb.globalTimer=setInterval(function(){return r()},1e3),t.flushConnectionCallbacks(null,n),t.sb.connecting=!1,t.sb.reconnecting=!1,t.sb.ConnectionManager.processAllReadyHandler(null)}},u.onOpen=function(){t.connectCount=0,t.sb.loginTimer=setTimeout(function(){t.sb.loginTimer=null,t.sb.onLoginTimerCancel=null,t.flushConnectionCallbacks(new w("Connection timeout.",w.LOGIN_TIMEOUT),null),t.sb.disconnect(null)},t.sb.Options.websocketResponseTimeout),t.sb.onLoginTimerCancel=function(){t.connectCount=0,t.flushConnectionCallbacks(new w("Connection has been canceled.",w.REQUEST_FAILED),null)},t.sb.connecting=!1},u.onError=function(r){W.debug("Connect: `WebSocketClient.ConnectionHandler.onError` called.",r),i.sessionKey?(t.sb.isReconnectingOnError=!0,t.sb.ConnectionManager.errorAllReadyHandler(),t.reconnect(e,!0),t.sb.connecting=!1):t.connectCount<t.connectParams.retryCount?(t.connectCount++,t.client.connect(e,n,l)):(t.connectCount=0,t.flushConnectionCallbacks(new w("Websocket connection failed.",w.WEBSOCKET_CONNECTION_FAILED),null),t.sb.connecting=!1)},u.onClose=function(){W.debug("Connect: `WebSocketClient.ConnectionHandler.onClose` called."),t.connectCount=0,t.sb.connecting=!1},a.checkRouting(function(r,i){if(r)return t.sb.connecting=!1,void t.flushConnectionCallbacks(new w("Connection routing failed.",w.REQUEST_FAILED),null);l=i.wsHost,a.dummyCall(function(e){e&&W.error("API dummy call failed:",e)}),t.client.connect(e,n,l)})}},{key:"reconnect",value:function(e){var n=this,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=P.get(this.sb._iid).container,i=r.auth,a=r.apiClient,s=r.commandHandler,o=r.sessionManager,l=this.cls.OpenChannel;if(this.sb.reconnecting=!0,this.sb.reconnectTimer)W.debug("Reconnect: still reconnecting.");else{if(this.reconnectCount+=1,this.reconnectCount<=1){if(t)for(var u in this.sb.connectionHandlers){this.sb.connectionHandlers[u].onReconnectStarted()}this.reconnectDelay=0}else this.reconnectDelay=Math.min(1e3*this.reconnectParams.interval*Math.pow(this.reconnectParams.multiplier,this.reconnectCount-2),this.reconnectParams.maxInterval>0?1e3*this.reconnectParams.maxInterval:Number.MAX_SAFE_INTEGER);if(!e||!i.sessionKey||this.reconnectParams.retryCount>0&&this.reconnectCount>this.reconnectParams.retryCount){for(var c in this.disconnect({clearSession:!1,err:new w("Websocket connection failed.",w.WEBSOCKET_CONNECTION_FAILED)},null),this.reconnectCount=0,this.sb.connectionHandlers){this.sb.connectionHandlers[c].onReconnectFailed()}return this.sb.connecting=!1,this.sb.reconnecting=!1,this.sb.isReconnectingOnError=!1,void this.sb.ConnectionManager.errorAllReadyHandler()}this.sb.onReconnectTimerCancel=function(){n.reconnectCount=0},this.sb.reconnectTimer=setTimeout(function(){n.sb.reconnectTimer=null,n.sb.onReconnectTimerCancel=null,n.client&&n.client.disconnect(!0);var t=new te.ConnectionHandler;n.client=new te(n.sb,t),n.sb.loginHandler=function(t,r){if(t)t.isSessionKeyExpiredError?o.refresh(function(){}):(clearTimeout(n.sb.reconnectTimer),n.sb.reconnectTimer=null,n.reconnect(e,!1));else{for(var i in n.reconnectCount=0,n.sb.connecting=!1,n.sb.reconnecting=!1,n.sb.isReconnectingOnError=!1,n.sb.connectionHandlers)n.sb.connectionHandlers[i].onReconnectSucceeded();if(n.sb.ConnectionManager.processAllReadyHandler(null),n.sb.isReconnectingOnError)for(var a in n.sb.ConnectionManager.networkHandlers)n.sb.ConnectionManager.networkHandlers[a].onReconnected();Object.keys(l.enteredChannels).forEach(function(e){l.enteredChannels[e].enter(function(t,r){if(t){var i=n.cls.FileMessageQueue;delete l.enteredChannels[e],i.delete(e)}})})}},t.onOpen=function(){W.debug("Reconnect: `WebSocketClient.ConnectionHandler.onOpen` called."),n.sb.loginTimer=setTimeout(function(){W.debug("Reconnect: `loginTimer` timeout."),n.sb.loginTimer=null,n.reconnect(e,!0)},n.sb.Options.websocketResponseTimeout),n.sb.onLoginTimerCancel=null,n.sb.reconnecting=!1},t.onMessage=function(e){s.onRawCommandReceived(e)},t.onError=function(t){W.debug("Reconnect: `WebSocketClient.ConnectionHandler.onError` called.",t),n.sb.isReconnectingOnError=!0,n.sb.ConnectionManager.errorAllReadyHandler(),n.reconnect(e,!0)},t.onClose=function(){W.debug("Reconnect: `WebSocketClient.ConnectionHandler.onClose` called."),n.sb.reconnecting=!1},a.checkRouting(function(t,r){t?n.reconnect(e,!0):(n.sb.getCurrentApiHost()!==r.apiHost&&a.get("/",null,function(){}),n.client.connect(e,null,r.wsHost))})},this.reconnectDelay)}}},{key:"disconnect",value:function(e,n){var t=P.get(this.sb._iid),r=t.container.ackStateMap,i=this.cls,a=i.GroupChannel,s=i.OpenChannel,o=e.clearSession,l=e.err;if(this.sb.loginTimer&&(clearTimeout(this.sb.loginTimer),this.sb.onLoginTimerCancel&&(this.sb.onLoginTimerCancel(),this.sb.onLoginTimerCancel=null),this.sb.loginTimer=null),this.sb.reconnectTimer&&(clearTimeout(this.sb.reconnectTimer),this.sb.onReconnectTimerCancel&&(this.sb.onReconnectTimerCancel(),this.sb.onReconnectTimerCancel=null),this.sb.reconnectTimer=null),this.client&&(this.reconnectCount=0,this.client.disconnect(!0),this.client=null),o){for(var u in s.clearEnteredChannels(),s.clearCache(),a.clearCache(),this.sb.globalTimer&&(clearInterval(this.sb.globalTimer),this.sb.globalTimer=null),r)clearTimeout(r[u].timer);this.sb.currentUser=null,t.set("ackStateMap",{}),t.set("subscribedUnreadMessageCount",{all:0,custom_types:{},ts:0}),t.set("auth",new D)}l&&(this.flushConnectionCallbacks(l,null),this.sb.connecting=!1,this.sb.reconnecting=!1,this.sb.isReconnectingOnError=!1),n&&n(null,null)}},{key:"flushConnectionCallbacks",value:function(e,n){var t=this.sb.connectionCallbacks;this.sb.connectionCallbacks=[],t.forEach(function(t){return t(e,n)})}}]),e}(),ie=function(){function e(n){var t=n.type,r=n.nullable,i=void 0!==r&&r,a=n.optional,s=void 0!==a&&a,o=n.optionalIf,l=void 0===o?null:o,u=n.ignoreIf,c=void 0===u?null:u,d=n.defaultValue,h=void 0===d?null:d,f=n.constraint,g=void 0===f?null:f;p(this,e),this.type=t,this.nullable=i,this.optional=s,this.optionalIf=l,this.ignoreIf=c,this.defaultValue=h,this.constraint=g}return g(e,[{key:"isMatchingType",value:function(e){var n=function(n,t){return"string"==typeof t?h(n)===t||"array"===t&&Array.isArray(n)||"file"===t&&$.isFile(n)||"null"===t&&null===n||"date"===t&&n instanceof Date:"function"==typeof t?n instanceof t:"object"===h(t)&&Object.keys(t).map(function(e){return t[e]}).indexOf(e)>-1};return n(e,this.type)||Array.isArray(this.type)&&this.type.some(function(t){return n(e,t)})||this.nullable&&null===e}}],[{key:"parse",value:function(n,t){for(n=e.toArray(n);n.length>0&&void 0===n[n.length-1];)n.pop();var r=!1,i=null;"callback"===t[t.length-1].type&&("function"==typeof n[n.length-1]&&(i=n.pop()),t.pop(),r=!0);var a=[],s=null,o=0;for(var l in t){var u=t[l];"function"==typeof u.ignoreIf&&u.ignoreIf(n)?a.push(u.hasOwnProperty("defaultValue")?u.defaultValue:null):u.isMatchingType(n[o])?(u.nullable&&null===n[o]||!u.constraint||u.constraint(n[o])||(s=e.error),a.push(n[o]),o++):u.optional||"function"==typeof u.optionalIf&&u.optionalIf(n)?a.push(u.hasOwnProperty("defaultValue")?u.defaultValue:null):(s=e.error,a.push(n[o]),o++)}return r&&i&&a.push(i),n.length!==o&&(s=e.error),[s].concat(a)}},{key:"error",get:function(){return new w("Invalid parameter.",w.INVALID_PARAMETER)}},{key:"toArray",value:function(e){for(var n=[],t=0;t<e.length;t++)n.push(e[t]);return n}}]),e}(),ae=function(){function e(n){p(this,e),this.sb=n,this.authCount=0,this.readyHandlers=[],this.networkHandlers={},this.authenticateTimer=1e4,this.authInfoRequester=null}return g(e,[{key:"addReadyHandler",value:function(e){e&&"function"==typeof e&&this.readyHandlers.push(e)}},{key:"ready",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=P.get(this.sb._iid).container,r=t.auth,i=t.isInBackground;n&&r.hasSession()?e&&(this.sb.currentUser?e(null,this.sb.currentUser):(this.addReadyHandler(e),this.errorAllReadyHandler()),this.sb.getConnectionState()!==this.sb.ConnectionState.CLOSED||i||this.sb.reconnect()):(this.addReadyHandler(e),this.sb.isReconnectingOnError?this.errorAllReadyHandler():this.sb.getConnectionState()===this.sb.ConnectionState.OPEN?this.processAllReadyHandler(null):this.sb.getConnectionState()===this.sb.ConnectionState.CONNECTING||this.errorAllReadyHandler())}},{key:"processAllReadyHandler",value:function(e){if(this.readyHandlers.length>0){var n=this.sb.currentUser,t=this.readyHandlers;this.readyHandlers=[],t.forEach(function(t){t&&"function"==typeof t&&t(e,n)})}}},{key:"errorAllReadyHandler",value:function(){this.processAllReadyHandler(new w("Connection should be made first.",w.CONNECTION_REQUIRED))}},{key:"NetworkHandler",value:function(){this.onReconnected=function(){}}},{key:"addNetworkHandler",value:function(e,n){this.networkHandlers[e]=n}},{key:"removeNetworkHandler",value:function(e){delete this.networkHandlers[e]}},{key:"removeAllNetworkHandler",value:function(){this.networkHandlers={}}},{key:"authenticate",value:function(e){var n=this;if(this.sb.getConnectionState()===this.sb.ConnectionState.OPEN||this.sb.reconnecting)this.sb.connecting=!1,e(null,this.sb.currentUser);else if(this.authInfoRequester&&"function"==typeof this.authInfoRequester){this.sb.connecting=!0,this.authCount++;var t=setTimeout(function(){t=null,n.authCount--,0===n.authCount&&0===n.sb.connectionCallbacks.length&&(n.sb.connecting=!1),n.errorAllReadyHandler(),e(new w("Connection should be made first.",w.CONNECTION_REQUIRED),null)},this.authenticateTimer);this.authInfoRequester(function(r){if(t){clearTimeout(t),t=null,n.authCount--;var i=function(t,r){n.sb.connecting=!1,e(t,null)};r&&r.hasOwnProperty("userId")?r.accessToken?r.apiHost&&r.wsHost?n.sb.connect(r.userId,r.accessToken,r.apiHost,r.wsHost,i):n.sb.connect(r.userId,r.accessToken,i):r.apiHost&&r.wsHost?n.sb.connect(r.userId,r.apiHost,r.wsHost,i):n.sb.connect(r.userId,i):e(ie.error,null)}})}else e(ie.error,null)}}]),e}(),se=function e(){p(this,e),this.onSessionExpired=function(){},this.onSessionTokenRequired=function(e,n){return e(null)},this.onSessionError=function(e){},this.onSessionRefreshed=function(){},this.onSessionClosed=function(){}},oe=function(){function e(n){p(this,e),this.sb=n,this.handler=null,this.callbacks=[]}return g(e,[{key:"_refreshSessionKey",value:function(){var e=this;P.get(this._iid).container.wsAdapter.isConnected?this._refreshSessionKeyByCommand(function(n){n?n.isSessionTokenExpiredError?e._handleRefreshError(n):e._refreshSessionKeyByApi(function(n){n?e._handleRefreshError(n):e._handleRefreshSuccess()}):e._handleRefreshSuccess()}):this._refreshSessionKeyByApi(function(n){n?e._handleRefreshError(n):e._handleRefreshSuccess()})}},{key:"_refreshSessionKeyByCommand",value:function(e){var n=this.sb,t=P.get(this._iid).container.auth,r=F.get(this._iid).Command,i=r.bSessionRefresh({token:t.sessionToken,requestId:r.generateRequestId()});n.sendCommand(i,function(r,i){if(n.getErrorFirstCallback()){var a=[r,i];i=a[0],r=a[1]}r&&(r.hasOwnProperty("error")?i=new w("Failed to refresh the session key.",w.SESSION_TOKEN_REFRESH_FAILED):r.hasOwnProperty("new_key")&&(t.sessionKey=r.new_key)),e(i)})}},{key:"_refreshSessionKeyByApi",value:function(e){var n=this;!function t(r){if(r<3){var i=P.get(n._iid).container,a=i.auth,s=i.apiClient,o={};a.sessionToken&&(o.accessToken=a.sessionToken),s.refreshSessionKey(o,function(n,i){if(n)n.isSessionTokenExpiredError?e(new w("Failed to refresh the session key.",w.SESSION_TOKEN_REFRESH_FAILED)):t(r+1);else{var s=i.key;a.sessionKey=s,e(null)}})}else e(new w("Failed to refresh the session key.",w.SESSION_TOKEN_REFRESH_FAILED))}(0)}},{key:"_handleRefreshSuccess",value:function(){var e=this.sb;e.reconnectTimer&&(clearTimeout(e.reconnectTimer),e.reconnectTimer=null),e.reconnect(),this._flushCallbacks(new w("Session key refreshed.",w.SESSION_TOKEN_REFRESHED)),this.handler&&this.handler.onSessionRefreshed()}},{key:"_handleRefreshError",value:function(e){this._flushCallbacks(e),this.handler&&this.handler.onSessionError(e)}},{key:"_handleClose",value:function(){var e=this;this.sb.disconnect(function(){e._flushCallbacks(new w("Failed to refresh the session key.",w.SESSION_TOKEN_REFRESH_FAILED)),e.handler&&e.handler.onSessionClosed()})}},{key:"_flushCallbacks",value:function(e){this.callbacks.forEach(function(n){return n(e)}),this.callbacks=[]}},{key:"setHandler",value:function(e){e instanceof se&&(this.handler=e)}},{key:"refresh",value:function(e){var n=this,t=this.sb,r=P.get(this._iid).container.auth;this.handler?(this.callbacks.push(e),1===this.callbacks.length&&(this.handler.onSessionExpired(),r.sessionToken?this.handler.onSessionTokenRequired(function(e){e?(r.sessionToken=e,n._refreshSessionKey()):n._handleClose()},function(){t.reconnectTimer&&(clearTimeout(t.reconnectTimer),t.reconnectTimer=null);var e=new w("Failed to get the session token.",w.SESSION_TOKEN_REQUEST_FAILED);n._flushCallbacks(e),n.handler&&n.handler.onSessionError(e)}):this._refreshSessionKey())):e(null)}}]),e}(),le=function(){function e(n){p(this,e),this.sb=n}return g(e,[{key:"onlineWorker",value:function(){try{if("undefined"!=typeof navigator&&navigator.onLine){var e=P.get(this.sb._iid).container.auth;this.sb.reconnecting||this.sb.connecting||!e.sessionKey||this.sb.getConnectionState()===this.sb.ConnectionState.OPEN||this.sb.reconnect()}}catch(e){W.debug("There is no `window.addEventListener.ononline` or `navigator.onLine`")}}},{key:"offlineWorker",value:function(){try{if("undefined"!=typeof navigator&&!navigator.onLine){var e=P.get(this.sb._iid).container,n=e.auth,t=e.pinger;this.sb.reconnecting||this.sb.connecting||!n.sessionKey||(t&&t.stop(),this.sb.reconnect())}}catch(e){W.debug("There is no `window.addEventListener.ononline` or `navigator.onLine`")}}},{key:"start",value:function(){try{"undefined"!=typeof window&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&"undefined"!=typeof navigator&&"boolean"==typeof navigator.onLine&&(window.addEventListener("online",this.onlineWorker),window.addEventListener("offline",this.offlineWorker))}catch(e){W.debug("There is no `window.addEventListener.ononline` or `navigator.onLine`")}}},{key:"stop",value:function(){try{window.removeEventListener("online",this.onlineWorker,!1),window.removeEventListener("offline",this.offlineWorker,!1)}catch(e){W.debug("There is no `window.addEventListener.ononline` or `navigator.onLine`")}}}]),e}(),ue=(new Date).getTime(),ce=function(){function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(p(this,e),this.command=n,this.requestId=r,arguments.length){case 1:if(!n||n.length<=4)this.command="NOOP",this.payload="{}";else if(this.decode(n),this.isRequestIdCommand){var i=this.getJsonElement();i&&(this.requestId=i.req_id||"")}break;case 2:case 3:!this.requestId&&this.isRequestIdCommand&&(this.requestId=e.generateRequestId()),t.req_id=this.requestId||"",this.payload=JSON.stringify(t)}}return g(e,[{key:"isRequestIdCommand",get:function(){return this.isAckRequired||"EROR"===this.command}},{key:"isAckRequired",get:function(){return"MESG"===this.command||"FILE"===this.command||"ENTR"===this.command||"EXIT"===this.command||"READ"===this.command||"MEDI"===this.command||"FEDI"===this.command}},{key:"encode",value:function(){return this.command+this.payload+"\n"}},{key:"decode",value:function(e){e=e.trim(),this.command=e.substring(0,4),this.payload=e.substring(4)}},{key:"getJsonElement",value:function(){return JSON.parse(this.payload)}}],[{key:"bSessionRefresh",value:function(e){return new this("LOGI",{token:e.token},e.requestId)}},{key:"bPing",value:function(){return new this("PING",{id:(new Date).getTime(),active:1})}},{key:"bMessage",value:function(e){var n=e.channelUrl,t=e.message,r=e.data,i=e.customType,a=e.metaArrays,s=e.mentionType,o=e.mentionedUserIds,l=e.translationTargetLanguages,u=e.pushNotificationDeliveryOption,c=e.appleCriticalAlertOptions,d=e.requestId,h=void 0===d?null:d,p=e.silent,f=void 0!==p&&p,g=e.rootMessageId,y=void 0===g?null:g,_=e.parentMessageId,m=void 0===_?null:_,v=F.get(this._iid),C=v.UserMessageParams,E=v.BaseMessageParams,U={};return U.channel_url=n,U.message=t,U.data=r,a&&a.length>0&&(U.metaarray=a.map(function(e){return e.encode()})),s&&(U.mention_type=s),U.mentioned_user_ids=[],s===E.MentionType.CHANNEL?U.mentioned_user_ids=[]:Array.isArray(o)&&o.length>0&&(U.mentioned_user_ids=o),i&&(U.custom_type=i),l&&l.length>0&&(U.target_langs=l),u&&u!==C.PushNotificationDeliveryOption.DEFAULT&&(U.push_option=u),c&&(U.apple_critical_alert_options=c.serialize()),f&&(U.silent=f),y&&(U.root_message_id=y),m&&(U.parent_message_id=m),new this("MESG",U,h)}},{key:"bFile",value:function(e){var n=e.channelUrl,t=e.url,r=e.name,i=e.type,a=e.size,s=e.data,o=e.customType,l=e.thumbnailSizes,u=e.requireAuth,c=e.metaArrays,d=e.mentionType,h=e.mentionedUserIds,p=e.pushNotificationDeliveryOption,f=e.appleCriticalAlertOptions,g=e.requestId,y=void 0===g?null:g,_=e.silent,m=void 0!==_&&_,v=e.rootMessageId,C=void 0===v?null:v,E=e.parentMessageId,U=void 0===E?null:E,b=F.get(this._iid),A=b.BaseMessageParams,S=b.FileMessageParams,I={};return I.channel_url=n,I.url=t,I.name=r||"",I.type=i||"",I.size=a||0,I.custom=s,o&&(I.custom_type=o),l&&(I.thumbnails=l),u&&(I.require_auth=u),c&&c.length>0&&(I.metaarray=c.map(function(e){return e.encode()})),d&&(I.mention_type=d),I.mentioned_user_ids=[],d===A.MentionType.CHANNEL?I.mentioned_user_ids=[]:Array.isArray(h)&&h.length>0&&(I.mentioned_user_ids=h),p&&p!==S.PushNotificationDeliveryOption.DEFAULT&&(I.push_option=p),f&&(I.apple_critical_alert_options=f.serialize()),m&&(I.silent=m),C&&(I.root_message_id=C),U&&(I.parent_message_id=U),new this("FILE",I,y)}},{key:"bUpdateUserMessage",value:function(e){var n=e.channelUrl,t=e.messageId,r=e.appleCriticalAlertOptions,i=e.message,a=void 0===i?null:i,s=e.data,o=void 0===s?null:s,l=e.customType,u=void 0===l?null:l,c=e.mentionType,d=void 0===c?null:c,h=e.mentionedUserIds,p=void 0===h?null:h,f=e.metaArrayParams,g=void 0===f?null:f,y=F.get(this._iid).BaseMessageParams,_={};return _.channel_url=n,_.msg_id=t,null!=a&&void 0!==a&&(_.message=a),null!=o&&void 0!==o&&(_.data=o),null!=u&&void 0!==u&&(_.custom_type=u),d&&(_.mention_type=d),d===y.MentionType.CHANNEL?_.mentioned_user_ids=[]:Array.isArray(p)&&p.length>0&&(_.mentioned_user_ids=p),g&&(_.metaarray=g),r&&(_.apple_critical_alert_options=r.serialize()),new this("MEDI",_)}},{key:"bUpdateFileMessage",value:function(e){var n=e.channelUrl,t=e.messageId,r=e.appleCriticalAlertOptions,i=e.data,a=void 0===i?null:i,s=e.customType,o=void 0===s?null:s,l=e.mentionType,u=void 0===l?null:l,c=e.mentionedUserIds,d=void 0===c?null:c,h=e.metaArrayParams,p=void 0===h?null:h,f=F.get(this._iid).BaseMessageParams,g={};return g.channel_url=n,g.msg_id=t,null!=a&&void 0!==a&&(g.data=a),null!=o&&void 0!==o&&(g.custom_type=o),u&&(g.mention_type=u),u===f.MentionType.CHANNEL?g.mentioned_user_ids=[]:Array.isArray(d)&&d.length>0&&(g.mentioned_user_ids=d),p&&(g.metaarray=p),r&&(g.apple_critical_alert_options=r.serialize()),new this("FEDI",g)}},{key:"bRead",value:function(e){var n=e.channelUrl,t={};return t.channel_url=n,new this("READ",t)}},{key:"bMessageAck",value:function(e){var n=e.channelUrl,t=e.messageId,r={};return r.channel_url=n,r.msg_id=t,new this("MACK",r)}},{key:"bTypeStart",value:function(e){var n=e.channelUrl,t=e.time,r={};return r.channel_url=n,r.time=t,new this("TPST",r)}},{key:"bTypeEnd",value:function(e){var n=e.channelUrl,t=e.time,r={};return r.channel_url=n,r.time=t,new this("TPEN",r)}},{key:"bEnter",value:function(e){var n=e.channelUrl,t={};return t.channel_url=n,new this("ENTR",t)}},{key:"bExit",value:function(e){var n=e.channelUrl,t={};return t.channel_url=n,new this("EXIT",t)}},{key:"generateRequestId",value:function(){return String(++ue)}}]),e}(),de=1048576,he=new WeakMap,pe=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e);var t=[];if(n.hasOwnProperty("premium_feature_list")&&Array.isArray(n.premium_feature_list))try{var r=n.premium_feature_list;t.push.apply(t,N(r))}catch(e){}var i=[];if(n.hasOwnProperty("application_attributes")&&Array.isArray(n.application_attributes))try{var a=n.application_attributes;i.push.apply(i,N(a))}catch(e){}he.set(this,{emojiHash:n.hasOwnProperty("emoji_hash")?n.emoji_hash:"",uploadSizeLimit:n.hasOwnProperty("file_upload_size_limit")?n.file_upload_size_limit*de:Number.MAX_VALUE,useReaction:n.hasOwnProperty("use_reaction")&&n.use_reaction,applicationAttributes:i,premiumFeatureList:t})}return g(e,[{key:"emojiHash",get:function(){return he.get(this).emojiHash}},{key:"uploadSizeLimit",get:function(){return he.get(this).uploadSizeLimit}},{key:"premiumFeatureList",get:function(){return he.get(this).premiumFeatureList}},{key:"applicationAttributes",get:function(){return he.get(this).applicationAttributes}},{key:"isUsingReaction",get:function(){return he.get(this).useReaction}}]),e}(),fe=function(){function e(){p(this,e),this.messageId=null,this.userId=null,this.key=null,this.operation="",this.updatedAt=null}return g(e,null,[{key:"createFromJson",value:function(e){var n=parseInt(e.msg_id),t=e.user_id,r=e.operation,i=e.reaction,a=e.updated_at;if(n&&"string"==typeof t&&"string"==typeof r&&["add","delete"].indexOf(r.toLowerCase())>=0&&"string"==typeof i&&i&&"number"==typeof a){var s=new this;return s.messageId=n,s.userId=t,s.key=i,s.operation=r.toLowerCase(),s.updatedAt=a,s}return null}}]),e}();var ge=function(){function e(){p(this,e)}return g(e,null,[{key:"serialize",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=JSON.parse(JSON.stringify(e));return n&&n(t),function e(n){return Object.keys(n).forEach(function(t){n[t]&&"object"===h(n[t])&&e(n[t])}),Object.freeze(n)}(t)}},{key:"deserialize",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=JSON.parse(JSON.stringify(e));return n&&n(t),t}}]),e}(),ye=function(e,n,t){return new Promise(function(r,i){n(function(n,a){t&&"function"==typeof t&&(P.get(e).container.isErrorFirstInCallback?t(n,a):t(a,n)),n?i(n):r(a)})})},_e={TIMESTAMP:"timestamp",MESSAGE_ID:"messageId"},me=new WeakMap,ve=function(){function e(n){p(this,e),this.messageId=0,this.messageType=e.MESSAGE_TYPE_BASE,this.channelUrl="",this.data=null,this.customType=null,this.silent=!1,this.createdAt=0,this.updatedAt=0,this.channelType=null,this.metaArrays=[],this.reactions=[],this.mentionType=null,this.mentionedUsers=[],this.sendingStatus=null,me.set(this,0),this.parentMessageId=0,this.parentMessageText=null,this.threadInfo=null,this.ogMetaData=null,this.isOperatorMessage=!1,this.appleCriticalAlertOptions=null,n&&this.__update(n)}return g(e,[{key:"serialize",value:function(){return ge.serialize(this,function(e){e.hasOwnProperty("_sender")&&(e.sender=e._sender,delete e._sender)})}},{key:"isIdentical",value:function(e){return!("object"!==h(e)||!e.hasOwnProperty("messageId"))&&(0!==this.messageId&&0!==e.messageId?this.messageId===e.messageId:this.reqId===e.reqId)}},{key:"isEqual",value:function(e){return $.deepEqual(this,e)}},{key:"isOpenChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_OPEN}},{key:"isGroupChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_GROUP}},{key:"isUserMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_USER}},{key:"isAdminMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_ADMIN}},{key:"isFileMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_FILE}},{key:"__update",value:function(e){var n=this,t=$n.getInstance(this._iid),r=F.get(this._iid),i=r.User,a=r.BaseChannel,s=r.BaseMessageParams,o=r.Reaction,l=r.MessageMetaArray,u=r.ThreadInfo,c=r.OGMetaData,d=r.AppleCriticalAlertOptions;e.hasOwnProperty("msg_id")&&(this.messageId=parseInt(e.msg_id)),e.hasOwnProperty("message_id")&&(this.messageId=parseInt(e.message_id)),this.channelUrl=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.data=e.hasOwnProperty("data")?String(e.data):"",this.customType=e.hasOwnProperty("custom_type")?String(e.custom_type):"",this.silent=!!e.hasOwnProperty("silent")&&e.silent,this.createdAt=e.hasOwnProperty("ts")?parseInt(e.ts):0,e.hasOwnProperty("created_at")&&(this.createdAt=parseInt(e.created_at)),this.updatedAt=e.hasOwnProperty("updated_at")?parseInt(e.updated_at):0,this.channelType=e.hasOwnProperty("channel_type")?String(e.channel_type):a.CHANNEL_TYPE_GROUP;var h=e.hasOwnProperty("metaarray")?e.metaarray:{},p=e.hasOwnProperty("metaarray_key_order")?e.metaarray_key_order:Object.keys(h).sort(function(e,n){return e.localeCompare(n)});this.metaArrays=[];for(var f=0;f<p.length;f++){var g=p[f];this.metaArrays.push(new l(g,h[g]||[]))}if(e.hasOwnProperty("sorted_metaarray")){var y=e.sorted_metaarray;Array.isArray(y)&&(this.metaArrays=y.map(function(e){return new l(e.key,e.value)}))}if(this.reactions=[],e.hasOwnProperty("reactions")&&Array.isArray(e.reactions))for(var _ in e.reactions){var m=o.createFromJson(e.reactions[_]);m&&this.reactions.push(m)}this.mentionType=e.hasOwnProperty("mention_type")?e.mention_type:s.MentionType.USERS,this.mentionedUsers=[],e.hasOwnProperty("mentioned_users")&&e.mentioned_users.forEach(function(e){var t=new i(e);n.mentionedUsers.push(t)}),this.sendingStatus=this.messageId>0?t.MessageSendingStatus.SUCCEEDED:t.MessageSendingStatus.FAILED,e.hasOwnProperty("sending_status")&&(this.sendingStatus=e.sending_status),e.hasOwnProperty("root_message_id")&&me.set(this,parseInt(e.root_message_id)),e.hasOwnProperty("parent_message_id")&&(this.parentMessageId=parseInt(e.parent_message_id)),e.hasOwnProperty("parent_message_text")&&(this.parentMessageText=e.parent_message_text),this.threadInfo=new u(e.thread_info),e.hasOwnProperty("og_tag")&&(this.ogMetaData=new c(e.og_tag)),this.isOperatorMessage=!!e.hasOwnProperty("is_op_msg")&&e.is_op_msg,e.hasOwnProperty("apple_critical_alert_options")&&(this.appleCriticalAlertOptions=new d(e.apple_critical_alert_options))}},{key:"getMetaArraysByKeys",value:function(e){return Array.isArray(e)?this.metaArrays.filter(function(n){return e.indexOf(n.key)>-1}):[]}},{key:"metaArray",get:function(){var e={};return this.metaArrays.forEach(function(n){e[n.key]=n.value}),e},set:function(e){if("object"===h(e)&&e){var n=F.get(this._iid).MessageMetaArray,t=[];for(var r in e)t.push(new n(r,e[r]));this.metaArrays=t}}},{key:"getMetaArrayByKeys",value:function(e){var n={};return this.getMetaArraysByKeys(e).forEach(function(e){n[e.key]=e.value}),n}},{key:"applyReactionEvent",value:function(e){var n,t=this,r=F.get(this._iid).Reaction,i=I(ie.parse(arguments,[new ie({type:fe,constraint:function(e){return parseInt(e.messageId)===parseInt(t.messageId)}})]),2);if(n=i[0],e=i[1],!n){var a=!1;for(var s in this.reactions)if(this.reactions[s].key===e.key){this.reactions[s]._applyEvent(e),this.reactions[s].isEmpty&&this.reactions.splice(s,1),a=!0;break}a||"add"!==e.operation||this.reactions.push(new r(e.key,[e.userId],e.updatedAt))}}},{key:"_getThreadedMessageList",value:function(e,n,t,r){var i,a=this,s=F.get(this._iid).ThreadedMessageListParams,o=I(ie.parse(arguments,[new ie({type:"number"}),new ie({type:"string",constraint:function(e){return Object.values(_e).includes(e)}}),new ie({type:s,constraint:function(e){return e._validate()}}),new ie({type:"callback"})]),5);return i=o[0],e=o[1],n=o[2],t=o[3],r=o[4],ye(this._iid,function(r){if(i)r(i,null);else{var s=F.get(a._iid),o=s.GroupChannel,l=s.OpenChannel;a.isGroupChannel()?o.getChannel(a.channelUrl,T.INTERNAL_CALL,function(i,s){if($n.getInstance(a._iid).getErrorFirstCallback()){var o=[i,s];s=o[0],i=o[1]}s?r(s,null):P.get(a._iid).container.apiClient.getMessageList(d(d({channel:i,token:e,tokenType:n},t),{},{shouldReverse:t.reverse,rootMessageId:a.messageId,includeReplies:!0,includeThreadInfo:!0}),function(e,n){if(e)r(e,null);else{var t=F.get(a._iid).BaseChannel,i=n.messages.map(function(e){return t.buildMessage(e,a)}).filter(function(e){return null!==e}),s=i.filter(function(e){return e.messageId===a.messageId})[0],o=i.filter(function(e){return e.parentMessageId===a.messageId});r(null,{parentMessage:s,threadedReplies:o})}})}):a.isOpenChannel()&&l.getChannel(a.channelUrl,T.INTERNAL_CALL,function(i,s){if($n.getInstance(a._iid).getErrorFirstCallback()){var o=[i,s];s=o[0],i=o[1]}s?r(s,null):P.get(a._iid).container.apiClient.getMessageList(d(d({channel:i,token:e,tokenType:n},t),{},{shouldReverse:t.reverse,rootMessageId:a.messageId,includeReplies:!0,includeThreadInfo:!0}),function(e,n){if(e)r(e,null);else{var t=F.get(a._iid).BaseChannel,i=n.messages.map(function(e){return t.buildMessage(e,a)}).filter(function(e){return null!==e}),s=i.filter(function(e){return e.messageId===a.messageId})[0],o=i.filter(function(e){return e.parentMessageId===a.messageId});r(null,{parentMessage:s,threadedReplies:o})}})})}},r)}},{key:"getThreadedMessagesByTimestamp",value:function(e,n,t){return this._getThreadedMessageList(e,_e.TIMESTAMP,n,t)}},{key:"applyThreadInfoUpdateEvent",value:function(e){var n,t=F.get(this._iid),r=t.ThreadInfo,i=t.ThreadInfoUpdateEvent,a=me.get(this),s=I(ie.parse(arguments,[new ie({type:i,constraint:function(e){return parseInt(e.targetMessageId)===parseInt(a)}})]),2);if(n=s[0],e=s[1],!n){var o=e.threadInfo;return this.threadInfo=new r(o),!0}return!1}}],[{key:"MESSAGE_TYPE_BASE",get:function(){return"base"}},{key:"MESSAGE_TYPE_ADMIN",get:function(){return"admin"}},{key:"MESSAGE_TYPE_USER",get:function(){return"user"}},{key:"MESSAGE_TYPE_FILE",get:function(){return"file"}},{key:"SendingStatus",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"}}},{key:"getMessage",value:function(e,n){var t,r=this,i=F.get(this._iid),a=i.BaseChannel,s=i.MessageRetrievalParams,o=I(ie.parse(arguments,[new ie({type:s,constraint:function(e){return e._validate()}}),new ie({type:"callback"})]),3);return t=o[0],e=o[1],n=o[2],ye(this._iid,function(n){if(t)n(t,null);else{var i=F.get(r._iid),s=i.GroupChannel,o=i.OpenChannel;switch(e.channelType){case a.CHANNEL_TYPE_GROUP:s.getChannel(e.channelUrl,T.INTERNAL_CALL,function(t,i){if($n.getInstance(r._iid).getErrorFirstCallback()){var s=[t,i];i=s[0],t=s[1]}i?n(i,null):P.get(r._iid).container.apiClient.getMessage(d({channel:t},e),function(e,r){if(e)n(e,null);else{var i=a.buildMessage(r,t);n(null,i)}})});break;case a.CHANNEL_TYPE_OPEN:o.getChannel(e.channelUrl,T.INTERNAL_CALL,function(t,i){if($n.getInstance(r._iid).getErrorFirstCallback()){var s=[t,i];i=s[0],t=s[1]}i?n(i,null):P.get(r._iid).container.apiClient.getMessage(d({channel:t},e),function(e,r){if(e)n(e,null);else{var i=a.buildMessage(r,t);n(null,i)}})})}}},n)}}]),e}(),Ce=function(){function e(n){p(this,e),this.nickname="",this.plainProfileUrl="",this.userId="",this.connectionStatus="",this.lastSeenAt=null,this.metaData={},this.isActive=!0,this.friendDiscoveryKey=null,this.friendName=null,this._preferredLanguages=null,this.requireAuth=null,n&&this.__update(n)}return g(e,[{key:"preferredLanguages",get:function(){return this._preferredLanguages}},{key:"__update",value:function(n){var t=P.get(this._iid).container.auth;n.hasOwnProperty("guest_id")&&(this.userId=String(n.guest_id)),n.hasOwnProperty("user_id")&&(this.userId=String(n.user_id)),n.hasOwnProperty("name")&&(this.nickname=String(n.name)),n.hasOwnProperty("nickname")&&(this.nickname=String(n.nickname)),n.hasOwnProperty("require_auth_for_profile_image")?this.requireAuth=n.require_auth_for_profile_image:this.requireAuth=null,(n.hasOwnProperty("image")||n.hasOwnProperty("profile_url"))&&(this.plainProfileUrl=String(n.image||n.profile_url||""),Object.defineProperty(this,"profileUrl",{value:this.requireAuth?"".concat(this.plainProfileUrl,"?auth=").concat(t.eKey):this.plainProfileUrl,configurable:!0,writable:!1})),n.hasOwnProperty("is_online")?n.is_online===e.NON_AVAILABLE?this.connectionStatus=e.NON_AVAILABLE:this.connectionStatus=n.is_online?e.ONLINE:e.OFFLINE:this.connectionStatus=e.NON_AVAILABLE,n.hasOwnProperty("last_seen_at")?this.lastSeenAt=parseInt(n.last_seen_at):this.lastSeenAt=0,n.hasOwnProperty("metadata")?this.metaData=n.metadata:this.metaData={},n.hasOwnProperty("is_active")?this.isActive=void 0===n.is_active||n.is_active:this.isActive=!0,n.hasOwnProperty("friend_discovery_key")?this.friendDiscoveryKey=n.friend_discovery_key:this.friendDiscoveryKey=null,n.hasOwnProperty("friend_name")?this.friendName=n.friend_name:this.friendName=null,n.hasOwnProperty("preferred_languages")?this._preferredLanguages=n.preferred_languages||null:this._preferredLanguages=null}},{key:"_updateMetaData",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=F.get(this._iid).GroupChannel;for(var r in e)n?delete this.metaData[r]:this.metaData[r]=e[r];for(var i in t.cachedChannels)if(t.cachedChannels.hasOwnProperty(i)){var a=t.cachedChannels[i];if(a.memberMap.hasOwnProperty(this.userId))a.memberMap[this.userId].metaData=this.metaData}}},{key:"serialize",value:function(){return ge.serialize(this,function(e){e.hasOwnProperty("_preferredLanguages")&&(e.preferredLanguages=e._preferredLanguages,delete e._preferredLanguages)})}},{key:"getOriginalProfileUrl",value:function(){var e="";if(((e=(e=this.plainProfileUrl.indexOf("://")>-1?this.plainProfileUrl.split("/")[2]:this.plainProfileUrl.split("/")[0]).split("?")[0]).indexOf("sendbird.com")>-1||e.indexOf("sendbirdtest.com")>-1||e.indexOf("intoz.com")>-1||e.indexOf("file-local")>-1)&&this.plainProfileUrl.indexOf(e+"/profile_images/")>-1){var n=this.plainProfileUrl.replace("profile_images/","");return n===this.plainProfileUrl?"":n}return""}},{key:"createMetaData",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return Object.keys(e).length>0&&!Array.isArray(e)}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.createUserMetaData({metaData:e},function(e,t){e||r._updateMetaData(t),n(e,t)})},n)}},{key:"updateMetaData",value:function(e,n,t){var r,i=this,a=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(n){return e[n]}).every(function(e){return"string"==typeof e})}}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.updateUserMetaData({metaData:e,upsert:n},function(e,n){e||i._updateMetaData(n),t(e,n)})},t)}},{key:"deleteMetaData",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){if(t)n(t,null);else{var i={};i[e]="",P.get(r._iid).container.apiClient.deleteUserMetaData({metaDataKey:e},function(e,t){e||r._updateMetaData(i,!0),n(e,t)})}},n)}},{key:"deleteAllMetaData",value:function(e){var n=this;return ye(this._iid,function(e){var t=n.metaData;P.get(n._iid).container.apiClient.deleteAllUserMetaData({},function(r,i){r||n._updateMetaData(t,!0),e(r,i)})},e)}}],[{key:"objectify",value:function(e){var n=e.userId,t=void 0===n?null:n,r=e.nickname,i=void 0===r?"":r,a=e.plainProfileUrl,s=void 0===a?"":a,o=e.connectionStatus,l=void 0===o?"":o,u=e.lastSeenAt,c=void 0===u?0:u,d=e.metaData,h=void 0===d?{}:d,p=e.isActive,f=void 0===p||p,g=e.friendDiscoveryKey,y=void 0===g?null:g,_=e.friendName,m=void 0===_?null:_,v=e.preferredLanguages,C=void 0===v?null:v,E=e.requireAuth;return{user_id:t,nickname:i,profile_url:s,is_online:l,last_seen_at:c,metadata:h,is_active:f,friend_discovery_key:y,friend_name:m,preferred_languages:C,require_auth_for_profile_image:void 0!==E&&E}}},{key:"build",value:function(e,n,t,r,i,a,s,o,l,u,c){return this.objectify({userId:e,nickname:n,plainProfileUrl:t,connectionStatus:r,lastSeenAt:i,metaData:a,isActive:s,friendDiscoveryKey:o,friendName:l,preferredLanguages:u,requireAuth:c})}},{key:"buildFromSerializedData",value:function(e){var n=F.get(this._iid).User,t=ge.deserialize(e);return new n(n.objectify(t))}},{key:"NON_AVAILABLE",get:function(){return"nonavailable"}},{key:"ONLINE",get:function(){return"online"}},{key:"OFFLINE",get:function(){return"offline"}}]),e}(),Ee={TIMESTAMP:"timestamp",MESSAGE_ID:"messageId"},Ue=new WeakMap,be=function(){function e(n){p(this,e),this.url="",this.channelType=e.CHANNEL_TYPE_BASE,this.name="",this.coverUrl="",this.creator=null,this.createdAt=0,this.data=null,this.customType=null,this.isFrozen=!1,this.isEphemeral=!1,Ue.set(this,{}),n&&this.__update(n)}return g(e,[{key:"__update",value:function(e){this.url=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.name=e.hasOwnProperty("name")?String(e.name):"",this.coverUrl=e.hasOwnProperty("cover_url")?String(e.cover_url):"",this.createdAt=e.hasOwnProperty("created_at")?1e3*e.created_at:0,this.data=e.hasOwnProperty("data")?String(e.data):"",this.customType=e.hasOwnProperty("custom_type")?e.custom_type:"",this.isFrozen=!!e.hasOwnProperty("freeze")&&e.freeze,this.isEphemeral=!!e.hasOwnProperty("is_ephemeral")&&e.is_ephemeral,e.hasOwnProperty("created_by")&&null!==e.created_by&&"object"===h(e.created_by)&&Object.keys(e.created_by).length>0?this.creator=new Ce(e.created_by):this.creator=null,e.hasOwnProperty("metadata")&&null!==e.metadata&&e.hasOwnProperty("ts")&&"number"==typeof e.ts&&this._refreshMetaData(e.metadata,e.ts)}},{key:"_addOrUpdateCachedMetaData",value:function(e,n){var t=Ue.get(this);Object.keys(e).forEach(function(r){var i=t[r],a=e[r];i?n>i.updatedAt&&(i.value=a,i.updatedAt=n,i.isRemoved=!1):t[r]={value:a,updatedAt:n,isRemoved:!1}})}},{key:"_markAsDeletedCachedMetaData",value:function(e,n){var t=Ue.get(this);e.forEach(function(e){var r=t[e];r?n>r.updatedAt&&(r.isRemoved=!0,r.updatedAt=n):t[e]={value:null,updatedAt:n,isRemoved:!0}})}},{key:"_refreshMetaData",value:function(e,n){var t={};Object.keys(e).forEach(function(r){t[r]={value:e[r],updatedAt:n,isRemoved:!1}}),Ue.set(this,t)}},{key:"isGroupChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_GROUP}},{key:"isOpenChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_OPEN}},{key:"createOperatorListQuery",value:function(){return new(0,F.get(this._iid).OperatorListQuery)(this)}},{key:"createMessageListQuery",value:function(){return new(0,F.get(this._iid).MessageListQuery)(this)}},{key:"createPreviousMessageListQuery",value:function(){return new(0,F.get(this._iid).PreviousMessageListQuery)(this)}},{key:"serialize",value:function(){return ge.serialize(this,function(e){if(null!==e.lastMessage&&"object"===h(e.lastMessage)){var n=e.lastMessage;n.hasOwnProperty("_sender")&&(n.sender=n._sender,delete n._sender,e.lastMessage=n)}e.hasOwnProperty("_messageOffsetTimestamp")&&(e.messageOffsetTimestamp=e._messageOffsetTimestamp,delete e._messageOffsetTimestamp)})}},{key:"getMessageChangeLogsByTimestamp",value:function(e,n,t,r){var i,a=this,s=I(ie.parse(arguments,[new ie({type:"number",constraint:function(e){return e>=0}}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],ye(this._iid,function(r){i?r(i,null):P.get(a._iid).container.apiClient.getMessageChangeLogs({channelUrl:a.url,ts:e,token:null,isOpenChannel:a.isOpenChannel(),includeMetaArray:n,includeReactions:t},function(e,n){var t=null;if(!e){var i=F.get(a._iid).BaseChannel;t={updatedMessages:n.updated.map(function(e){return i.buildMessage(e,a)}),deletedMessageIds:n.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:n.has_more,token:n.next}}r(e,t)})},r)}},{key:"getMessageChangeLogsByToken",value:function(e,n,t,r){var i,a=this,s=I(ie.parse(arguments,[new ie({type:"string",nullable:!0}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],ye(this._iid,function(r){i?r(i,null):P.get(a._iid).container.apiClient.getMessageChangeLogs({channelUrl:a.url,ts:null,token:e,isOpenChannel:a.isOpenChannel(),includeMetaArray:n,includeReactions:t},function(e,n){var t=null;if(!e){var i=F.get(a._iid).BaseChannel;t={updatedMessages:n.updated.map(function(e){return i.buildMessage(e,a)}),deletedMessageIds:n.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:n.has_more,token:n.next}}r(e,t)})},r)}},{key:"getMessageChangeLogsSinceToken",value:function(e,n,t){var r,i=this,a=F.get(this._iid),s=a.BaseChannel,o=a.MessageChangeLogsParams,l=I(ie.parse(arguments,[new ie({type:"string",nullable:!0}),new ie({type:o}),new ie({type:"callback"})]),4);return r=l[0],e=l[1],n=l[2],t=l[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.getMessageChangeLogs(d({channelUrl:i.url,ts:null,token:e,isOpenChannel:i.isOpenChannel()},n),function(e,n){var r=null;e||(r={updatedMessages:n.updated.map(function(e){return s.buildMessage(e,i)}),deletedMessageIds:n.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:n.has_more,token:n.next}),t(e,r)})},t)}},{key:"getMessageChangeLogsSinceTimestamp",value:function(e,n,t){var r,i=this,a=F.get(this._iid),s=a.BaseChannel,o=a.MessageChangeLogsParams,l=I(ie.parse(arguments,[new ie({type:"number",constraint:function(e){return e>=0}}),new ie({type:o}),new ie({type:"callback"})]),4);return r=l[0],e=l[1],n=l[2],t=l[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.getMessageChangeLogs(d({channelUrl:i.url,timestamp:e,token:null,isOpenChannel:i.isOpenChannel()},n),function(e,n){var r=null;e||(r={updatedMessages:n.updated.map(function(e){return s.buildMessage(e,i)}),deletedMessageIds:n.deleted.map(function(e){return parseInt(e.message_id)}),hasMore:n.has_more,token:n.next}),t(e,r)})},t)}},{key:"getMyMutedInfo",value:function(e){var n=this;return ye(this._iid,function(e){var t=$n.getInstance(n._iid);P.get(n._iid).container.apiClient.getMyMutedInfo({channelUrl:n.url,userId:t.currentUser?t.currentUser.userId:null,isGroupChannel:n.isGroupChannel()},function(n,t){var r=null;n||(r={isMuted:t.is_muted,startAt:t.start_at,endAt:t.end_at,remainingDuration:t.remaining_duration,description:t.description}),e(n,r)})},e)}},{key:"_parseMessageListParams",value:function(e){for(var n=new(0,F.get(this._iid).MessageListParams),t=null,r=!1,i=0,a=0,s=!1,o="",l="",u=null,c=!1,d=!1,h=null,p=arguments.length,f=new Array(p>1?p-1:0),g=1;g<p;g++)f[g-1]=arguments[g];switch(e){case"prev":var y=I(ie.parse(f,[new ie({type:"number"}),new ie({type:"boolean"}),new ie({type:"number"}),new ie({type:"boolean"}),new ie({type:"string"}),new ie({type:"string"}),new ie({type:"array",optional:!0}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"callback"})]),11);t=y[0],r=y[2],i=y[3],s=y[4],o=y[5],l=y[6],u=y[7],c=y[8],d=y[9],h=y[10];break;case"next":var _=I(ie.parse(f,[new ie({type:"number"}),new ie({type:"boolean"}),new ie({type:"number"}),new ie({type:"boolean"}),new ie({type:"string"}),new ie({type:"string"}),new ie({type:"array",optional:!0}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"callback"})]),11);t=_[0],r=_[2],a=_[3],s=_[4],o=_[5],l=_[6],u=_[7],c=_[8],d=_[9],h=_[10];break;case"prevnext":var m=I(ie.parse(f,[new ie({type:"number"}),new ie({type:"number"}),new ie({type:"number"}),new ie({type:"boolean"}),new ie({type:"string"}),new ie({type:"string"}),new ie({type:"array",optional:!0}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"callback"})]),11);t=m[0],i=m[2],a=m[3],s=m[4],o=m[5],l=m[6],u=m[7],c=m[8],d=m[9],h=m[10],r=!0}return t?[null,h]:(n.isInclusive=r,n.prevResultSize=i,n.nextResultSize=a,n.reverse=s,n.messageType=o,n.customType=l,""===n.customType&&(n.customType="*"),n.senderUserIds=u,n.includeMetaArray=c,n.includeReactions=d,[n,h])}},{key:"_getMessageList",value:function(e,n,t,r){var i,a=this,s=F.get(this._iid).MessageListParams,o=I(ie.parse(arguments,[new ie({type:"number"}),new ie({type:"string",constraint:function(e){return Object.values(Ee).includes(e)}}),new ie({type:s,constraint:function(e){return e._validate()}}),new ie({type:"callback"})]),5);return i=o[0],e=o[1],n=o[2],t=o[3],r=o[4],ye(this._iid,function(r){i?r(i,null):P.get(a._iid).container.apiClient.getMessageList(d(d({channel:a,token:e,tokenType:n},t),{},{shouldReverse:t.reverse}),function(e,n){if(e)r(e,null);else{var t=F.get(a._iid).BaseChannel,i=n.messages.map(function(e){return t.buildMessage(e,a)}).filter(function(e){return null!==e});r(null,i)}})},r)}},{key:"getPreviousMessagesByTimestamp",value:function(e){var n=I(this._parseMessageListParams.apply(this,["prev"].concat(N(ie.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,Ee.TIMESTAMP,t,r)}},{key:"getNextMessagesByTimestamp",value:function(e){var n=I(this._parseMessageListParams.apply(this,["next"].concat(N(ie.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,Ee.TIMESTAMP,t,r)}},{key:"getPreviousAndNextMessagesByTimestamp",value:function(e){var n=I(this._parseMessageListParams.apply(this,["prevnext"].concat(N(ie.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,Ee.TIMESTAMP,t,r)}},{key:"getPreviousMessagesByID",value:function(e){var n=I(this._parseMessageListParams.apply(this,["prev"].concat(N(ie.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,Ee.MESSAGE_ID,t,r)}},{key:"getNextMessagesByID",value:function(e){var n=I(this._parseMessageListParams.apply(this,["next"].concat(N(ie.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,Ee.MESSAGE_ID,t,r)}},{key:"getPreviousAndNextMessagesByID",value:function(e){var n=I(this._parseMessageListParams.apply(this,["prevnext"].concat(N(ie.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,Ee.MESSAGE_ID,t,r)}},{key:"getMessagesByTimestamp",value:function(e,n,t){return this._getMessageList(e,Ee.TIMESTAMP,n,t)}},{key:"getMessagesByMessageId",value:function(e,n,t){return this._getMessageList(e,Ee.MESSAGE_ID,n,t)}},{key:"_sendUserMessage",value:function(e){var n=this,t=e.reqId,r=e.message,i=e.data,a=e.customType,s=e.metaArrays,o=e.mentionType,l=e.mentionedUserIds,u=e.pushNotificationDeliveryOption,c=e.rootMessageId,d=e.parentMessageId,h=e.translationTargetLanguages,p=e.appleCriticalAlertOptions,f=e.silent,g=void 0!==f&&f,y=e.callback,_=F.get(this._iid),m=_.Command,v=_.UserMessage;t||(t=m.generateRequestId());var C=$n.getInstance(this._iid),E={};Array.isArray(h)&&h.forEach(function(e){return E[e]=""});var U=v.objectify({messageId:0,reqId:t,user:C.currentUser||{},channel:this,message:r,data:i,customType:a,appleCriticalAlertOptions:p,metaArrays:s,mentionType:o,mentionedUserIds:l,rootMessageId:c,parentMessageId:d,translations:E,silent:g,createdAt:(new Date).getTime()}),b=new v(U);if(b.requestState=C.MessageRequestState.PENDING,b.sendingStatus=C.MessageSendingStatus.PENDING,b.requestedMentionUserIds=l,!C.currentUser){var A=new w("Connection should be made first.",w.CONNECTION_REQUIRED),S=new v(U);return S.requestState=C.MessageRequestState.FAILED,S.sendingStatus=C.MessageSendingStatus.FAILED,S.requestedMentionUserIds=l,S.errorCode=A.code,y(A,S),b}var I=m.bMessage({channelUrl:this.url,message:r,data:i,customType:a,metaArrays:s,mentionType:o,mentionedUserIds:l,requestId:t,rootMessageId:c,parentMessageId:d,silent:g,translationTargetLanguages:h,pushNotificationDeliveryOption:u,appleCriticalAlertOptions:p});return b.reqId=I.requestId,this.isGroupChannel()&&C.getConnectionState()!==C.ConnectionState.OPEN&&C.currentUser&&!C.connecting&&!C.reconnecting&&"string"==typeof a&&0===a.indexOf("SB_VIDEOCHAT")?P.get(C._iid).container.apiClient.sendUserMessage({channelUrl:this.url,isOpenChannel:this.isOpenChannel(),message:r,data:i,customType:a,translationTargetLanguages:h,metaArrays:s,mentionType:o,mentionedUserIds:l,pushNotificationDeliveryOption:u,rootMessageId:c,parentMessageId:d,appleCriticalAlertOptions:p},function(e,n){var t=null;e?((t=new v(U)).requestState=C.MessageRequestState.FAILED,t.sendingStatus=C.MessageSendingStatus.FAILED,e.code===w.REQUEST_CANCELED&&(t.sendingStatus=C.MessageSendingStatus.CANCELED),t.requestedMentionUserIds=l,t.errorCode=e.code):((t=new v(n)).requestState=C.MessageRequestState.SUCCEEDED,t.sendingStatus=C.MessageSendingStatus.SUCCEEDED),y(e,t)}):C.sendCommand(I,function(e,t){if(C.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t){var i=new v(U);i.reqId=I.requestId,i.requestState=C.MessageRequestState.FAILED,i.sendingStatus=C.MessageSendingStatus.FAILED,t.code===w.REQUEST_CANCELED&&(i.sendingStatus=C.MessageSendingStatus.CANCELED),i.requestedMentionUserIds=l,i.errorCode=t.code,y(new w(t.message,t.code),i)}else{var a=new v(e.getJsonElement()),s=C.currentUser;if(s&&a._sender&&s.userId===a._sender.userId&&(s.nickname!==a._sender.nickname&&(s.nickname=a._sender.nickname),s.plainProfileUrl!==a._sender.plainProfileUrl&&(s.plainProfileUrl=a._sender.plainProfileUrl),$.deepEqual(s.metaData,a._sender.metaData)||(s.metaData=a._sender.metaData)),n.isGroupChannel())for(var o in n.lastMessage=a,C.channelHandlers)C.channelHandlers[o].onChannelChanged(n);a.requestState=C.MessageRequestState.SUCCEEDED,a.sendingStatus=C.MessageSendingStatus.SUCCEEDED,y(null,a)}}),b}},{key:"sendUserMessage",value:function(){var e=ie.toArray(arguments),n=e.pop(),t=null,r=null,i=F.get(this._iid).UserMessageParams;if("function"==typeof n)if(e[0]instanceof i)null===(r=e[0]).data&&(r.data=""),null===r.customType&&(r.customType="");else if("string"==typeof e[0])switch((r=new i).message=e[0],e.length){case 1:break;case 2:r.data=e[1]||"";break;case 3:r.data=e[1]||"",r.customType=e[2]||"";break;case 4:r.data=e[1]||"",r.customType=e[2]||"",r.translationTargetLanguages=Array.isArray(e[3])?e[3]:[e[3]];break;default:t=ie.error}else t=ie.error;else t=ie.error;var a=P.get(this._iid).container.isErrorFirstInCallback;return!t&&r._validate()&&r.message?this._sendUserMessage(d(d({},r),{},{metaArrays:r.metaArrays,mentionType:r.mentionType,mentionedUserIds:r._mentionedUserIds,rootMessageId:r.rootMessageId,parentMessageId:r.parentMessageId,translationTargetLanguages:r._translationTargetLanguages,callback:function(e,t){a?n(e,t):n(t,e)}})):(a?n(ie.error,null):n(null,ie.error),null)}},{key:"resendUserMessage",value:function(e,n){var t=this,r=F.get(this._iid),i=r.UserMessage,a=r.UserMessageParams,s=null,o=I(ie.parse(arguments,[new ie({type:i,constraint:function(e){return 0===e.messageId&&e.isResendable()&&e.reqId&&e.channelUrl===t.url&&"string"==typeof e.message&&"string"==typeof e.data&&"string"==typeof e.customType&&"object"===h(e.translations)&&!Array.isArray(e.translations)}}),new ie({type:"callback"})]),3);return s=o[0],e=o[1],n=o[2],ye(this._iid,function(n){if(s)s.message+=" Please check if the failed message is resend-able with `message.isResendable().`",n(s,null);else{var r=Object.keys(e.translations),i=a.PushNotificationDeliveryOption.DEFAULT;t._sendUserMessage(d(d({},e),{},{mentionedUserIds:e.requestedMentionUserIds,translationTargetLanguages:r,pushNotificationDeliveryOption:i,reqId:e.reqId,callback:n}))}},n)}},{key:"updateUserMessage",value:function(e,n,t,r,i){var a=this,s=F.get(this._iid),o=s.Command,l=s.UserMessage,u=s.UserMessageParams,c=arguments,h=null,p=null;if("number"==typeof e)switch(c.length){case 3:var f=I(ie.parse(c,[new ie({type:"number"}),new ie({type:u}),new ie({type:"callback"})]),4);h=f[0],e=f[1],p=f[2],i=f[3];break;case 5:p=new u;var g=I(ie.parse(c,[new ie({type:"number"}),new ie({type:"string",nullable:!0}),new ie({type:"string",nullable:!0}),new ie({type:"string",nullable:!0}),new ie({type:"callback"})]),6);h=g[0],e=g[1],n=g[2],t=g[3],r=g[4],i=g[5],p.message=n,p.data=t,p.customType=r}return ye(this._iid,function(n){if(!h&&p&&p._validate()){var t=o.bUpdateUserMessage(d(d({channelUrl:a.url,messageId:e},p),{},{mentionType:p._mentionType,mentionedUserIds:p._mentionedUserIds})),r=$n.getInstance(a._iid);r.sendCommand(t,function(e,t){if(r.getErrorFirstCallback()){var i=[e,t];t=i[0],e=i[1]}var a=null;t||(a=new l(e.getJsonElement())),n(t,a)})}else n(ie.error,null)},i)}},{key:"translateUserMessage",value:function(e,n,t){var r,i=this,a=$n.getInstance(this._iid),s=F.get(this._iid).UserMessage,o=I(ie.parse(arguments,[new ie({type:s,constraint:function(e){return e.channelUrl===i.url&&e.sendingStatus===a.MessageSendingStatus.SUCCEEDED}}),new ie({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),4);return r=o[0],e=o[1],n=o[2],t=o[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.translateUserMessage({channelUrl:i.url,isOpenChannel:i.isOpenChannel(),messageId:e.messageId,translationTargetLanguages:n},function(e,n){var r=null;e||(r=new s(n)),t(e,r)})},t)}},{key:"_parseFileMessageArguments",value:function(e){var n=F.get(this._iid),t=n.BaseMessageParams,r=n.FileMessageParams,i={error:null,file:null,name:null,type:null,size:null,data:"",customType:"",thumbnailSizes:[],metaArrays:[],mentionType:t.MentionType.USERS,mentionedUserIds:[],pushNotificationDeliveryOption:r.PushNotificationDeliveryOption.DEFAULT,rootMessageId:null,parentMessageId:null,progressHandler:null,silent:!1,callback:null,appleCriticalAlertOptions:null};if("function"==typeof e[e.length-1]&&(i.callback=e.pop()),"function"==typeof e[e.length-1]&&(i.progressHandler=e.pop()),e[0]instanceof r)i.file=e[0].file||e[0].fileUrl,i.name=e[0].fileName,i.type=e[0].mimeType,i.size=e[0].fileSize,i.data=e[0].data,i.customType=e[0].customType,i.thumbnailSizes=e[0].thumbnailSizes,i.metaArrays=e[0].metaArrays,i.mentionType=e[0]._mentionType,i.mentionedUserIds=e[0]._mentionedUserIds,i.pushNotificationDeliveryOption=e[0].pushNotificationDeliveryOption?e[0].pushNotificationDeliveryOption:r.PushNotificationDeliveryOption.DEFAULT,i.rootMessageId=e[0].rootMessageId,i.parentMessageId=e[0].parentMessageId,i.silent=e[0].silent,e[0]._validate()||(i.error=ie.error),i.appleCriticalAlertOptions=e[0].appleCriticalAlertOptions;else if($.isFile(e[0])||"string"==typeof e[0]){switch(i.file=e[0],e.length){case 1:break;case 2:i.data=e[1];break;case 3:i.data=e[1],i.customType=e[2];break;case 4:i.data=e[1],i.customType=e[2],i.thumbnailSizes=e[3];break;case 5:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4];break;case 6:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4],i.customType=e[5];break;case 7:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4],i.customType=e[5],i.thumbnailSizes=e[6]}var a=I(ie.parse([i.file,i.name,i.type,i.size,i.data,i.customType,i.thumbnailSizes],[new ie({type:["file","string"]}),new ie({type:"string",nullable:!0}),new ie({type:"string",nullable:!0}),new ie({type:"number",nullable:!0,constraint:function(e){return e>=0}}),new ie({type:"string",nullable:!0}),new ie({type:"string",nullable:!0}),new ie({type:"array"})]),8);i.error=a[0],i.file=a[1],i.name=a[2],i.type=a[3],i.size=a[4],i.data=a[5],i.customType=a[6],i.thumbnailSizes=a[7]}else i.error=ie.error;return $.isFile(i.file)&&(i.name=i.name||i.file.name,i.type=i.type||i.file.type,i.size=i.size||i.file.size),i}},{key:"_createTempFileMessage",value:function(e){try{var n=$n.getInstance(this._iid),t=F.get(this._iid),r=t.Command,i=t.FileMessage,a=i.objectify(d(d({},e),{},{messageId:0,reqId:r.generateRequestId(),user:n.currentUser||{},channel:this,plainUrl:"string"==typeof e.file?e.file:"",thumbnails:e.thumbnailSizes.map(function(e){return{url:"",plainUrl:"",width:e.maxWidth,height:e.maxHeight,real_width:0,real_height:0}}),sendingStatus:n.MessageSendingStatus.PENDING,createdAt:(new Date).getTime()}));return new i(a)}catch(e){return null}}},{key:"sendFileMessage",value:function(){var e=this._parseFileMessageArguments(ie.toArray(arguments)),n=null,t=F.get(this._iid).Command.generateRequestId();e.error||((n=this._createTempFileMessage(e)).requestedMentionUserIds=e.mentionedUserIds,t=n.reqId);var r=$n.getInstance(this._iid);r&&r.currentUser||(e.error=new w("Connection should be made first.",w.CONNECTION_REQUIRED));var i=F.get(this._iid).FileMessageQueue;return i.create(this).addJob(new i.Job({fileInfo:e,pendingMessage:n,requestId:t,error:e.error,response:null})),n}},{key:"sendFileMessages",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.progress?t.progress:function(){},i=t.sent?t.sent:function(){},a=t.complete?t.complete:function(){};if(Array.isArray(e)&&e.length>0&&e.length<=20){var s=[];return e.forEach(function(t,o){s.push(n.sendFileMessage(t,r,function(n,t){i(n,t),o===e.length-1&&a(null)}))}),s}return a(ie.error),null}},{key:"resendFileMessage",value:function(e,n,t){var r=this,i=F.get(this._iid),a=i.FileMessage,s=i.FileMessageParams,o=null,l=I(ie.parse(arguments,[new ie({type:a,constraint:function(e){return 0===e.messageId&&e.isResendable()&&e.reqId&&e.channelUrl===r.url&&"string"==typeof e.data&&"string"==typeof e.customType&&Array.isArray(e.thumbnails)}}),new ie({type:"file",optionalIf:function(e){return!!e[0].url},defaultValue:null}),new ie({type:"callback"})]),4);return o=l[0],e=l[1],n=l[2],t=l[3],ye(this._iid,function(t){if(o)o.message+=" Please check if the failed message is resend-able with `message.isResendable().`",t(o,null);else{var i=new s;e.url?i.fileUrl=e.url:i.file=n,i.fileName=e.name,i.fileSize=e.size,i.mimeType=e.type,i.data=e.data,i.customType=e.customType,i.mentionType=e.mentionType,i.mentionedUserIds=e.requestedMentionUserIds,i.metaArrays=e.metaArrays,i.thumbnailSizes=e.thumbnails.map(function(e){return{maxWidth:e.width,maxHeight:e.height}}),i.appleCriticalAlertOptions=e.appleCriticalAlertOptions,r.sendFileMessage(i,t)}},t)}},{key:"updateFileMessage",value:function(e,n,t,r){var i=this,a=F.get(this._iid),s=a.Command,o=a.FileMessage,l=a.FileMessageParams,u=arguments,c=null,h=null;if("number"==typeof e)switch(u.length){case 3:var p=I(ie.parse(u,[new ie({type:"number"}),new ie({type:l}),new ie({type:"callback"})]),4);c=p[0],e=p[1],h=p[2],r=p[3],h&&(h._isUpdate=!0);break;case 4:h=new l;var f=I(ie.parse(u,[new ie({type:"number"}),new ie({type:"string",nullable:!0}),new ie({type:"string",nullable:!0}),new ie({type:"callback"})]),5);c=f[0],e=f[1],n=f[2],t=f[3],r=f[4],h.data=n,h.customType=t,h._isUpdate=!0}return ye(this._iid,function(n){if(!c&&h&&h._validate()){var t=s.bUpdateFileMessage(d(d({channelUrl:i.url,messageId:e},h),{},{mentionType:h._mentionType,mentionedUserIds:h._mentionedUserIds})),r=$n.getInstance(i._iid);r.sendCommand(t,function(e,t){if(r.getErrorFirstCallback()){var i=[e,t];t=i[0],e=i[1]}var a=null;t||(a=new o(e.getJsonElement())),n(t,a)})}else n(ie.error,null)},r)}},{key:"cancelUploadingFileMessage",value:function(e,n){var t,r=I(ie.parse(arguments,[new ie({type:["number","string"]}),new ie({type:"callback"})]),3);t=r[0],e=r[1],n=r[2];var i=P.get(this._iid).container.isErrorFirstInCallback;return t?(i?n(t,null):n(null,t),!1):F.get(this._iid).FileMessageQueue.create(this).cancelUploadItemByRequestId(e,function(e,t){return i?n(e,t):n(t,e)})}},{key:"addReaction",value:function(e,n,t){var r,i=this,a=$n.getInstance(this._iid),s=F.get(this._iid).ReactionEvent,o=I(ie.parse(arguments,[new ie({type:ve}),new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"callback"})]),4);return r=o[0],e=o[1],n=o[2],t=o[3],ye(this._iid,function(t){r?t(r,null):e.sendingStatus===a.MessageSendingStatus.SUCCEEDED?P.get(i._iid).container.apiClient.addReaction({isGroupChannel:e.isGroupChannel(),channelUrl:e.channelUrl,messageId:e.messageId,key:n},function(n,r){var i=null;n||(i=s.createFromJson(d(d({},r),{},{msg_id:e.messageId}))),t(n,i)}):t(new w("Cannot add reaction to a non-succeeded message.",w.REQUEST_FAILED),null)},t)}},{key:"deleteReaction",value:function(e,n,t){var r,i=this,a=$n.getInstance(this._iid),s=F.get(this._iid).ReactionEvent,o=I(ie.parse(arguments,[new ie({type:ve}),new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"callback"})]),4);return r=o[0],e=o[1],n=o[2],t=o[3],ye(this._iid,function(t){r?t(r,null):e.sendingStatus===a.MessageSendingStatus.SUCCEEDED?P.get(i._iid).container.apiClient.deleteReaction({isGroupChannel:e.isGroupChannel(),channelUrl:e.channelUrl,messageId:e.messageId,key:n},function(n,r){var i=null;n||(i=s.createFromJson(d(d({},r),{},{msg_id:e.messageId}))),t(n,i)}):t(new w("Cannot remove reaction to a non-succeeded message.",w.REQUEST_FAILED),null)},t)}},{key:"deleteMessage",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return!Array.isArray(e)&&null!==e&&e.hasOwnProperty("messageId")}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.deleteMessage({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),messageId:e.messageId},function(e,t){return n(e,null)})},n)}},{key:"copyUserMessage",value:function(n,t,r){var i=F.get(this._iid);i.Command;var a,s=i.UserMessage,o=i.BaseMessageParams,l=I(ie.parse(arguments,[new ie({type:e}),new ie({type:s}),new ie({type:"callback"})]),4);a=l[0],n=l[1],t=l[2],r=l[3];var u=P.get(this._iid).container.isErrorFirstInCallback;if(a)return u?r(ie.error,null):r(null,ie.error),null;if(this.url!==t.channelUrl){var c=new w("The message does not belong to this channel",w.INVALID_PARAMETER);return u?r(c,null):r(null,c),null}var h={},p=Object.keys(t.translations);p.forEach(function(e){return h[e]=""});var f=o.PushNotificationDeliveryOption.DEFAULT;return n._sendUserMessage(d(d({},t),{},{reqId:null,pushNotificationDeliveryOption:f,translationTargetLanguages:p,rootMessageId:null,parentMessageId:null,parentMessageText:null,callback:r}))}},{key:"copyFileMessage",value:function(n,t,r){var i=F.get(this._iid),a=i.Command;i.GroupChannel;var s=i.FileMessage,o=i.BaseMessageParams;i.FileMessageParams;var l,u=i.User,c=I(ie.parse(arguments,[new ie({type:e}),new ie({type:s}),new ie({type:"callback"})]),4);l=c[0],n=c[1],t=c[2],r=c[3];var d=P.get(this._iid),h=d.container.isErrorFirstInCallback;if(l)return h?r(ie.error,null):r(null,ie.error),null;if(this.url!==t.channelUrl){var p=new w("The message does not belong to this channel");return h?r(p,null):r(null,p),null}var f=$n.getInstance(this._iid),g=t,y=g.url,_=g.name,m=g.type,v=g.size,C=g.data,E=g.customType,U=g.mentionType,b=g.mentionedUserIds,A=g.mentionedUsers,S=g.metaArrays,N=g.thumbnails,k=g.requireAuth,R=g.messageSurvivalSeconds,O=g.silent,T=g.appleCriticalAlertOptions,M=a.generateRequestId(),L=f.currentUser||{},D=n.url,H=n.isOpenChannel(),G=A.filter(function(e){return new u(u.objectify(e))}),B=o.PushNotificationDeliveryOption.DEFAULT,j=s.objectify({messageId:0,reqId:M,user:L,channel:n,plainUrl:y,name:_,type:m,size:v,data:C,customType:E,mentionType:U,mentionedUserIds:b,mentionedUsers:G,requestedMentionUserIds:b,metaArrays:S,thumbnails:N,requireAuth:k,messageSurvivalSeconds:R,silent:O,createdAt:(new Date).getTime(),appleCriticalAlertOptions:T}),x=new s(j);if(x.requestState=f.MessageRequestState.PENDING,x.sendingStatus=f.MessageSendingStatus.PENDING,!f.currentUser){var q=new w("Connection should be made first.",w.CONNECTION_REQUIRED),z=new s(j);return z.requestState=f.MessageRequestState.FAILED,z.sendingStatus=f.MessageSendingStatus.FAILED,z.errorCode=q.code,h?r(q,z):r(z,q),x}var Q=a.bFile({requestId:M,channelUrl:D,url:y,name:_,type:m,size:v,data:C,customType:E,metaArrays:S,mentionType:U,mentionedUserIds:b,thumbnailSizes:N,requireAuth:k,pushNotificationDeliveryOption:B,silent:O,appleCriticalAlertOptions:T});return f.getConnectionState()===f.ConnectionState.OPEN||f.connecting||f.reconnecting?f.sendCommand(Q,function(e,t){if(f.getErrorFirstCallback()){var i=[e,t];t=i[0],e=i[1]}if(t)if(t.code!==w.INVALID_PARAMETER){var a=new s(j);a.requestState=f.MessageRequestState.FAILED,a.sendingStatus=f.MessageSendingStatus.FAILED,t.code!==w.FILE_UPLOAD_CANCEL_FAILED&&t.code!==SendBridException.REQUEST_CANCELED||(a.sendingStatus=f.MessageSendingStatus.CANCELED),a.errorCode=t.code,h?r(t,a):r(a,t)}else h?r(t,null):r(null,t);else{var o=new s(e.getJsonElement()),l=o._sender;if(L&&l&&L.userId===l.userId&&(L.nickname!==l.nickname&&(L.nickname=l.nickname),L.plainProfileUrl!==l.plainProfileUrl&&(L.plainProfileUrl=l.plainProfileUrl)),n.isGroupChannel())for(var u in n.lastMessage=o,f.channelHandlers)f.channelHandlers[u].onChannelChanged(n);h?r(null,o):r(o,null)}}):d.container.apiClient.sendFileMessage({channelUrl:D,isOpenChannel:H,fileUrl:y,fileName:_,fileType:m,fileSize:v,data:C,customType:E,metaArrays:S,mentionType:U,mentionedUserIds:b,thumbnailSizes:N,requireAuth:k,pushNotificationDeliveryOption:B,appleCriticalAlertOptions:T},function(e,t){if(e)if(e.code!==w.INVALID_PARAMETER){var i=new s(commnad.getJsonElement());i.requestState=f.MessageRequestState.FAILED,i.sendingStatus=f.MessageSendingStatus.FAILED,e.code!==w.FILE_UPLOAD_CANCEL_FAILED&&e.code!==SendBridException.REQUEST_CANCELED||(i.sendingStatus=f.MessageSendingStatus.CANCELED),i.errorCode=e.code,h?r(e,i):r(i,e)}else h?r(e,null):r(null,e);else{var a=new s(t),o=a._sender;if(L&&o&&L.userId===o.userId&&(L.nickname!==o.nickname&&(L.nickname=o.nickname),L.plainProfileUrl!==o.plainProfileUrl&&(L.plainProfileUrl=o.plainProfileUrl)),n.isGroupChannel())for(var l in n.lastMessage=a,f.channelHandlers)f.channelHandlers[l].onChannelChanged(n);h?r(null,a):r(a,null)}}),x}},{key:"addOperators",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return Object.keys(e).map(function(n){return e[n]}).every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.addOperators({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),operatorUserIds:e},function(e,t){return n(e,t)})},n)}},{key:"removeOperators",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return Object.keys(e).map(function(n){return e[n]}).every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.removeOperators({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),operatorUserIds:e},function(e,t){return n(e,t)})},n)}},{key:"getMetaCounters",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return Object.keys(e).map(function(n){return e[n]}).every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.getMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),keys:e},function(e,t){return n(e,t)})},n)}},{key:"getAllMetaCounters",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.getMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),keys:[]},function(n,t){return e(n,t)})},e)}},{key:"createMetaCounters",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(n){return e[n]}).every(function(e){return"number"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.createMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e},function(e,t){return n(e,t)})},n)}},{key:"updateMetaCounters",value:function(e,n,t){var r,i=this,a=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(n){return e[n]}).every(function(e){return"number"==typeof e})}}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.updateMetaCounters({channelUrl:i.url,isOpenChannel:i.isOpenChannel(),metaCounter:e,upsert:n,mode:"set"},function(e,n){return t(e,n)})},t)}},{key:"increaseMetaCounters",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(n){return e[n]}).every(function(e){return"number"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.updateMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e,upsert:!1,mode:"increase"},function(e,t){return n(e,t)})},n)}},{key:"decreaseMetaCounters",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map(function(n){return e[n]}).every(function(e){return"number"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.updateMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e,upsert:!1,mode:"decrease"},function(e,t){var r=null;if(!e)for(var i in r={},t)r[i]=t[i];n(e,r)})},n)}},{key:"deleteMetaCounter",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.deleteMetaCounter({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),key:e},function(e,t){return n(e,t)})},n)}},{key:"deleteAllMetaCounters",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.deleteAllMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel()},function(n,t){return e(n,t)})},e)}},{key:"getCachedMetaData",value:function(){var e=Ue.get(this),n={};return Object.keys(e).forEach(function(t){var r=e[t];r.isRemoved||(n[t]=r.value)}),n}},{key:"getMetaData",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return Object.keys(e).map(function(n){return e[n]}).every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.getMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),keys:e},function(e,t){n(e,t&&t.ts?t.metadata:t)})},n)}},{key:"getAllMetaData",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.getMetaData({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),keys:[]},function(n,t){e(n,t&&t.ts?t.metadata:t)})},e)}},{key:"createMetaData",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.createMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaData:e},function(e,t){n(e,t&&t.ts?t.metadata:t)})},n)}},{key:"updateMetaData",value:function(e,n,t){var r,i=this,a=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&Object.keys(e).length>0}}),new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.updateMetaData({channelUrl:i.url,isOpenChannel:i.isOpenChannel(),metaData:e,upsert:n},function(e,n){t(e,n&&n.ts?n.metadata:n)})},t)}},{key:"deleteMetaData",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.deleteMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),key:e},function(e,t){n(e,t&&t.ts?{}:t)})},n)}},{key:"deleteAllMetaData",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.deleteAllMetaData({channelUrl:n.url,isOpenChannel:n.isOpenChannel()},function(n,t){return e(n,t&&t.ts?{}:t)})},e)}},{key:"_updateMessageMetaArray",value:function(e,n,t,r){var i=this;return ye(this._iid,function(r){var a=F.get(i._iid),s=a.Command,o=a.UserMessage,l=a.FileMessage,u=a.AdminMessage,c=null;if(n.isUserMessage()?c=s.bUpdateUserMessage({channelUrl:e,messageId:n.messageId,metaArrayParams:t}):n.isFileMessage()&&(c=s.bUpdateFileMessage({channelUrl:e,messageId:n.messageId,metaArrayParams:t})),c){var d=$n.getInstance(i._iid);d.sendCommand(c,function(e,t){if(d.getErrorFirstCallback()){var i=[e,t];t=i[0],e=i[1]}var a=null;t||(n.isUserMessage()?a=new o(e.getJsonElement()):n.isFileMessage()?a=new l(e.getJsonElement()):n.isAdminMessage()&&(a=new u(e.getJsonElement()))),r(t,a)})}else r(ie.error,null)},r)}},{key:"createMessageMetaArrayKeys",value:function(e,n,t){var r,i=F.get(this._iid).MessageMetaArray,a=I(ie.parse(arguments,[new ie({type:ve}),new ie({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e&&""!==e})}}),new ie({type:"callback"})]),4);if(r=a[0],e=a[1],n=a[2],t=a[3],r)return ye(this._iid,function(e){e(r,null)},t);var s=[];if(Array.isArray(n))for(var o=0;o<n.length;o++){var l=n[o];s.push(new i(l,[]))}return this._updateMessageMetaArray(this.url,e,{array:s.map(function(e){return e.encode()}),mode:"add",upsert:!0},t)}},{key:"deleteMessageMetaArrayKeys",value:function(e,n,t){var r,i=F.get(this._iid).MessageMetaArray,a=I(ie.parse(arguments,[new ie({type:ve}),new ie({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e&&""!==e})}}),new ie({type:"callback"})]),4);if(r=a[0],e=a[1],n=a[2],t=a[3],r)return ye(this._iid,function(e){e(r,null)},t);var s=[];if(Array.isArray(n))for(var o=0;o<n.length;o++){var l=n[o];s.push(new i(l,[]))}return this._updateMessageMetaArray(this.url,e,{array:s.map(function(e){return e.encode()}),mode:"remove",upsert:!0},t)}},{key:"addMessageMetaArrayValues",value:function(e,n,t){var r,i=F.get(this._iid).MessageMetaArray,a=I(ie.parse(arguments,[new ie({type:ve}),new ie({type:"object",constraint:function(e){return e&&(Array.isArray(e)&&e.length>0&&e.every(function(e){return e instanceof i})||Object.keys(e).length>0&&Object.keys(e).every(function(n){return Array.isArray(e[n])&&e[n].length>0&&e[n].every(function(e){return"string"==typeof e&&e.length>0})}))}}),new ie({type:"callback"})]),4);if(r=a[0],e=a[1],n=a[2],t=a[3],r)return ye(this._iid,function(e){e(r,null)},t);var s=Array.isArray(n)?n.map(function(e){return e.encode()}):Object.keys(n).map(function(e){return{key:e,value:n[e]}});return this._updateMessageMetaArray(this.url,e,{array:s,mode:"add",upsert:!0},t)}},{key:"removeMessageMetaArrayValues",value:function(e,n,t){var r,i=F.get(this._iid).MessageMetaArray,a=I(ie.parse(arguments,[new ie({type:ve}),new ie({type:"object",constraint:function(e){return e&&(Array.isArray(e)&&e.length>0&&e.every(function(e){return e instanceof i})||Object.keys(e).length>0&&Object.keys(e).every(function(n){return Array.isArray(e[n])&&e[n].length>0&&e[n].every(function(e){return"string"==typeof e&&e.length>0})}))}}),new ie({type:"callback"})]),4);if(r=a[0],e=a[1],n=a[2],t=a[3],r)return ye(this._iid,function(e){e(r,null)},t);var s=Array.isArray(n)?n.map(function(e){return e.encode()}):Object.keys(n).map(function(e){return{key:e,value:n[e]}});return this._updateMessageMetaArray(this.url,e,{array:s,mode:"remove",upsert:!0},t)}},{key:"report",value:function(e,n,t){var r,i=this,a=F.get(this._iid).BaseChannel,s=I(ie.parse(arguments,[new ie({type:a.ReportCategory}),new ie({type:"string"}),new ie({type:"callback"})]),4);return r=s[0],e=s[1],n=s[2],t=s[3],ye(this._iid,function(t){if(r)t(r,null);else{var a=$n.getInstance(i._iid);P.get(i._iid).container.apiClient.report({channelUrl:i.url,isOpenChannel:i.isOpenChannel(),reportCategory:e,reportingUserId:a.currentUser?a.currentUser.userId:null,reportDescription:n},function(e,n){t(e,null)})}},t)}},{key:"reportUser",value:function(e,n,t,r){var i,a=this,s=F.get(this._iid).BaseChannel,o=I(ie.parse(arguments,[new ie({type:Ce}),new ie({type:s.ReportCategory}),new ie({type:"string"}),new ie({type:"callback"})]),5);return i=o[0],e=o[1],n=o[2],t=o[3],r=o[4],ye(this._iid,function(r){if(i)r(i,null);else{var s=$n.getInstance(a._iid);P.get(a._iid).container.apiClient.reportUser({channelUrl:a.url,isOpenChannel:a.isOpenChannel(),reportCategory:n,offendingUserId:e.userId,reportingUserId:s.currentUser?s.currentUser.userId:null,reportDescription:t},function(e,n){r(e,null)})}},r)}},{key:"reportMessage",value:function(e,n,t,r){var i,a=this,s=F.get(this._iid).BaseChannel,o=I(ie.parse(arguments,[new ie({type:ve}),new ie({type:s.ReportCategory}),new ie({type:"string"}),new ie({type:"callback"})]),5);return i=o[0],e=o[1],n=o[2],t=o[3],r=o[4],ye(this._iid,function(r){if(i)r(i,null);else{var s=$n.getInstance(a._iid);P.get(a._iid).container.apiClient.reportMessage({messageId:e.messageId,channelUrl:a.url,isOpenChannel:a.isOpenChannel(),reportCategory:n,offendingUserId:e.sender.userId,reportingUserId:s.currentUser?s.currentUser.userId:null,reportDescription:t},function(e,n){r(e,null)})}},r)}}],[{key:"CHANNEL_TYPE_OPEN",get:function(){return"open"}},{key:"CHANNEL_TYPE_GROUP",get:function(){return"group"}},{key:"CHANNEL_TYPE_BASE",get:function(){return"base"}},{key:"MessageTypeFilter",get:function(){return{ALL:"",USER:"MESG",FILE:"FILE",ADMIN:"ADMM"}}},{key:"ReportCategory",get:function(){return{SPAM:"spam",HARASSING:"harassing",SUSPICIOUS:"suspicious",INAPPROPRIATE:"inappropriate"}}},{key:"buildMessage",value:function(e,n){var t=F.get(this._iid),r=t.UserMessage,i=t.FileMessage,a=t.AdminMessage;if(e)switch(e.hasOwnProperty("channel_type")||(e.channel_type=n.channelType),e.type){case"MESG":return new r(e);case"FILE":var s=e.file;return new i(d(d({},e),{},{url:String(s.url),name:String(s.name),type:String(s.type),size:parseInt(s.size),data:String(s.data)}));case"BRDM":case"ADMM":return new a(e)}return null}}]),e}(),Ae=function(){function e(n){p(this,e),n&&(this.category=n.hasOwnProperty("cat")?parseInt(n.cat):0,this.data=n.hasOwnProperty("data")?n.data:null,this.channelUrl=n.hasOwnProperty("channel_url")?String(n.channel_url):"",this.channelType=n.hasOwnProperty("channel_type")?String(n.channel_type):be.CHANNEL_TYPE_GROUP)}return g(e,[{key:"isGroupChannel",value:function(){return this.channelType===be.CHANNEL_TYPE_GROUP}},{key:"isOpenChannel",value:function(){return this.channelType===be.CHANNEL_TYPE_OPEN}}]),e}();Ae.CATEGORY_NONE=0,Ae.CATEGORY_CHANNEL_ENTER=10102,Ae.CATEGORY_CHANNEL_EXIT=10103,Ae.CATEGORY_USER_CHANNEL_MUTE=10201,Ae.CATEGORY_USER_CHANNEL_UNMUTE=10200,Ae.CATEGORY_USER_CHANNEL_BAN=10601,Ae.CATEGORY_USER_CHANNEL_UNBAN=10600,Ae.CATEGORY_CHANNEL_FREEZE=10701,Ae.CATEGORY_CHANNEL_UNFREEZE=10700,Ae.CATEGORY_TYPING_START=10900,Ae.CATEGORY_TYPING_END=10901,Ae.CATEGORY_CHANNEL_JOIN=1e4,Ae.CATEGORY_CHANNEL_LEAVE=10001,Ae.CATEGORY_CHANNEL_OPERATOR_UPDATE=10002,Ae.CATEGORY_CHANNEL_INVITE=10020,Ae.CATEGORY_CHANNEL_DECLINE_INVITE=10022,Ae.CATEGORY_CHANNEL_PROP_CHANGED=11e3,Ae.CATEGORY_CHANNEL_DELETED=12e3,Ae.CATEGORY_CHANNEL_META_DATA_CHANGED=11100,Ae.CATEGORY_CHANNEL_META_COUNTERS_CHANGED=11200,Ae.CATEGORY_CHANNEL_HIDE=13e3,Ae.CATEGORY_CHANNEL_UNHIDE=13001;var Se=function e(n){p(this,e),n&&(this.category=n.hasOwnProperty("cat")?parseInt(n.cat):0)};Se.CATEGORY_USER_BLOCK=20001,Se.CATEGORY_USER_UNBLOCK=2e4,Se.CATEGORY_FRIEND_DISCOVERED=20900;var Ie=function(){function e(n){p(this,e),this.sb=n,this.cls=F.get(this.sb._iid)}return g(e,[{key:"onRawCommandReceived",value:function(e){var n=this,t=this.cls,r=t.Command,i=t.User,a=t.Member,s=t.BaseChannel,o=t.GroupChannel,l=t.OpenChannel,u=t.UserMessage,c=t.FileMessage,d=t.AdminMessage,p=t.BaseMessageParams,f=t.ReactionEvent,g=t.ReadStatus,y=t.ThreadInfoUpdateEvent,_=P.get(this.sb._iid),m=_.container,v=m.pinger,C=m.auth,E=m.subscribedUnreadMessageCount,U=m.sessionManager,b=m.ackStateMap,A=new r(e),S=A.getJsonElement();if(S.hasOwnProperty("unread_cnt")&&"object"===h(S.unread_cnt)){var I=!1,N=S.unread_cnt.ts;if("number"==typeof N&&N>E.ts){if(E.all!==S.unread_cnt.all&&(I=!0),E.all=S.unread_cnt.all>=0?S.unread_cnt.all:0,S.unread_cnt.custom_types)for(var k in S.unread_cnt.custom_types)E.custom_types[k]!==S.unread_cnt.custom_types[k]&&(I=!0),E.custom_types[k]=S.unread_cnt.custom_types[k];I=I&&E.ts>0,E.ts=N}if(I)for(var R in this.sb.userEventHandlers)this.sb.userEventHandlers[R].onTotalUnreadMessageCountUpdated(E.all,E.custom_types)}var M=A.requestId;if(M){var L=b[M];if(L){clearTimeout(L.timer);var D=L.handler;D&&("EROR"===A.command?D(new w(S.message,S.code),null):D(null,A)),b.hasOwnProperty(M)&&delete b[M]}}else switch(v&&"LOGI"!==A.command&&v.refreshTimer(),A.command){case"LOGI":this.sb.loginTimer&&(clearTimeout(this.sb.loginTimer),this.sb.loginTimer=null,this.sb.onLoginTimerCancel=null,S.hasOwnProperty("error")?(this.sb.isSessionOpened=!1,this.sb.loginHandler(new w(S.message,S.code),null)):(this.sb.isSessionOpened=!0,S.hasOwnProperty("key")&&(C.sessionKey=S.key),S.hasOwnProperty("ekey")&&(C.eKey=S.ekey),S.hasOwnProperty("user_id")&&(this.sb.currentUser=new i(S)),"number"==typeof S.ping_interval&&S.ping_interval>0&&_.set("pingInterval",1e3*S.ping_interval),"number"==typeof S.pong_timeout&&S.pong_timeout>0&&_.set("pongTimeout",1e3*S.pong_timeout),"number"==typeof S.login_ts&&_.set("connectedAt",1e3*S.login_ts),"number"==typeof S.max_unread_cnt_on_super_group?_.set("maxUnreadCountOfSuperGroupChannel",S.max_unread_cnt_on_super_group):_.set("maxUnreadCountOfSuperGroupChannel",T.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL),S.profile_image_encryption&&_.set("profileImageEncryption",!0),v&&v.start(),S.hasOwnProperty("file_upload_size_limit")&&S.hasOwnProperty("premium_feature_list")&&S.hasOwnProperty("emoji_hash")&&_.set("appInfo",new pe(S)),this.sb.loginHandler(null,this.sb.currentUser)),this.sb.connecting=!1,this.sb.reconnecting=!1);break;case"EXPR":S.hasOwnProperty("expires_in")&&"number"==typeof S.expires_in&&S.expires_in>0&&U.refresh(function(){});break;case"MESG":case"FILE":case"BRDM":case"ADMM":var H=null;if("MESG"===A.command?H=new u(S):"FILE"===A.command?H=new c(S):"BRDM"!==A.command&&"ADMM"!==A.command||(H=new d(S)),H){var F=this.sb.currentUser?this.sb.currentUser.userId:null,G=H.silent,B=!!S.force_update_last_message,j=H._sender&&H._sender.userId===F;if(H.isGroupChannel()){var x=r.bMessageAck({channelUrl:H.channelUrl,messageId:H.messageId});this.sb.sendCommand(x);var q=o.cachedChannels.hasOwnProperty(H.channelUrl);o.getChannel(H.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t){if(e.isHidden=!1,e.hiddenState=o.HiddenState.UNHIDDEN,o.cachedChannels[e.url]=e,H._sender&&e.memberMap.hasOwnProperty(H._sender.userId)){var i=e.memberMap[H._sender.userId];i.nickname!==H._sender.nickname&&(i.nickname=H._sender.nickname),i.plainProfileUrl!==H._sender.plainProfileUrl&&(i.plainProfileUrl=H._sender.plainProfileUrl),$.deepEqual(i.metaData,H._sender.metaData)||(i.metaData=H._sender.metaData),i.isBlockedByMe!==H._sender.isBlockedByMe&&(i.isBlockedByMe=H._sender.isBlockedByMe)}var a=n.sb.currentUser;a&&j&&(a.nickname!==H._sender.nickname&&(a.nickname=H._sender.nickname),a.plainProfileUrl!==H._sender.plainProfileUrl&&(a.plainProfileUrl=H._sender.plainProfileUrl),$.deepEqual(a.metaData,H._sender.metaData)||(a.metaData=H._sender.metaData));var s=!1;if(H.mentionType===p.MentionType.CHANNEL)j||(s=!0);else if(H.mentionType===p.MentionType.USERS)for(var l=0;l<H.mentionedUsers.length;l++)if(!j&&H.mentionedUsers[l].userId===F){s=!0;break}if(G&&!j||(e.isEphemeral||q)&&((!e.lastMessage||e.lastMessage.createdAt<H.createdAt)&&(e.lastMessage=H),j||e._setGroupChannelUnreadCount(e.unreadMessageCount+1,e.unreadMentionCount+(s?1:0))),B&&(!e.lastMessage||e.lastMessage.createdAt<H.createdAt)&&(e.lastMessage=H),!G||j)for(var u in n.sb.channelHandlers)n.sb.channelHandlers[u].onChannelChanged(e);for(var c in n.sb.channelHandlers){var d=n.sb.channelHandlers[c];d.onMessageReceived(e,H),s&&d.onMentionReceived(e,H)}}})}else H.isOpenChannel()&&l.getChannel(H.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t){var i=!1;if(H.mentionType===p.MentionType.CHANNEL)i=!0;else if(H.mentionType===p.MentionType.USERS)for(var a=0;a<H.mentionedUsers.length;a++)if(H.mentionedUsers[a].userId===F){i=!0;break}for(var s in n.sb.channelHandlers){var o=n.sb.channelHandlers[s];l.enteredChannels[e.url]&&o.onMessageReceived(e,H),i&&o.onMentionReceived(e,H)}}})}break;case"MEDI":case"FEDI":case"AEDI":var z=null;if("MEDI"===A.command?z=new u(S):"FEDI"===A.command?z=new c(S):"AEDI"===A.command&&(z=new d(S)),z){var Q=this.sb.currentUser?this.sb.currentUser.userId:null,Y=z.silent,K=z.sender&&z.sender.userId===Q;if(z.isGroupChannel()){var V=o.cachedChannels.hasOwnProperty(z.channelUrl);o.getChannel(z.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t){var i=e.cachedReadReceiptStatus[Q],a=i&&i>=z.createAt,s=n.sb.currentUser;s&&K&&(s.nickname!==z._sender.nickname&&(s.nickname=z._sender.nickname),s.plainProfileUrl!==z._sender.plainProfileUrl&&(s.plainProfileUrl=z._sender.plainProfileUrl),$.deepEqual(s.metaData,z._sender.metaData)||(s.metaData=z._sender.metaData));var o=!1,l=!1;if(!K&&!a&&S&&S.hasOwnProperty("old_values")){var u=S.old_values.mention_type||z.mentionType,c=S.old_values.mentioned_user_ids||z.mentionedUsers.map(function(e){return e.userId});if(u===p.MentionType.USERS&&z.mentionType===p.MentionType.USERS){for(var d=!1,h=!1,f=0;f<c.length;f++)if(c[f]===Q){d=!0;break}for(var g=0;g<z.mentionedUsers.length;g++)if(z.mentionedUsers[g].userId===Q){h=!0;break}!d&&h&&(l=!0,!Y&&V&&(e._setGroupChannelUnreadCount(e.unreadMessageCount,e.unreadMentionCount+1),o=!0))}else if(u===p.MentionType.USERS&&z.mentionType===p.MentionType.CHANNEL){for(var y=!1,_=0;_<c.length;_++)if(c[_]===Q){y=!0;break}y||(l=!0,!Y&&V&&(e._setGroupChannelUnreadCount(e.unreadMessageCount,e.unreadMentionCount+1),o=!0))}}if(e.lastMessage?e.lastMessage.createdAt<z.createdAt?(e.lastMessage=z,o=!0):e.lastMessage.createdAt===z.createdAt&&e.lastMessage.messageId===z.messageId&&(V?e.lastMessage.updatedAt<z.updatedAt&&(e.lastMessage=z,o=!0):o=!0):(e.lastMessage=z,o=!0),(!Y||K)&&o)for(var m in n.sb.channelHandlers)n.sb.channelHandlers[m].onChannelChanged(e);for(var v in n.sb.channelHandlers){var C=n.sb.channelHandlers[v];C.onMessageUpdated(e,z),l&&C.onMentionReceived(e,z)}}})}else z.isOpenChannel()&&l.getChannel(z.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t)for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onMessageUpdated(e,z)})}break;case"DELM":var J=String(S.channel_type),X=String(S.channel_url),Z=parseInt(S.msg_id);switch(J){case s.CHANNEL_TYPE_GROUP:o.getChannel(X,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"));else for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onMessageDeleted(e,Z)});break;case s.CHANNEL_TYPE_OPEN:l.getChannel(X,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"));else for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onMessageDeleted(e,Z)})}break;case"READ":var ee=new g(S),ne=o.cachedChannels.hasOwnProperty(ee.channelUrl);o.getChannel(ee.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t&&(ne&&e.updateReadReceipt(ee.reader.userId,ee.timestamp),n.sb.currentUser))if(ee.reader.userId===n.sb.currentUser.userId){if(ne){if(e.unreadMessageCount>0||e.unreadMentionCount>0)for(var i in e._setGroupChannelUnreadCount(0,0),n.sb.channelHandlers)n.sb.channelHandlers[i].onChannelChanged(e)}else if(0===e.unreadMessageCount||0===e.unreadMentionCount)for(var a in n.sb.channelHandlers)n.sb.channelHandlers[a].onChannelChanged(e)}else for(var s in n.sb.channelHandlers)n.sb.channelHandlers[s].onReadReceiptUpdated(e)});break;case"MRCT":var te=String(S.channel_type),re=String(S.channel_url),ie=f.createFromJson(S);switch(te){case s.CHANNEL_TYPE_GROUP:o.getChannel(re,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"));else for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onReactionUpdated(e,ie)});break;case s.CHANNEL_TYPE_OPEN:l.getChannel(re,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"));else for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onReactionUpdated(e,ie)})}break;case"DLVR":var ae=String(S.channel_url),se=S.hasOwnProperty("updated")?S.updated:null,oe=o.cachedChannels.hasOwnProperty(ae);o.getChannel(ae,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t){var i=!1;for(var a in se)n.sb.currentUser&&a===n.sb.currentUser.userId&&(i=!0),oe&&e.updateDeliveryReceipt(a,parseInt(se[a]));if(o.cachedChannels[e.url]=e,!i||1!==Object.keys(se).length)for(var s in n.sb.channelHandlers)n.sb.channelHandlers[s].onDeliveryReceiptUpdated(e)}});break;case"MTHD":var le=String(S.channel_url),ue=String(S.channel_type),ce=y.createFromJson(S);switch(ue){case s.CHANNEL_TYPE_GROUP:o.getChannel(le,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t)for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onThreadInfoUpdated(e,ce)});break;case s.CHANNEL_TYPE_OPEN:l.getChannel(le,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t)for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onThreadInfoUpdated(e,ce)})}break;case"MCNT":if(S.hasOwnProperty("group_channels")&&Array.isArray(S.group_channels)){var de,he=[],fe=O(S.group_channels);try{for(fe.s();!(de=fe.n()).done;){var ge=de.value;if(ge){ge.hasOwnProperty("joined_member_count")&&ge.joined_member_count,ge.hasOwnProperty("member_count")&&ge.member_count;var ye=o.cachedChannels[ge.channel_url];ye&&ye.isBroadcast&&ye.setLatestMemberCount(ge.member_count,ge.joined_member_count,ge.ts)&&he.push(ye)}}}catch(e){fe.e(e)}finally{fe.f()}if(he.length>0)for(var _e in this.sb.channelHandlers)this.sb.channelHandlers[_e].onChannelMemberCountChanged(he)}if(S.hasOwnProperty("open_channels")&&Array.isArray(S.open_channels)){var me,ve=[],Ce=O(S.open_channels);try{for(Ce.s();!(me=Ce.n()).done;){var Ee=me.value;if(Ee){Ee.hasOwnProperty("participant_count")&&Ee.participant_count;var Ue=l.cachedChannels[Ee.channel_url];Ue&&Ue.setLatestParticipantCount(Ee.participant_count,Ee.ts)&&ve.push(Ue)}}}catch(e){Ce.e(e)}finally{Ce.f()}if(ve.length>0)for(var be in this.sb.channelHandlers)this.sb.channelHandlers[be].onChannelParticipantCountChanged(ve)}break;case"SYEV":var Ie=new Ae(S),Ne=S.ts;switch(Ie.category){case Ae.CATEGORY_CHANNEL_JOIN:case Ae.CATEGORY_CHANNEL_LEAVE:o.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var s=Ie.data.hasOwnProperty("member_count")?Ie.data.member_count:null,l=Ie.data.hasOwnProperty("joined_member_count")?Ie.data.joined_member_count:null,u=!1;if(Ie.category===Ae.CATEGORY_CHANNEL_JOIN)(Ie.data.hasOwnProperty("users")?Ie.data.users:[Ie.data]).forEach(function(t){e.isSuper||e.isBroadcast?u=e.setLatestMemberCount(s,l,S.ts):(t.state=a.JOINED,e.addMember(new a(t),Ne),e.updateJoinedMemberCount());var r=new i(t);for(var c in n.sb.currentUser&&r.userId===n.sb.currentUser.userId&&(e.myMemberState="joined",o.cachedChannels[e.url]=e),n.sb.channelHandlers){var d=n.sb.channelHandlers[c];d.onUserJoined(e,r),e.isBroadcast&&u&&d.onChannelMemberCountChanged([e])}});else{var c=new i(Ie.data);for(var d in n.sb.currentUser&&c.userId===n.sb.currentUser.userId?(e.isPublic||o.removeCachedChannel(Ie.channelUrl),e.myMemberState="none",e.invitedAt=0,e.joinedAt=0,e._setGroupChannelUnreadCount(0,0)):o.cachedChannels[e.url]=e,e.isSuper||e.isBroadcast?u=e.setLatestMemberCount(s,l,S.ts):(e.removeMember(c),e.updateJoinedMemberCount()),n.sb.channelHandlers){var h=n.sb.channelHandlers[d];h.onUserLeft(e,c),e.isBroadcast&&u&&h.onChannelMemberCountChanged([e])}}}});break;case Ae.CATEGORY_CHANNEL_OPERATOR_UPDATE:Ie.isGroupChannel()?o.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var a=Ie.data.operators.map(function(e){return new i(e)}),s=a.map(function(e){return e.userId});for(var l in e.members)e.members[l].role=s.indexOf(e.members[l].userId)>=0?o.Role.OPERATOR:o.Role.NONE;for(var u in e.myRole=n.sb.currentUser&&s.indexOf(n.sb.currentUser.userId)>=0?o.Role.OPERATOR:o.Role.NONE,n.sb.channelHandlers)n.sb.channelHandlers[u].onOperatorUpdated(e,a)}}):Ie.isOpenChannel()&&l.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else for(var a in e.operators=Ie.data.operators.map(function(e){return new i(e)}),n.sb.channelHandlers)n.sb.channelHandlers[a].onOperatorUpdated(e,e.operators)});break;case Ae.CATEGORY_CHANNEL_INVITE:o.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var s=null;Ie.data&&Ie.data.inviter&&Object.keys(Ie.data.inviter).length>0&&(s=new i(Ie.data.inviter));for(var l=[],u=0;u<Ie.data.invitees.length;u++){var c=new i(Ie.data.invitees[u]);l.push(c),Ie.data.invitees[u].state=a.INVITED;var d=new a(Ie.data.invitees[u]);if(e.isSuper||e.isBroadcast){var h=Ie.data.hasOwnProperty("member_count")?Ie.data.member_count:null,p=Ie.data.hasOwnProperty("joined_member_count")?Ie.data.joined_member_count:null;e.setLatestMemberCount(h,p,S.ts)}else e.addMember(d,Ne);n.sb.currentUser&&d.userId===n.sb.currentUser.userId&&(e.isHidden=!1,"joined"!==e.myMemberState&&(e.myMemberState="invited"),e.invitedAt=S.ts,o.cachedChannels[e.url]=e)}for(var f in n.sb.channelHandlers)n.sb.channelHandlers[f].onUserReceivedInvitation(e,s,l)}});break;case Ae.CATEGORY_CHANNEL_DECLINE_INVITE:o.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var a=null;Ie.data&&Ie.data.inviter&&Object.keys(Ie.data.inviter).length>0&&(a=new i(Ie.data.inviter));var s=new i(Ie.data.invitee);if(n.sb.currentUser&&s.userId===n.sb.currentUser.userId&&(e.invitedAt=0,e.myMemberState="none",e.isPublic||o.removeCachedChannel(Ie.channelUrl)),e.isSuper||e.isBroadcast){var l=Ie.data.hasOwnProperty("member_count")?Ie.data.member_count:null,u=Ie.data.hasOwnProperty("joined_member_count")?Ie.data.joined_member_count:null;e.setLatestMemberCount(l,u,S.ts)}else e.removeMember(s);for(var c in n.sb.currentUser&&s.userId!==n.sb.currentUser.userId&&(o.cachedChannels[e.url]=e),n.sb.channelHandlers)n.sb.channelHandlers[c].onUserDeclinedInvitation(e,a,s)}});break;case Ae.CATEGORY_TYPING_START:case Ae.CATEGORY_TYPING_END:o.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var a=new i(Ie.data);for(var s in Ie.category===Ae.CATEGORY_TYPING_START?e.updateTypingStatus(a,!0):e.updateTypingStatus(a,!1),n.sb.channelHandlers)n.sb.channelHandlers[s].onTypingStatusUpdated(e)}});break;case Ae.CATEGORY_CHANNEL_ENTER:case Ae.CATEGORY_CHANNEL_EXIT:l.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var a=Ie.data.hasOwnProperty("participant_count")?Ie.data.participant_count:null,s=e.setLatestParticipantCount(a,S.ts),o=new i(Ie.data);if(Ie.category===Ae.CATEGORY_CHANNEL_ENTER)for(var l in n.sb.channelHandlers){var u=n.sb.channelHandlers[l];u.onUserEntered(e,o),s&&u.onChannelParticipantCountChanged([e])}else for(var c in n.sb.channelHandlers){var d=n.sb.channelHandlers[c];d.onUserExited(e,o),s&&d.onChannelParticipantCountChanged([e])}}});break;case Ae.CATEGORY_USER_CHANNEL_MUTE:case Ae.CATEGORY_USER_CHANNEL_UNMUTE:Ie.isOpenChannel()?l.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var a=new i(Ie.data);if(Ie.category===Ae.CATEGORY_USER_CHANNEL_MUTE)for(var s in n.sb.channelHandlers)n.sb.channelHandlers[s].onUserMuted(e,a);else for(var o in n.sb.channelHandlers)n.sb.channelHandlers[o].onUserUnmuted(e,a)}}):o.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var a=new i(Ie.data);if(n.sb.currentUser&&a.userId===n.sb.currentUser.userId&&(e.myMutedState=Ie.category===Ae.CATEGORY_USER_CHANNEL_MUTE?"muted":"unmuted"),Array.isArray(e.members)&&e.members.forEach(function(e){e&&e.userId===a.userId&&(e.isMuted=Ie.category===Ae.CATEGORY_USER_CHANNEL_MUTE)}),Ie.category===Ae.CATEGORY_USER_CHANNEL_MUTE)for(var s in n.sb.channelHandlers)n.sb.channelHandlers[s].onUserMuted(e,a);else for(var o in n.sb.channelHandlers)n.sb.channelHandlers[o].onUserUnmuted(e,a)}});break;case Ae.CATEGORY_USER_CHANNEL_BAN:case Ae.CATEGORY_USER_CHANNEL_UNBAN:Ie.isOpenChannel()?l.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var a=new i(Ie.data);if(Ie.category===Ae.CATEGORY_USER_CHANNEL_BAN)for(var s in n.sb.currentUser&&a.userId===n.sb.currentUser.userId&&(delete l.enteredChannels[Ie.channelUrl],n.cls.FileMessageQueue.delete(Ie.channelUrl)),n.sb.channelHandlers)n.sb.channelHandlers[s].onUserBanned(e,a);else for(var o in n.sb.channelHandlers)n.sb.channelHandlers[o].onUserUnbanned(e,a)}}):o.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var a=new i(Ie.data);if(Ie.category===Ae.CATEGORY_USER_CHANNEL_BAN){if(n.sb.currentUser&&a.userId===n.sb.currentUser.userId&&(e.isPublic||o.removeCachedChannel(Ie.channelUrl),e.myMemberState="none",e.invitedAt=0,e.joinedAt=0,e._setGroupChannelUnreadCount(0,0)),e.isSuper||e.isBroadcast){var s=Ie.data.hasOwnProperty("member_count")?Ie.data.member_count:null,l=Ie.data.hasOwnProperty("joined_member_count")?Ie.data.joined_member_count:null;e.setLatestMemberCount(s,l,S.ts)}else e.removeMember(a),e.updateJoinedMemberCount();for(var u in n.sb.channelHandlers)n.sb.channelHandlers[u].onUserBanned(e,a)}else for(var c in n.sb.channelHandlers)n.sb.channelHandlers[c].onUserUnbanned(e,a)}});break;case Ae.CATEGORY_CHANNEL_FREEZE:case Ae.CATEGORY_CHANNEL_UNFREEZE:Ie.isOpenChannel()?l.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else if(e.isFrozen=Ie.data.freeze,l.cachedChannels[e.url]=e,Ie.category===Ae.CATEGORY_CHANNEL_FREEZE)for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onChannelFrozen(e);else for(var a in n.sb.channelHandlers)n.sb.channelHandlers[a].onChannelUnfrozen(e)}):o.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else if(e.isFrozen=Ie.data.freeze,o.cachedChannels[e.url]=e,Ie.category===Ae.CATEGORY_CHANNEL_FREEZE)for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onChannelFrozen(e);else for(var a in n.sb.channelHandlers)n.sb.channelHandlers[a].onChannelUnfrozen(e)});break;case Ae.CATEGORY_CHANNEL_DELETED:for(var ke in Ie.isGroupChannel()?o.removeCachedChannel(Ie.channelUrl):l.removeCachedChannel(Ie.channelUrl),this.sb.channelHandlers)this.sb.channelHandlers[ke].onChannelDeleted(Ie.channelUrl,Ie.isGroupChannel()?"group":"open");break;case Ae.CATEGORY_CHANNEL_PROP_CHANGED:Ie.isOpenChannel()?l.getChannelWithoutCache(Ie.channelUrl,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onChannelChanged(e)}):o.getChannelWithoutCache(Ie.channelUrl,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else{var i=e.unreadMessageCount,a=e.unreadMentionCount;for(var s in e.myCountPreference!==o.CountPreference.ALL&&(e.myCountPreference===o.CountPreference.UNREAD_MESSAGE_COUNT_ONLY?a=0:e.myCountPreference===o.CountPreference.UNREAD_MENTION_COUNT_ONLY?i=0:(i=0,a=0)),e._setGroupChannelUnreadCount(i,a),n.sb.channelHandlers)n.sb.channelHandlers[s].onChannelChanged(e)}});break;case Ae.CATEGORY_CHANNEL_META_DATA_CHANGED:case Ae.CATEGORY_CHANNEL_META_COUNTERS_CHANGED:var Re=Ie.data.hasOwnProperty("created"),Oe=Ie.data.hasOwnProperty("updated"),Te=Ie.data.hasOwnProperty("deleted");(Ie.isOpenChannel()?l.getChannel(Ie.channelUrl,T.INTERNAL_CALL):o.getChannel(Ie.channelUrl,T.INTERNAL_CALL)).then(function(e){var t=Ie.data.created,r=Ie.data.updated,i=Ie.data.deleted,a=S.ts;for(var s in Re&&e._addOrUpdateCachedMetaData(t,a),Oe&&e._addOrUpdateCachedMetaData(r,a),Te&&e._markAsDeletedCachedMetaData(i,a),n.sb.channelHandlers){var o=n.sb.channelHandlers[s];Ie.category===Ae.CATEGORY_CHANNEL_META_DATA_CHANGED?(Re&&o.onMetaDataCreated(e,t),Oe&&o.onMetaDataUpdated(e,r),Te&&o.onMetaDataDeleted(e,i)):(Re&&o.onMetaCountersCreated(e,t),Oe&&o.onMetaCountersUpdated(e,r),Te&&o.onMetaCountersDeleted(e,i))}}).catch(function(e){return W.debug("Discard command:","`".concat(A.command,"`"),Ie.category)});break;case Ae.CATEGORY_CHANNEL_HIDE:case Ae.CATEGORY_CHANNEL_UNHIDE:o.getChannel(Ie.channelUrl,T.INTERNAL_CALL,function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)W.debug("Discard command:","`".concat(A.command,"`"),Ie.category);else if(Ie.category===Ae.CATEGORY_CHANNEL_HIDE)for(var i in e.isHidden=!0,Ie.data&&(Ie.data.hasOwnProperty("allow_auto_unhide")&&(e.hiddenState=Ie.data.allow_auto_unhide?o.HiddenState.HIDDEN_ALLOW_AUTO_UNHIDE:o.HiddenState.HIDDEN_PREVENT_AUTO_UNHIDE),Ie.data.hasOwnProperty("hide_previous_messages")&&Ie.data.hide_previous_messages&&e._setGroupChannelUnreadCount(0,0)),S.hasOwnProperty("ts_message_offset")&&(e._messageOffsetTimestamp=S.ts_message_offset),o.cachedChannels[e.url]=e,n.sb.channelHandlers)n.sb.channelHandlers[i].onChannelHidden(e);else for(var a in e.isHidden=!1,e.hiddenState=o.HiddenState.UNHIDDEN,o.cachedChannels[e.url]=e,n.sb.channelHandlers)n.sb.channelHandlers[a].onChannelChanged(e)})}break;case"USEV":var Me=new Ae(S);switch(Me.category){case Se.CATEGORY_USER_BLOCK:case Se.CATEGORY_USER_UNBLOCK:var Le=Me.data.blocker.user_id,Pe=Me.data.blockee.user_id;Object.keys(o.cachedChannels).forEach(function(e){var t=o.cachedChannels[e];try{n.sb.currentUser&&(n.sb.currentUser.userId===Le?t.memberMap[Pe].isBlockedByMe=Me.category===Se.CATEGORY_USER_BLOCK:n.sb.currentUser.userId===Pe&&(t.memberMap[Le].isBlockingMe=Me.category===Se.CATEGORY_USER_BLOCK))}catch(e){}});break;case Se.CATEGORY_FRIEND_DISCOVERED:var we=Me.data.friend_discoveries.map(function(e){return new i(e)});for(var De in this.sb.userEventHandlers)this.sb.userEventHandlers[De].onFriendsDiscovered(we)}break;case"LEAV":case"JOIN":case"PONG":case"MTIO":case"TPST":case"TPEN":break;default:W.debug("Discard command:","`".concat(A.command,"`"))}}}]),e}(),Ne={},ke={},Re=function(){function e(n){p(this,e),this.channel=n,this.uploadQueue=[],this.messageQueue=[],this.latestTimestampToSendMessage=0,F.get(this._iid).FileMessageQueue.queueMap[n.url]=this}return g(e,[{key:"_handleMessageQueueUpdated",value:function(e){var n=this;switch(W.debug("`fileMessageQueue` message queue updated:",this.messageQueue),e){case"add":this.uploadQueue.length<6&&this._moveFirstPendingMessageToUploadQueue();break;case"update":case"remove":if(this.messageQueue.length>0){var t=F.get(this._iid).FileMessageQueue,r=this.messageQueue[0];if(r)if(r.state===t.State.UPLOADED){if(r&&r.state===t.State.UPLOADED){for(r.state=t.State.SENDING,0===this.latestTimestampToSendMessage&&(this.latestTimestampToSendMessage=(new Date).getTime()-200);(new Date).getTime()-this.latestTimestampToSendMessage<200;);this.latestTimestampToSendMessage=(new Date).getTime(),this._sendUploadedMessage(r,function(e,i){r.state=t.State.SENT,r.error=e||null,r.response=i||null,n._handleMessageQueueUpdated("update")})}}else r.state===t.State.SENT&&this._finalizeMessage()}}}},{key:"_handleUploadQueueUpdated",value:function(e,n){var t=this;switch(W.debug("`fileMessageQueue` upload queue updated:",this.uploadQueue),e){case"add":var r=F.get(this._iid).FileMessageQueue;n.state=r.State.UPLOADING,n.error?(this.messageQueue.map(function(e){return e.requestId}).indexOf(n.requestId)>-1&&(n.state=r.State.SENT,this._handleMessageQueueUpdated("update")),this._finalizeUpload(n.requestId)):this._uploadFile(n,function(e){n.error&&n.state===r.State.SENT||(n.state=r.State.UPLOADED),n.fileInfo=e,t._handleMessageQueueUpdated("update"),t._finalizeUpload(n.requestId)});break;case"update":break;case"remove":this.uploadQueue.length<6&&this._moveFirstPendingMessageToUploadQueue()}}},{key:"_moveFirstPendingMessageToUploadQueue",value:function(){var e=F.get(this._iid).FileMessageQueue,n=this.messageQueue.filter(function(n){return n.state===e.State.PENDING});if(n.length>0){var t=n[0];this.uploadQueue.push(t),this._handleUploadQueueUpdated("add",t)}}},{key:"_sendUploadedMessage",value:function(e,n){var t=F.get(this._iid),r=t.Command,i=t.FileMessage,a=e.fileInfo,s=r.bFile(d(d({},a),{},{requestId:e.requestId,channelUrl:this.channel.url,url:a.file,metaArrays:a.metaArrays})),o=$n.getInstance(this._iid),l=P.get(this._iid);o.getConnectionState()===o.ConnectionState.OPEN||!o.currentUser||o.connecting||o.reconnecting?o.sendCommand(s,function(e,t){if(o.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t){var l=new i(s.getJsonElement());l.requestedMentionUserIds=a.mentionedUserIds,n(t,l)}else{var u=new i(e.getJsonElement());n(null,u)}}):l.container.apiClient.sendFileMessage(d(d({channelUrl:this.channel.url,isOpenChannel:this.channel.isOpenChannel()},a),{},{fileUrl:a.file,fileName:a.name,fileSize:a.size,fileType:a.type,metaArrays:a.metaArrays}),function(e,t){var r=new i(e?s.getJsonElement():t);e&&(r.requestedMentionUserIds=a.mentionedUserIds),n(e,r)})}},{key:"_uploadFile",value:function(e,n){var t=e.fileInfo,r=e.pendingMessage;if("string"!=typeof t.file&&t.file){var i=F.get(this._iid).FileMessageQueue;P.get(this._iid).container.apiClient.uploadFile(d(d({},t),{},{fileType:t.type,channelUrl:this.channel.url,reqId:r?r.reqId:null}),function(r,a){if(r)e.state=i.State.SENT,e.error=r,e.response=null,n(t);else{var s="object"===h(a)?a:JSON.parse(a);t.file=s.url,t.thumbnailSizes=s.hasOwnProperty("thumbnails")?s.thumbnails:[],t.requireAuth=!!s.hasOwnProperty("require_auth")&&s.require_auth,t.size=s.hasOwnProperty("file_size")?s.file_size:t.size,n(t)}})}else t.thumbnailSizes=[],t.requireAuth=!1,n(t)}},{key:"_finalizeUpload",value:function(e){var n=this.uploadQueue.map(function(e){return e.requestId}).indexOf(e);if(n>-1){var t=this.uploadQueue.splice(n,1);t.length>0&&this._handleUploadQueueUpdated("remove",t[0])}}},{key:"_finalizeMessage",value:function(){var e=P.get(this._iid).container.isErrorFirstInCallback,n=$n.getInstance(this._iid),t=F.get(this._iid).FileMessageQueue,r=this.messageQueue[0];if(r&&r.state===t.State.SENT){r.state=t.State.DONE;var i=r.response,a=r.error,s=r.fileInfo.callback;if(i&&!a){var o=n.currentUser;if(o&&i._sender&&o.userId===i._sender.userId&&(o.nickname!==i._sender.nickname&&(o.nickname=i._sender.nickname),o.plainProfileUrl!==i._sender.plainProfileUrl&&(o.plainProfileUrl=i._sender.plainProfileUrl)),this.channel.isGroupChannel())for(var l in this.channel.lastMessage=i,n.channelHandlers)n.channelHandlers[l].onChannelChanged(this.channel);return e?s(null,i):s(i,null),this.messageQueue.shift(),void this._handleMessageQueueUpdated("remove")}a&&(i=r.pendingMessage)&&(a.code!==w.INVALID_PARAMETER?(i.requestState=n.MessageRequestState.FAILED,i.sendingStatus=n.MessageSendingStatus.FAILED,a.code!==w.FILE_UPLOAD_CANCEL_FAILED&&a.code!==w.REQUEST_CANCELED||(i.sendingStatus=n.MessageSendingStatus.CANCELED),i.requestedMentionUserIds=r.fileInfo.mentionedUserIds,i.errorCode=a.code):i=null),e?s(a,i):s(i,a),this.messageQueue.shift(),this._handleMessageQueueUpdated("remove")}}},{key:"addJob",value:function(e){this.messageQueue.push(e),this._handleMessageQueueUpdated("add")}},{key:"cancelUploadItemByRequestId",value:function(e,n){this._finalizeUpload(e);var t=this.messageQueue.map(function(e){return e.requestId}).indexOf(e);if(t>-1){var r=F.get(this._iid).FileMessageQueue,i=this.messageQueue[t];!i||i.state!==r.State.UPLOADING&&i.state!==r.State.PENDING||(i.state=r.State.SENT,i.response=null,i.error=new w("Uploading has been completed or canceled.",w.FILE_UPLOAD_CANCEL_FAILED),this._handleMessageQueueUpdated("update"));var a=r.uploadRequest[e];if(a)return"function"==typeof a.abort?a.abort():"function"==typeof a.cancel&&a.cancel("Upload has been canceled."),n(null,!0),!0;n(new w("Uploading has been completed or canceled.",w.FILE_UPLOAD_CANCEL_FAILED),!1)}else n(new w("Uploading has been completed or canceled.",w.FILE_UPLOAD_CANCEL_FAILED),!1);return!1}}],[{key:"State",get:function(){return{PENDING:"pending",UPLOADING:"uploading",UPLOADED:"uploaded",SENDING:"sending",SENT:"sent",DONE:"done"}}},{key:"getByChannelUrl",value:function(e){return F.get(this._iid).FileMessageQueue.queueMap[e]}},{key:"create",value:function(e){var n=F.get(this._iid).FileMessageQueue;return n.queueMap.hasOwnProperty(e.url)||(n.queueMap[e.url]=new n(e)),n.queueMap[e.url]}},{key:"delete",value:function(e){var n=F.get(this._iid).FileMessageQueue;n.queueMap.hasOwnProperty(e)&&delete n.queueMap[e]}},{key:"clear",value:function(){ke[this._iid]={}}},{key:"queueMap",get:function(){return ke[this._iid]||(ke[this._iid]={}),ke[this._iid]}},{key:"uploadRequest",get:function(){return Ne[this._iid]||(Ne[this._iid]={}),Ne[this._iid]}}]),e}();Re.Job=function e(n){var t=n.fileInfo,r=n.requestId,i=n.pendingMessage,a=n.state,s=n.error,o=void 0===s?null:s,l=n.response,u=void 0===l?null:l;p(this,e),this.fileInfo=t,this.requestId=r,this.pendingMessage=i,this.state=a||Re.State.PENDING,this.error=o,this.response=u};var Oe=function(){function e(){p(this,e)}return g(e,null,[{key:"create",value:function(){return"".concat(parseInt(1e5*Math.random()),"-").concat((new Date).getTime())}}]),e}(),Te={},Me={},Le=new WeakMap,Pe=new WeakMap,we=new WeakMap,De=function(e){_(t,be);var n=A(t);function t(e){var r;return p(this,t),(r=n.call(this,e)).channelType=be.CHANNEL_TYPE_GROUP,r.isDistinct=!1,r.isSuper=!1,r.isBroadcast=!1,r.isPublic=!1,r.unreadMessageCount=0,r.inviter=null,r.members=[],r.memberMap={},r.lastMessage=null,r.memberCount=0,r.joinedMemberCount=0,r.cachedReadReceiptStatus={},r.cachedDeliveryReceiptStatus=null,r.myPushTriggerOption=t.PushTriggerOption.DEFAULT,r.isPushEnabled,r.isHidden=!1,r.hiddenState=t.HiddenState.UNHIDDEN,r.isDiscoverable=!0,r.myLastRead=0,r.messageSurvivalSeconds=-1,r.invitedAt=0,r.joinedAt=0,r._messageOffsetTimestamp=0,r._cachedLastDeliveredReceipt={sentAt:0,timeout:null},Le.set(b(r),{}),Pe.set(b(r),{start:0,end:0}),we.set(b(r),0),e&&r._update(e),r}return g(t,[{key:"messageOffsetTimestamp",get:function(){return this._messageOffsetTimestamp}},{key:"_setGroupChannelUnreadCount",value:function(e,n){try{if("number"==typeof e&&e>=0)if("all"===this.myCountPreference||"unread_message_count_only"===this.myCountPreference)if(this.isSuper||this.isBroadcast){var t=P.get(this._iid).container.maxUnreadCountOfSuperGroupChannel;this.unreadMessageCount=e>=t?t:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;"number"==typeof n&&n>=0&&("all"===this.myCountPreference||"unread_mention_count_only"===this.myCountPreference?this.unreadMentionCount=n:this.unreadMentionCount=0)}catch(e){}}},{key:"_update",value:function(e){var n=F.get(this._iid),t=n.BaseChannel,r=n.GroupChannel,i=n.User,a=n.Member;if(this.isAccessCodeRequired=!!e.is_access_code_required&&e.is_access_code_required,this.isDistinct=!!e.is_distinct&&e.is_distinct,this.isPushEnabled=!!e.is_push_enabled&&e.is_push_enabled,this.isHidden=!!e.hasOwnProperty("is_hidden")&&e.is_hidden,this.myPushTriggerOption=e.push_trigger_option?e.push_trigger_option:r.PushTriggerOption.DEFAULT,this.myCountPreference=e.hasOwnProperty("count_preference")?e.count_preference:r.CountPreference.ALL,this.unreadMessageCount=0,this.unreadMentionCount=0,this._setGroupChannelUnreadCount(parseInt(e.unread_message_count),parseInt(e.unread_mention_count)),e.hasOwnProperty("read_receipt"))for(var s in this.cachedReadReceiptStatus={},e.read_receipt){var o=e.read_receipt[s];this.updateReadReceipt(s,parseInt(o))}if(e.hasOwnProperty("delivery_receipt")&&"object"===h(e.delivery_receipt)&&null!==e.delivery_receipt)for(var l in this.cachedDeliveryReceiptStatus||(this.cachedDeliveryReceiptStatus={}),e.delivery_receipt){var u=e.delivery_receipt[l];this.updateDeliveryReceipt(l,parseInt(u))}if(e.hasOwnProperty("user_last_read")&&"number"==typeof e.user_last_read?this.myLastRead=e.user_last_read:this.myLastRead=0,e.hasOwnProperty("members")){this.members=[],this.memberMap={};for(var c=0;c<e.members.length;c++){var d=new a(e.members[c]);this.members.push(d),this.memberMap[d.userId]=d}}this.myMemberState=e.member_state||"none",this.myRole=e.my_role||r.Role.NONE,e.hasOwnProperty("is_muted")?"string"==typeof e.is_muted?this.myMutedState=e.is_muted:"boolean"==typeof e.is_muted?this.myMutedState=e.is_muted?"muted":"unmuted":this.myMutedState="unmuted":this.myMutedState="unmuted",e.hasOwnProperty("member_count")&&(this.memberCount=parseInt(e.member_count)),e.hasOwnProperty("joined_member_count")&&(this.joinedMemberCount=parseInt(e.joined_member_count)),e.hasOwnProperty("last_message")&&"object"===h(e.last_message)&&e.last_message?e.last_message instanceof ve?this.lastMessage=e.last_message:this.lastMessage=t.buildMessage(e.last_message,this):this.lastMessage=null,e.hasOwnProperty("inviter")&&null!==e.inviter&&"object"===h(e.inviter)&&Object.keys(e.inviter).length>0?this.inviter=new i(e.inviter):this.inviter=null,this.invitedAt=e.invited_at||0,this.joinedAt=e.joined_ts||0,e.hasOwnProperty("is_super")&&"boolean"==typeof e.is_super?this.isSuper=e.is_super:this.isSuper=!1,e.hasOwnProperty("is_broadcast")&&"boolean"==typeof e.is_broadcast?this.isBroadcast=e.is_broadcast:this.isBroadcast=!1,e.hasOwnProperty("is_public")&&"boolean"==typeof e.is_public?this.isPublic=e.is_public:this.isPublic=!1,e.hasOwnProperty("hidden_state")?this.hiddenState=e.hidden_state:this.hiddenState=r.HiddenState.UNHIDDEN,e.hasOwnProperty("is_discoverable")&&"boolean"==typeof e.is_discoverable?this.isDiscoverable=e.is_discoverable:this.isDiscoverable=this.isPublic,e.hasOwnProperty("ts_message_offset")&&(this._messageOffsetTimestamp=e.ts_message_offset),e.hasOwnProperty("message_survival_seconds")&&"number"==typeof e.message_survival_seconds&&(this.messageSurvivalSeconds=e.message_survival_seconds)}},{key:"addMember",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.isSuper&&!this.isBroadcast){var t=F.get(this._iid).Member,r=this.removeMember(e);r&&r.state===t.JOINED&&(e.state=t.JOINED),this.memberMap[e.userId]=e,this.members.push(e),this.memberCount++,this.updateReadReceipt(e.userId,n),this.updateDeliveryReceipt(e.userId,n)}}},{key:"removeMember",value:function(e){var n=null;if(!this.isSuper&&!this.isBroadcast&&this.memberMap.hasOwnProperty(e.userId)){delete this.memberMap[e.userId];for(var t=0;t<this.members.length;t++){var r=this.members[t];if(r.userId===e.userId){n=r,this.members.splice(t,1);break}}this.memberCount--}return n}},{key:"parse",value:function(e){this._update(e)}},{key:"update",value:function(e){this.__update(e),this._update(e)}},{key:"isIdentical",value:function(e){return e&&this.url===e.url}},{key:"isEqual",value:function(e){return $.deepEqual(this,e)}},{key:"createMemberListQuery",value:function(){return new(0,F.get(this._iid).MemberListQuery)(this.url)}},{key:"createBannedUserListQuery",value:function(){return new(0,F.get(this._iid).BannedUserListQuery)({channelUrl:this.url,isOpenChannel:this.isOpenChannel()})}},{key:"refresh",value:function(e){return F.get(this._iid).GroupChannel.getChannelWithoutCache(this.url,e)}},{key:"updateChannel",value:function(){var e=this,n=ie.toArray(arguments),t=void 0;"function"==typeof n[n.length-1]&&(t=n.pop());var r=F.get(this._iid),i=r.GroupChannel,a=r.GroupChannelParams;if(n[0]instanceof a&&1===n.length)return ye(this._iid,function(t){var r=n[0];r.channelUrl=e.url,r._validate()?P.get(e._iid).container.apiClient.updateGroupChannel(d(d({},r),{},{operatorUserIds:r.operatorUserIds}),function(e,n){var r=null;e||(r=i.upsert(n)),t(e,r)}):t(ie.error,null)},t);if(3===n.length){var s=new a;return s.channelUrl=this.url,s.name=n[0],"string"==typeof n[1]?s.coverUrl=n[1]:s.coverImage=n[1],s.data=n[2],this.updateChannel(s,t)}if(4===n.length){var o=new a;return o.channelUrl=this.url,o.isDistinct=n[0],o.name=n[1],"string"==typeof n[1]?o.coverUrl=n[2]:o.coverImage=n[2],o.data=n[3],this.updateChannel(o,t)}if(5===n.length){var l=new a;return l.channelUrl=this.url,l.isDistinct=n[0],l.name=n[1],"string"==typeof n[2]?l.coverUrl=n[2]:l.coverImage=n[2],l.data=n[3],l.customType=n[4],this.updateChannel(l,t)}return ye(this._iid,function(e){return e(ie.error,null)},t)}},{key:"invite",value:function(e,n){var t,r=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return e.length>0&&e.every(function(e){return!!e.userId&&"string"==typeof e.userId})}}),new ie({type:"callback"})]),3);return t=r[0],e=r[1],n=r[2],t?ye(this._iid,function(e){return e(ie.error,null)},n):this.inviteWithUserIds(e.map(function(e){return e.userId}),n)}},{key:"inviteWithUserIds",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.inviteToGroupChannel({channelUrl:r.url,userIds:e},function(e,t){var i=null;e||(i=F.get(r._iid).GroupChannel.upsert(t)),n(e,i)})},n)}},{key:"acceptInvitation",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string",optional:!0,defaultValue:null}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.acceptInvitation({channelUrl:r.url,accessCode:e},function(e,t){var i=null;e||((i=F.get(r._iid).GroupChannel.upsert(t)).myMemberState="joined"),n(e,i)})},n)}},{key:"declineInvitation",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.declineInvitation({channelUrl:n.url},function(t,r){var i=null;if(!t){var a=F.get(n._iid).GroupChannel;(i=a.upsert(r)).myMemberState="none",n.isPublic||a.removeCachedChannel(n.url)}e(t,i)})},e)}},{key:"join",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string",optional:!0,defaultValue:null}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.joinGroupChannel({channelUrl:r.url,accessCode:e},function(e,t){var i=null;e||((i=F.get(r._iid).GroupChannel.upsert(t)).myMemberState="joined"),n(e,i)})},n)}},{key:"leave",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.leaveGroupChannel({channelUrl:n.url},function(n,t){return e(n,null)})},e)}},{key:"muteUser",value:function(e,n,t,r){return this.muteUserWithUserId(e?e.userId:null,n,t,r)}},{key:"muteUserWithUserId",value:function(e,n,t,r){var i,a=this,s=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new ie({type:"string",optional:!0,defaultValue:""}),new ie({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],ye(this._iid,function(r){i?r(i,null):P.get(a._iid).container.apiClient.muteUser({channelUrl:a.url,userId:e,description:t,seconds:n,isGroupChannel:!0},function(e,n){r(e,null)})},r)}},{key:"unmuteUser",value:function(e,n){return this.unmuteUserWithUserId(e?e.userId:null,n)}},{key:"unmuteUserWithUserId",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.unmuteUser({channelUrl:r.url,userId:e,isGroupChannel:!0},function(e,t){n(e,null)})},n)}},{key:"banUser",value:function(e,n,t,r){return this.banUserWithUserId(e?e.userId:null,n,t,r)}},{key:"banUserWithUserId",value:function(e,n,t,r){var i,a=this,s=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new ie({type:"string"}),new ie({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],ye(this._iid,function(r){i?r(i,null):P.get(a._iid).container.apiClient.banUser({channelUrl:a.url,userId:e,description:t,seconds:n,isGroupChannel:!0},function(e,n){r(e,null)})},r)}},{key:"unbanUser",value:function(e,n){return this.unbanUserWithUserId(e?e.userId:null,n)}},{key:"unbanUserWithUserId",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.unbanUser({channelUrl:r.url,userId:e,isGroupChannel:!0},function(e,t){n(e,null)})},n)}},{key:"updateJoinedMemberCount",value:function(){if(!this.isSuper&&!this.isBroadcast){var e=F.get(this._iid).Member;this.joinedMemberCount=this.members.filter(function(n){return n.state===e.JOINED}).length}}},{key:"setLatestMemberCount",value:function(e,n,t){var r=!1;return"number"==typeof e&&"number"==typeof n&&"number"==typeof t&&t>=we.get(this)&&(we.set(this,t),r=n!==this.joinedMemberCount||e!==this.memberCount,this.memberCount=e,this.joinedMemberCount=n),r}},{key:"hide",value:function(e,n,t){var r,i=this,a=I(ie.parse(arguments,[new ie({type:"boolean",optional:!0,defaultValue:!1}),new ie({type:"boolean",optional:!0,defaultValue:!0}),new ie({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.hideGroupChannel({channelUrl:i.url,hidePreviousMessages:e,allowAutoUnhide:n},function(r,a){if(!r){var s=F.get(i._iid).GroupChannel;i.isHidden=!0,i.hiddenState=n?s.HiddenState.HIDDEN_ALLOW_AUTO_UNHIDE:s.HiddenState.HIDDEN_PREVENT_AUTO_UNHIDE,e&&i._setGroupChannelUnreadCount(0,0),a.hasOwnProperty("ts_message_offset")&&(i._messageOffsetTimestamp=a.ts_message_offset),s.cachedChannels[i.url]=i}t(r,a)})},t)}},{key:"unhide",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.unhideGroupChannel({channelUrl:n.url},function(t,r){if(!t){var i=F.get(n._iid).GroupChannel;n.isHidden=!1,n.hiddenState=i.HiddenState.UNHIDDEN,i.cachedChannels[n.url]=n}e(t,r)})},e)}},{key:"freeze",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.freeze({channelUrl:n.url,isGroupChannel:!0,freezing:!0},function(t,r){if(!t){var i=F.get(n._iid).GroupChannel;n.isFrozen=!0,i.cachedChannels[n.url]=n}e(t,null)})},e)}},{key:"unfreeze",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.freeze({channelUrl:n.url,isGroupChannel:!0,freezing:!1},function(t,r){if(!t){var i=F.get(n._iid).GroupChannel;n.isFrozen=!1,i.cachedChannels[n.url]=n}e(t,null)})},e)}},{key:"delete",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.deleteGroupChannel({channelUrl:n.url},function(t,r){t||F.get(n._iid).GroupChannel.removeCachedChannel(n.url),e(t,r)})},e)}},{key:"markAsRead",value:function(){var e=this,n=F.get(this._iid).Command,t=$n.getInstance(this._iid),r=n.bRead({channelUrl:this.url});t.sendCommand(r,function(n,r){if(t.getErrorFirstCallback()){var i=[n,r];r=i[0],n=i[1]}if(!r&&t.currentUser&&(e.updateReadReceipt(t.currentUser.userId,n.getJsonElement().ts),e.unreadMessageCount>0||e.unreadMentionCount>0))for(var a in e._setGroupChannelUnreadCount(0,0),t.channelHandlers)t.channelHandlers[a].onChannelChanged(e)})}},{key:"getUnreadMemberCount",value:function(e){var n=$n.getInstance(this._iid),t=F.get(this._iid).Member;if(e instanceof ve&&!e.isAdminMessage()&&n.currentUser&&!this.isSuper&&!this.isBroadcast){for(var r=0,i=e.createdAt,a=this.members,s=0;s<a.length;s++){var o=a[s];n.currentUser.userId===o.userId||o.state!==t.JOINED||e.sender&&e.sender.userId===o.userId||(this.cachedReadReceiptStatus[o.userId]||0)<i&&r++}return r}return 0}},{key:"getReadReceipt",value:function(e){return this.getUnreadMemberCount(e)}},{key:"markAsDelivered",value:function(){var e=this,n=$n.getInstance(this._iid),t=n.currentUser?n.currentUser.userId:null;P.get(this._iid).container.apiClient.markAsDelivered({channelUrl:this.url,userId:t},function(n,r){if(n)W.debug(n);else{var i=r.hasOwnProperty("ts")?r.ts:0;e.updateDeliveryReceipt(t,i)}})}},{key:"getUndeliveredMemberCount",value:function(e){var n=$n.getInstance(this._iid),t=F.get(this._iid).Member;if(this.cachedDeliveryReceiptStatus&&e instanceof ve&&!e.isAdminMessage()&&n.currentUser&&!this.isSuper&&!this.isBroadcast){var r,i=e.createdAt,a=0,s=O(this.members);try{for(s.s();!(r=s.n()).done;){var o=r.value;n.currentUser.userId===o.userId||o.state!==t.JOINED||e.sender&&e.sender.userId===o.userId||this.cachedDeliveryReceiptStatus[o.userId]<i&&a++}}catch(e){s.e(e)}finally{s.f()}return a}return 0}},{key:"getDeliveryReceipt",value:function(e){return this.getUndeliveredMemberCount(e)}},{key:"getReadMembers",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=$n.getInstance(this._iid);if(t.currentUser&&!this.isSuper&&!this.isBroadcast&&e instanceof ve&&!e.isAdminMessage()){for(var r=[],i=0;i<this.members.length;i++){var a=this.members[i];if(n||a.userId!==t.currentUser.userId&&a.userId!==e.sender.userId)(this.cachedReadReceiptStatus[a.userId]||0)>=e.createdAt&&r.push(a)}return r}return[]}},{key:"getUnreadMembers",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=$n.getInstance(this._iid);if(t.currentUser&&!this.isSuper&&!this.isBroadcast&&e instanceof ve&&!e.isAdminMessage()){for(var r=[],i=0;i<this.members.length;i++){var a=this.members[i];if(n||a.userId!==t.currentUser.userId&&a.userId!==e.sender.userId)(this.cachedReadReceiptStatus[a.userId]||0)<e.createdAt&&r.push(a)}return r}return[]}},{key:"getReadStatus",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=$n.getInstance(this._iid);if(t.currentUser&&!this.isSuper&&!this.isBroadcast){var r={},i=function(i){if(!n&&i===t.currentUser.userId)return"continue";var a=e.cachedReadReceiptStatus[i],s=e.members.filter(function(e){return e.userId===i});r[i]={user:s.length>0?s[0]:null,last_seen_at:parseInt(a)}};for(var a in this.cachedReadReceiptStatus)i(a);return r}return{}}},{key:"updateReadReceipt",value:function(e,n){var t=this.cachedReadReceiptStatus[e];if(!t||t<n){this.cachedReadReceiptStatus[e]=n;var r=$n.getInstance(this._iid);r.currentUser&&e===r.currentUser.userId&&(this.myLastRead=n)}}},{key:"updateDeliveryReceipt",value:function(e,n){if(this.cachedDeliveryReceiptStatus)if(this.cachedDeliveryReceiptStatus.hasOwnProperty(e)){var t=this.cachedDeliveryReceiptStatus[e];(!t||t<n)&&(this.cachedDeliveryReceiptStatus[e]=n)}else this.cachedDeliveryReceiptStatus[e]=n}},{key:"startTyping",value:function(){var e=$n.getInstance(this._iid),n=(new Date).getTime(),t=e.Options.typingIndicatorThrottle;("number"!=typeof t||t<1e3||t>9e3)&&(t=1e3);var r=Pe.get(this);if(n-r.start>=t){r.end=0,r.start=n;var i=F.get(this._iid).Command.bTypeStart({channelUrl:this.url,time:r.start});e.sendCommand(i,null)}}},{key:"endTyping",value:function(){var e=$n.getInstance(this._iid),n=(new Date).getTime(),t=e.Options.typingIndicatorThrottle;("number"!=typeof t||t<1e3||t>9e3)&&(t=1e3);var r=Pe.get(this);if(n-r.end>=t){r.start=0,r.end=n;var i=F.get(this._iid).Command.bTypeEnd({channelUrl:this.url,time:r.end});e.sendCommand(i,null)}}},{key:"invalidateTypingStatus",value:function(){var e=Le.get(this),n=(new Date).getTime(),t=!1;for(var r in e)n-e[r].ts>=1e4&&(delete e[r],t=!0);return t}},{key:"getTypingMembers",value:function(){var e=Le.get(this),n=[];for(var t in e){var r=this.memberMap[t];r&&n.push(r)}return n}},{key:"getTypingUsers",value:function(){var e=Le.get(this),n=[];for(var t in e){var r=e[t].user;n.push(r)}return n}},{key:"updateTypingStatus",value:function(e,n){var t=Le.get(this);n?t[e.userId]={user:e,ts:(new Date).getTime()}:delete t[e.userId]}},{key:"isTyping",value:function(){var e=Le.get(this);return 0!==Object.keys(e).length}},{key:"registerScheduledUserMessage",value:function(e,n){var t,r=this,i=F.get(this._iid),a=i.ScheduledUserMessage,s=i.ScheduledUserMessageParams,o=I(ie.parse(arguments,[new ie({type:s,constraint:function(e){return"string"==typeof e.message&&"string"==typeof e._getScheduleString()}}),new ie({type:"callback"})]),3);return t=o[0],e=o[1],n=o[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.registerScheduledUserMessage({groupChannelParams:e,channelUrl:r.url,isOpenChannel:!1},function(e,t){var i=null;if(!e){i=new a(t);var s=$n.getInstance(r._iid).currentUser;s&&i._sender&&s.userId===i._sender.userId&&(s.nickname=i._sender.nickname,s.plainProfileUrl=i._sender.plainProfileUrl,s.metaData=i._sender.metaData)}n(e,i)})},n)}},{key:"getPushPreference",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.getMyPushTriggerOption({channelUrl:n.url},function(t,r){var i=null;if(!t){try{i=r.enable}catch(e){i=!1}n.isPushEnabled=i}e&&e(t,i)})},e)}},{key:"setPushPreference",value:function(e,n){var t=this;return ye(this._iid,function(n){var r=F.get(t._iid).GroupChannel;P.get(t._iid).container.apiClient.setMyPushTriggerOption({channelUrl:t.url,enable:e},function(e,i){e||(t.isPushEnabled=i.enable,t.isPushEnabled||(t.myPushTriggerOption=r.PushTriggerOption.OFF)),n(e,i)})},n)}},{key:"getMyPushTriggerOption",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.getMyPushTriggerOption({channelUrl:n.url},function(r,i){var a=null;if(!r){try{a=i.push_trigger_option||t.PushTriggerOption.DEFAULT}catch(e){W.debug(e)}n.myPushTriggerOption=a}e(r,a)})},e)}},{key:"setMyPushTriggerOption",value:function(e,n){var t,r=this,i=F.get(this._iid).GroupChannel,a=I(ie.parse(arguments,[new ie({type:i.PushTriggerOption}),new ie({type:"callback"})]),3);return t=a[0],e=a[1],n=a[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.setMyPushTriggerOption({channelUrl:r.url,pushTriggerOption:e},function(e,t){var i=null;if(!e){try{i=t.push_trigger_option}catch(e){W.debug(e)}r.myPushTriggerOption=i}n(e,i)})},n)}},{key:"setMyCountPreference",value:function(e,n){var t,r=this,i=F.get(this._iid).GroupChannel,a=I(ie.parse(arguments,[new ie({type:i.CountPreference}),new ie({type:"callback"})]),3);return t=a[0],e=a[1],n=a[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.setMyCountPreference({channelUrl:r.url,countPreference:e},function(e,t){var a=null;e||(a=r.myCountPreference=t.count_preference,r._setGroupChannelUnreadCount(r.unreadMessageCount,r.unreadMentionCount),i.cachedChannels[r.url]=r),n(e,a)})},n)}},{key:"resetMyHistory",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.resetMyHistory({channelUrl:n.url},function(t,r){if(!t&&r.hasOwnProperty("ts_message_offset")){var i=F.get(n._iid).GroupChannel;n._messageOffsetTimestamp=r.ts_message_offset,i.cachedChannels[n.url]=n}e(t,r)})},e)}}],[{key:"MemberStateFilter",get:function(){return{ALL:"all",JOINED:"joined_only",INVITED:"invited_only",INVITED_BY_FRIEND:"invited_by_friend",INVITED_BY_NON_FRIEND:"invited_by_non_friend"}}},{key:"PushTriggerOption",get:function(){return{DEFAULT:"default",ALL:"all",MENTION_ONLY:"mention_only",OFF:"off"}}},{key:"CountPreference",get:function(){return{ALL:"all",UNREAD_MESSAGE_COUNT_ONLY:"unread_message_count_only",UNREAD_MENTION_COUNT_ONLY:"unread_mention_count_only",OFF:"off"}}},{key:"HiddenState",get:function(){return{UNHIDDEN:"unhidden",HIDDEN_ALLOW_AUTO_UNHIDE:"hidden_allow_auto_unhide",HIDDEN_PREVENT_AUTO_UNHIDE:"hidden_prevent_auto_unhide"}}},{key:"PublicChannelFilter",get:function(){return{ALL:"all",PUBLIC:"public",PRIVATE:"private"}}},{key:"SuperChannelFilter",get:function(){return{ALL:"all",SUPER:"super",NON_SUPER:"nonsuper"}}},{key:"UnreadChannelFilter",get:function(){return{ALL:"all",UNREAD_MESSAGE:"unread_message"}}},{key:"HiddenChannelFilter",get:function(){return{UNHIDDEN:"unhidden_only",HIDDEN:"hidden_only",HIDDEN_ALLOW_AUTO_UNHIDE:"hidden_allow_auto_unhide",HIDDEN_PREVENT_AUTO_UNHIDE:"hidden_prevent_auto_unhide"}}},{key:"Role",get:function(){return{OPERATOR:"operator",NONE:"none"}}},{key:"UnreadItemKey",get:function(){return{GROUP_CHANNEL_UNREAD_MENTION_COUNT:"group_channel_unread_mention_count",NONSUPER_UNREAD_MENTION_COUNT:"non_super_group_channel_unread_mention_count",SUPER_UNREAD_MENTION_COUNT:"super_group_channel_unread_mention_count",GROUP_CHANNEL_UNREAD_MESSAGE_COUNT:"group_channel_unread_message_count",NONSUPER_UNREAD_MESSAGE_COUNT:"non_super_group_channel_unread_message_count",SUPER_UNREAD_MESSAGE_COUNT:"super_group_channel_unread_message_count",GROUP_CHANNEL_INVITATION_COUNT:"group_channel_invitation_count",NONSUPER_INVITATION_COUNT:"non_super_group_channel_invitation_count",SUPER_INVITATION_COUNT:"super_group_channel_invitation_count"}}},{key:"cachedChannels",get:function(){return Te[this._iid]||(Te[this._iid]={}),Te[this._iid]}},{key:"buildFromSerializedData",value:function(e){var n=F.get(this._iid),t=n.User,r=n.Member,i=n.GroupChannel,a=n.BaseMessage,s=n.UserMessage,o=n.FileMessage,l=n.AdminMessage,u=ge.deserialize(e),c=function(e){return null!=e&&"object"===h(e)?e.messageType===a.MESSAGE_TYPE_USER?new s(s.objectify(d(d({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},user:e.sender,mentionedUsers:e.mentionedUsers}))):e.messageType===a.MESSAGE_TYPE_FILE?new o(o.objectify(d(d({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},user:e.sender,mentionedUsers:e.mentionedUsers}))):new l(l.objectify(d(d({},e),{},{channel:{url:e.channelUrl,channelType:e.channelType},mentionedUsers:e.mentionedUsers}))):null}(u.lastMessage);return new i({channel_url:u.url,name:u.name,cover_url:u.coverUrl,data:u.data,custom_type:u.customType,invited_at:u.invitedAt,created_at:u.createdAt/1e3,joined_ts:u.joinedAt,is_access_code_required:u.isAccessCodeRequired,is_distinct:u.isDistinct,is_super:u.isSuper,is_broadcast:u.isBroadcast,is_public:u.isPublic,is_discoverable:u.isDiscoverable,is_hidden:u.isHidden,is_ephemeral:u.isEphemeral,is_muted:u.myMutedState,is_push_enabled:u.isPushEnabled,freeze:u.isFrozen,unread_message_count:u.unreadMessageCount,unread_mention_count:u.unreadMentionCount,push_trigger_option:u.myPushTriggerOption,count_preference:u.myCountPreference,hidden_state:u.hiddenState,member_count:u.memberCount,joined_member_count:u.joinedMemberCount,member_state:u.myMemberState,my_role:u.myRole,user_last_read:u.myLastRead,ts_message_offset:u.messageOffsetTimestamp,message_survival_seconds:u.messageSurvivalSeconds,read_receipt:u.cachedReadReceiptStatus,delivery_receipt:u.cachedDeliveryReceiptStatus,members:u.members.map(function(e){return r.objectify(d({user:e},e))}),last_message:c,created_by:null!==u.creator&&void 0!==u.creator&&"object"===h(u.creator)?t.objectify(u.creator):null,inviter:null!==u.inviter&&void 0!==u.inviter&&"object"===h(u.inviter)?t.objectify(u.inviter):null})}},{key:"upsert",value:function(e){var n=F.get(this._iid).GroupChannel,t=new n(e);if(n.cachedChannels.hasOwnProperty(t.url)){if(t.isEphemeral){var r=n.cachedChannels[t.url];e.last_message=r.lastMessage,e.unread_message_count=r.unreadMessageCount}n.cachedChannels[t.url].update(e)}else n.cachedChannels[t.url]=t;return n.cachedChannels[t.url]}},{key:"removeCachedChannel",value:function(e){var n=F.get(this._iid),t=n.GroupChannel,r=n.FileMessageQueue;t.cachedChannels[e]&&delete t.cachedChannels[e],r.delete(e)}},{key:"clearCache",value:function(){Te[this._iid]={},F.get(this._iid).FileMessageQueue.clear()}},{key:"getChannel",value:function(e,n){var t,r,i=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"string",optional:!0,nullable:!0,defaultValue:null}),new ie({type:"callback"})]),4);if(t=i[0],e=i[1],r=i[2],n=i[3],t)return ye(this._iid,function(e){e(t,null)},n);var a=F.get(this._iid).GroupChannel;return a.cachedChannels[e]?ye(this._iid,function(n){n(null,a.cachedChannels[e])},n):a.getChannelWithoutCache(e,r,n)}},{key:"getChannelWithoutCache",value:function(e,n){var t,r,i=this,a=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"string",optional:!0,nullable:!0,defaultValue:null}),new ie({type:"callback"})]),4);return t=a[0],e=a[1],r=a[2],n=a[3],ye(this._iid,function(n){t?n(t,null):P.get(i._iid).container.apiClient.getGroupChannel({channelUrl:e,internalCall:r,showMember:!0},function(e,t){var r=null;e||(r=i.upsert(t)),n(e,r)})},n)}},{key:"createDistinctChannelIfNotExist",value:function(e,n){var t,r=this,i=F.get(this._iid).GroupChannelParams,a=I(ie.parse(arguments,[new ie({type:i,constraint:function(e){return e._validate()}}),new ie({type:"callback"})]),3);return t=a[0],e=a[1],n=a[2],ye(this._iid,function(n){t?n(t,null):(e.isPublic||(e.accessCode=null),P.get(r._iid).container.apiClient.createGroupChannel(d(d({},e),{},{isDistinct:!0}),function(e,t){var i=null;if(!e){var a=F.get(r._iid).GroupChannel;i={channel:new a(t),isCreated:t.is_created},a.cachedChannels[i.channel.url]=i.channel}n(e,i)}))},n)}},{key:"createChannel",value:function(){var e=this,n=ie.toArray(arguments),t=void 0;"function"==typeof n[n.length-1]&&(t=n.pop());var r=F.get(this._iid),i=r.GroupChannel,a=r.GroupChannelParams;if(n[0]instanceof a&&1===n.length)return ye(this._iid,function(t){var r=n[0];r.isPublic||(r.accessCode=null),r._validate()?P.get(e._iid).container.apiClient.createGroupChannel(r,function(e,n){var r=null;e||(r=new i(n),i.cachedChannels[r.url]=r),t(e,r)}):t(ie.error,null)},t);if(Array.isArray(n[0])){var s=new a;switch(n.length){case 1:s.addUsers(n[0]);break;case 2:s.addUsers(n[0]),s.isDistinct=n[1];break;case 3:s.addUsers(n[0]),s.isDistinct=n[1],s.customType=n[2];break;case 5:s.addUsers(n[0]),s.isDistinct=n[1],s.name=n[2],"string"==typeof n[3]?s.coverUrl=n[3]:s.coverImage=n[3],s.data=n[4];break;case 6:s.addUsers(n[0]),s.isDistinct=n[1],s.name=n[2],"string"==typeof n[3]?s.coverUrl=n[3]:s.coverImage=n[3],s.data=n[4],s.customType=n[5];break;default:return ye(this._iid,function(e){return e(ie.error,null)},t)}return t?i.createChannel(s,t):i.createChannel(s)}return ye(this._iid,function(e){return e(ie.error,null)},t)}},{key:"createChannelWithUserIds",value:function(){var e=ie.toArray(arguments),n=void 0;"function"==typeof e[e.length-1]&&(n=e.pop());var t=F.get(this._iid),r=t.GroupChannel,i=new(0,t.GroupChannelParams);switch(e.length){case 1:i.addUserIds(e[0]);break;case 2:i.addUserIds(e[0]),i.isDistinct=e[1];break;case 3:i.addUserIds(e[0]),i.isDistinct=e[1],i.customType=e[2];break;case 5:i.addUserIds(e[0]),i.isDistinct=e[1],i.name=e[2],"string"==typeof e[3]?i.coverUrl=e[3]:i.coverImage=e[3],i.data=e[4];break;case 6:i.addUserIds(e[0]),i.isDistinct=e[1],i.name=e[2],"string"==typeof e[3]?i.coverUrl=e[3]:i.coverImage=e[3],i.data=e[4],i.customType=e[5];break;default:return ye(this._iid,function(e){return e(ie.error,null)},n)}return r.createChannel(i,n)}},{key:"createMyGroupChannelListQuery",value:function(){return new(0,F.get(this._iid).GroupChannelListQuery)}},{key:"createPublicGroupChannelListQuery",value:function(){return new(0,F.get(this._iid).PublicGroupChannelListQuery)}},{key:"markAsReadAllLastSentAt",get:function(){return Me[this._iid]||0},set:function(e){Me[this._iid]=e}},{key:"getChannelCount",value:function(e,n){return $n.getInstance(this._iid).getGroupChannelCount(e,n)}},{key:"getUnreadItemCount",value:function(e,n){return $n.getInstance(this._iid).getUnreadItemCount(e,n)}},{key:"getTotalUnreadMessageCount",value:function(){var e=ie.toArray(arguments),n="function"==typeof e[e.length-1]?e.pop():null,t=$n.getInstance(this._iid);return t.getTotalUnreadMessageCount.apply(t,N(e).concat([n]))}},{key:"getTotalUnreadChannelCount",value:function(e){return $n.getInstance(this._iid).getTotalUnreadChannelCount(e)}}]),t}(),He=function(e){_(t,Ce);var n=A(t);function t(e){var r;return p(this,t),(r=n.call(this,e)).state="",r.role="",r.isMuted=!1,r.isBlockedByMe=!1,r.isBlockingMe=!1,e&&r._update(e),r}return g(t,[{key:"_update",value:function(e){this.state=e.state,this.role=e.role||De.Role.NONE,e.hasOwnProperty("is_muted")&&(this.isMuted=e.is_muted),e.hasOwnProperty("is_blocked_by_me")&&(this.isBlockedByMe=e.is_blocked_by_me),e.hasOwnProperty("is_blocking_me")&&(this.isBlockingMe=e.is_blocking_me)}},{key:"parse",value:function(e){this._update(e)}}],[{key:"objectify",value:function(e){var n=F.get(this._iid).User,t=e.user,r=e.state,i=e.role,a=void 0===i?"":i,s=e.isMuted,o=void 0!==s&&s,l=e.isBlockedByMe,u=void 0!==l&&l,c=e.isBlockingMe,d=void 0!==c&&c,h=n.objectify(t);return h.state=r,h.role=a,h.is_muted=o,h.is_blocked_by_me=u,h.is_blocking_me=d,h}},{key:"build",value:function(e,n,t,r,i,a){var s=F.get(this._iid).User;return this.objectify({user:new s(e),state:n,role:t,isMuted:r,isBlockedByMe:i,isBlockingMe:a})}},{key:"buildFromSerializedData",value:function(e){var n=F.get(this._iid).Member,t=ge.deserialize(e);return new n(n.objectify(d({user:t},t)))}},{key:"JOINED",get:function(){return"joined"}},{key:"INVITED",get:function(){return"invited"}}]),t}(),Fe=function(e){_(t,Ce);var n=A(t);function t(e){var r;return p(this,t),(r=n.call(this,e)).role="",r.isBlockedByMe=!1,e&&r._update(e),r}return g(t,[{key:"parse",value:function(e){this._update(e)}},{key:"_update",value:function(e){this.role=e.role||De.Role.NONE,e.hasOwnProperty("is_blocked_by_me")&&(this.isBlockedByMe=e.is_blocked_by_me)}}],[{key:"objectify",value:function(e){var n=F.get(this._iid).User,t=e.user,r=e.role,i=void 0===r?"":r,a=e.isBlockedByMe,s=void 0!==a&&a,o=n.objectify(t);return o.role=i,o.is_blocked_by_me=s,o}},{key:"build",value:function(e,n){var t=F.get(this._iid).User;return this.objectify({user:new t(e),isBlockedByMe:n})}},{key:"buildFromSerializedData",value:function(e){var n=F.get(this._iid).Sender,t=ge.deserialize(e);return new n(n.objectify(d({user:t},t)))}}]),t}(),Ge=function(){function e(n){p(this,e),this.emojiHash=null,this.emojiCategories=null,n&&this._update(n)}return g(e,[{key:"_update",value:function(e){var n=F.get(this._iid).EmojiCategory;this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map(function(e){return new n(e)}):[]}}]),e}(),Be=function(){function e(n){p(this,e),this.id=null,this.name=null,this.url=null,this.emojis=null,n&&this._update(n)}return g(e,[{key:"_update",value:function(e){var n=F.get(this._iid).Emoji;this.id=e.id||0,this.name=e.name||"",this.url=e.url||"",this.emojis=e.emojis?e.emojis.map(function(e){return new n(e)}):[]}}]),e}(),je=function(){function e(n){p(this,e),this.key=null,this.url=null,n&&this._update(n)}return g(e,[{key:"_update",value:function(e){this.key=e.key,this.url=e.url}}]),e}(),xe={},qe={},ze=new WeakMap,Qe=function(e){_(t,be);var n=A(t);function t(e){var r;return p(this,t),(r=n.call(this,e)).channelType=be.CHANNEL_TYPE_OPEN,r.participantCount=0,ze.set(b(r),0),r.operators=[],e&&r._update(e),r}return g(t,[{key:"_update",value:function(e){var n=F.get(this._iid).User;e.hasOwnProperty("participant_count")&&(this.participantCount=parseInt(e.participant_count)),e.hasOwnProperty("operators")&&Array.isArray(e.operators)&&(this.operators=e.operators.map(function(e){return new n(e)}))}},{key:"parse",value:function(e){this._update(e)}},{key:"update",value:function(e){this.__update(e),this._update(e)}},{key:"createParticipantListQuery",value:function(){return new(0,F.get(this._iid).ParticipantListQuery)({channelUrl:this.url})}},{key:"createMutedUserListQuery",value:function(){return new(0,F.get(this._iid).MutedUserListQuery)({channelUrl:this.url,isOpenChannel:!0})}},{key:"createBannedUserListQuery",value:function(){return new(0,F.get(this._iid).BannedUserListQuery)({channelUrl:this.url,isOpenChannel:!0})}},{key:"isOperator",value:function(e){return!!e&&this.isOperatorWithUserId(e.userId)}},{key:"isOperatorWithUserId",value:function(e){return this.operators.map(function(e){return e.userId}).indexOf(e)>-1}},{key:"refresh",value:function(e){return F.get(this._iid).OpenChannel.getChannelWithoutCache(this.url,e)}},{key:"enter",value:function(e){var n=this;return ye(this._iid,function(e){var t=F.get(n._iid).Command.bEnter({channelUrl:n.url}),r=$n.getInstance(n._iid);r.sendCommand(t,function(t,i){if(r.getErrorFirstCallback()){var a=[t,i];i=a[0],t=a[1]}i?(i=i?new w(i.message,i.code):null,e(i,null)):(F.get(n._iid).OpenChannel.enteredChannels[n.url]=n,n.refresh(function(){return e(null,null)}))})},e)}},{key:"exit",value:function(e){var n=this;return ye(this._iid,function(e){var t=F.get(n._iid),r=t.Command,i=t.FileMessageQueue,a=r.bExit({channelUrl:n.url}),s=$n.getInstance(n._iid);s.sendCommand(a,function(t,r){if(s.getErrorFirstCallback()){var a=[t,r];r=a[0],t=a[1]}r?(r=r?new w(r.message,r.code):null,e(r,null)):(delete F.get(n._iid).OpenChannel.enteredChannels[n.url],i.delete(n.url),e(null,null))})},e)}},{key:"updateChannel",value:function(){var e=this,n=ie.toArray(arguments),t=null;"function"==typeof n[n.length-1]&&(t=n.pop());var r=F.get(this._iid),i=r.OpenChannel,a=r.OpenChannelParams;if(n[0]instanceof a&&1===n.length)return ye(this._iid,function(t){var r=n[0];r.channelUrl=e.url,r._validate()?P.get(e._iid).container.apiClient.updateOpenChannel(r,function(e,n){var r=null;e||(r=i.upsert(n)),t(e,r)}):t(ie.error,null)},t);if(3===n.length){var s=new a;return s.channelUrl=this.url,s.name=n[0],s.coverUrlOrImage=n[1],s.data=n[2],s.operatorUserIds=this.operators.map(function(e){return e.userId}),this.updateChannel(s,t)}if(4===n.length){var o=new a;return o.channelUrl=this.url,o.name=n[0],o.coverUrlOrImage=n[1],o.data=n[2],Array.isArray(n[3])&&(o.operatorUserIds=n[3]),this.updateChannel(o,t)}if(5===n.length){var l=new a;return l.channelUrl=this.url,l.name=n[0],l.coverUrlOrImage=n[1],l.data=n[2],Array.isArray(n[3])&&(l.operatorUserIds=n[3]),l.customType=n[4],this.updateChannel(l,t)}return ye(this._iid,function(e){return e(ie.error,null)},t)}},{key:"updateChannelWithOperatorUserIds",value:function(){var e=ie.toArray(arguments),n=void 0;switch("function"==typeof e[e.length-1]&&(n=e.pop()),e.length){case 4:case 5:return this.updateChannel.apply(this,N(e).concat([n]));default:return ye(this._iid,function(e){return e(ie.error,null)},n)}}},{key:"muteUser",value:function(e,n,t,r){return this.muteUserWithUserId(e?e.userId:null,n,t,r)}},{key:"muteUserWithUserId",value:function(e,n,t,r){var i,a=this,s=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new ie({type:"string",optional:!0,defaultValue:""}),new ie({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],ye(this._iid,function(r){i?r(i,null):P.get(a._iid).container.apiClient.muteUser({channelUrl:a.url,userId:e,description:t,seconds:n,isGroupChannel:!1},function(e,n){r(e,null)})},r)}},{key:"unmuteUser",value:function(e,n){return this.unmuteUserWithUserId(e?e.userId:null,n)}},{key:"unmuteUserWithUserId",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.unmuteUser({channelUrl:r.url,userId:e,isGroupChannel:!1},function(e,t){n(e,null)})},n)}},{key:"banUser",value:function(e,n,t){return this.banUserWithUserId(e?e.userId:null,n,t)}},{key:"banUserWithUserId",value:function(e,n,t){var r,i=this,a=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return e>=-1}}),new ie({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.banUser({channelUrl:i.url,userId:e,description:null,seconds:n,isGroupChannel:!1},function(e,n){t(e,null)})},t)}},{key:"unbanUser",value:function(e,n){return this.unbanUserWithUserId(e?e.userId:null,n)}},{key:"unbanUserWithUserId",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.unbanUser({channelUrl:r.url,userId:e,isGroupChannel:!1},function(e,t){n(e,null)})},n)}},{key:"setLatestParticipantCount",value:function(e,n){var t=!1;return"number"==typeof e&&"number"==typeof n&&n>=ze.get(this)&&(ze.set(this,n),t=e!==this.participantCount,this.participantCount=e),t}},{key:"delete",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.deleteOpenChannel({channelUrl:n.url},function(t,r){t||(delete F.get(n._iid).OpenChannel.cachedChannels[n.url],F.get(n._iid).FileMessageQueue.delete(n.url)),e(t,r)})},e)}}],[{key:"cachedChannels",get:function(){return xe[this._iid]||(xe[this._iid]={}),xe[this._iid]}},{key:"enteredChannels",get:function(){return qe[this._iid]||(qe[this._iid]={}),qe[this._iid]}},{key:"buildFromSerializedData",value:function(e){var n=F.get(this._iid),t=n.User,r=n.OpenChannel,i=ge.deserialize(e);return new r({channel_url:i.url,name:i.name,cover_url:i.coverUrl,data:i.data,custom_type:i.customType,created_at:i.createdAt/1e3,freeze:i.isFrozen,is_ephemeral:i.isEphemeral,participant_count:i.participantCount,operators:i.operators.map(function(e){return t.objectify(e)})})}},{key:"getChannel",value:function(e,n){var t,r,i=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"string",optional:!0,nullable:!0,defaultValue:null}),new ie({type:"callback"})]),4);if(t=i[0],e=i[1],r=i[2],n=i[3],t)return ye(this._iid,function(e){e(t,null)},n);var a=F.get(this._iid).OpenChannel;return a.cachedChannels[e]?ye(this._iid,function(n){n(null,a.cachedChannels[e])},n):a.getChannelWithoutCache(e,r,n)}},{key:"getChannelWithoutCache",value:function(e,n){var t,r,i=this,a=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"string",optional:!0,nullable:!0,defaultValue:null}),new ie({type:"callback"})]),4);return t=a[0],e=a[1],r=a[2],n=a[3],ye(this._iid,function(n){t?n(t,null):P.get(i._iid).container.apiClient.getOpenChannel({channelUrl:e,internalCall:r},function(e,t){var r=null;e||(r=F.get(i._iid).OpenChannel.upsert(t)),n(e,r)})},n)}},{key:"createChannel",value:function(){var e=this,n=ie.toArray(arguments),t=null;"function"==typeof n[n.length-1]&&(t=n.pop());var r=F.get(this._iid),i=r.OpenChannel,a=r.OpenChannelParams;if(n[0]instanceof a&&1===n.length)return ye(this._iid,function(t){var r=n[0];r._validate()?P.get(e._iid).container.apiClient.createOpenChannel(r,function(n,r){var i=null;n||(i=F.get(e._iid).OpenChannel.upsert(r)),t(n,i)}):t(ie.error,null)},t);var s=new a;switch(n.length){case 0:break;case 1:s.name=n[0];break;case 2:s.name=n[0],s.coverUrlOrImage=n[1];break;case 3:s.name=n[0],s.coverUrlOrImage=n[1],s.data=n[2];break;case 4:s.name=n[0],s.coverUrlOrImage=n[1],s.data=n[2],s.operatorUserIds=n[3];break;case 5:s.name=n[0],s.coverUrlOrImage=n[1],s.data=n[2],s.operatorUserIds=n[3],s.customType=n[4];break;default:return ye(this._iid,function(e){return e(ie.error,null)},t)}return t?i.createChannel(s,t):i.createChannel(s)}},{key:"createChannelWithOperatorUserIds",value:function(){var e=ie.toArray(arguments),n=void 0;switch("function"==typeof e[e.length-1]&&(n=e.pop()),e.length){case 4:case 5:return this.createChannel.apply(this,N(e).concat([n]));default:return ye(this._iid,function(e){return e(ie.error,null)},n)}}},{key:"upsert",value:function(e){var n=new(0,F.get(this._iid).OpenChannel)(e);return this.cachedChannels.hasOwnProperty(n.url)?this.cachedChannels[n.url].update(e):this.cachedChannels[n.url]=n,this.cachedChannels[n.url]}},{key:"removeCachedChannel",value:function(e){this.cachedChannels[e]&&delete this.cachedChannels[e],F.get(this._iid).FileMessageQueue.delete(e)}},{key:"clearCache",value:function(){xe[this._iid]={},F.get(this._iid).FileMessageQueue.clear()}},{key:"clearEnteredChannels",value:function(){qe[this._iid]={}}},{key:"createOpenChannelListQuery",value:function(){return new(0,F.get(this._iid).OpenChannelListQuery)}}]),t}(),Ye=function(e){_(t,ve);var n=A(t);function t(e){var r;return p(this,t),(r=n.call(this,e)).messageType=ve.MESSAGE_TYPE_USER,r.message=null,r._sender=null,r.reqId="",r.translations={},r.requestState=null,r.requestedMentionUserIds=[],r.errorCode=0,r.messageSurvivalSeconds=-1,r.plugins=[],e&&r._update(e),r}return g(t,[{key:"_update",value:function(e){var n=$n.getInstance(this._iid),t=F.get(this._iid),r=t.Sender,i=t.Plugin;this.message=String(e.message),this._sender=new r(e.user),this.reqId=e.hasOwnProperty("req_id")?String(e.req_id):"",this.translations=e.hasOwnProperty("translations")?e.translations:{},this.requestState=this.messageId>0?n.MessageRequestState.SUCCEEDED:n.MessageRequestState.FAILED,e.hasOwnProperty("sending_status")&&(this.requestState=e.sending_status,this.requestState===n.MessageSendingStatus.CANCELED&&(this.requestState=n.MessageRequestState.FAILED)),this.requestedMentionUserIds=[],e.hasOwnProperty("requested_mention_user_ids")&&(this.requestedMentionUserIds=e.requested_mention_user_ids),this.errorCode=0,e.hasOwnProperty("error_code")&&(this.errorCode=e.error_code),this.messageSurvivalSeconds=-1,e.hasOwnProperty("message_survival_seconds")&&(this.messageSurvivalSeconds=e.message_survival_seconds),this.plugins=[],e.hasOwnProperty("plugins")&&Array.isArray(e.plugins)&&(this.plugins=e.plugins.map(function(e){return new i(e)}))}},{key:"sender",get:function(){var e=$n.getInstance(this._iid),n=F.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var t=n.cachedChannels[this.channelUrl];if(t){var r=t.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),$.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"isResendable",value:function(){var e=$n.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.FAILED&&$.isResendableError(this.errorCode)}}],[{key:"objectify",value:function(e){var n=$n.getInstance(this._iid),t=F.get(this._iid),r=t.BaseChannel,i=t.BaseMessageParams,a=t.Sender,s=t.User,o=t.ThreadInfo,l=t.OGMetaData,u=t.Plugin,c=e.messageId,d=e.reqId,h=void 0===d?"":d,p=e.user,f=e.channel,g=e.message,y=e.data,_=void 0===y?"":y,m=e.customType,v=void 0===m?"":m,C=e.mentionType,E=void 0===C?i.MentionType.USERS:C,U=e.mentionedUsers,b=void 0===U?[]:U,A=e.mentionedUserIds,S=void 0===A?[]:A,I=e.requestedMentionUserIds,N=void 0===I?[]:I,k=e.reactions,R=void 0===k?[]:k,O=e.metaArrays,T=void 0===O?[]:O,M=e.rootMessageId,L=void 0===M?0:M,P=e.parentMessageId,w=void 0===P?0:P,D=e.parentMessageText,H=void 0===D?"":D,G=e.threadInfo,B=void 0===G?null:G,j=e.translations,x=void 0===j?{}:j,q=e.sendingStatus,z=e.errorCode,Q=void 0===z?0:z,Y=e.silent,K=void 0!==Y&&Y,W=e.isGlobalBlocked,V=void 0!==W&&W,J=e.messageSurvivalSeconds,X=void 0===J?-1:J,Z=e.ogMetaData,$=void 0===Z?null:Z,ee=e.isOperatorMessage,ne=void 0!==ee&&ee,te=e.plugins,re=void 0===te?[]:te,ie=e.appleCriticalAlertOptions,ae=e.createdAt,se=e.updatedAt,oe=void 0===se?0:se,le={};for(var ue in le.req_id=h,le.msg_id=c,le.user=a.objectify({user:p,role:n.currentUser&&n.currentUser.userId===p.userId?f.myRole:p.role,isBlockedByMe:p.isBlockedByMe}),le.channel_url=f.url,le.channel_type=f.channelType===r.CHANNEL_TYPE_OPEN?r.CHANNEL_TYPE_OPEN:r.CHANNEL_TYPE_GROUP,le.message=g,le.data=_,le.custom_type=v,le.translations=x,le.is_global_block=!!V,le.ts=ae,le.updated_at=oe,le.mention_type=E,le.mentioned_users=b.map(function(e){return s.objectify(e)}),le.mentioned_user_ids=S,le.requested_mention_user_ids=N,le.reactions=R.map(function(e){return e.serialize()}),le.metaarray={},T){var ce=T[ue].key;le.metaarray[ce]=T[ue].value}return le.metaarray_key_order=T.map(function(e){return e.key}),le.root_message_id=L,le.parent_message_id=w,le.parent_message_text=H,B&&(le.thread_info=o.objectify(B)),le.sending_status=c>0?n.MessageSendingStatus.SUCCEEDED:n.MessageSendingStatus.FAILED,q&&(le.sending_status=q),le.silent=!!K,le.error_code=Q,le.message_survival_seconds=X,$&&(le.og_tag=l.objectify($)),le.is_op_msg=!!ne,le.plugins=re.map(function(e){return u.objectify(e)}),ie&&(le.apple_critical_alert_options=ie.serialize()),le}},{key:"build",value:function(e,n,t,r,i,a,s,o,l,u,c,d,h,p,f,g,y,_,m,v,C,E,U,b,A,S,I,N){return this.objectify({messageId:n,reqId:e,user:t,channel:r,message:i,data:a,customType:s,mentionType:p,mentionedUsers:f,mentionedUserIds:v,requestedMentionUserIds:E,reactions:h,metaArrays:d,rootMessageId:g,parentMessageId:y,parentMessageText:_,threadInfo:m,translations:o,sendingStatus:C,errorCode:U,isGlobalBlocked:l,messageSurvivalSeconds:b,ogMetaData:A,isOperatorMessage:S,plugins:I,appleCriticalAlertOptions:N,createdAt:u,updatedAt:c})}},{key:"buildFromSerializedData",value:function(e){var n=F.get(this._iid).UserMessage,t=ge.deserialize(e);return new n(n.objectify(d(d({},t),{},{channel:{url:t.channelUrl,channelType:t.channelType},user:t.sender})))}}]),t}(),Ke=function(e){_(t,ve);var n=A(t);function t(e){var r;return p(this,t),(r=n.call(this,e)).messageType=ve.MESSAGE_TYPE_FILE,r.plainUrl=null,r.name="File",r.size=0,r.type=null,r.thumbnails=[],r._sender=null,r.reqId="",r.requireAuth=null,r.requestState=null,r.requestedMentionUserIds=[],r.errorCode=0,r.messageSurvivalSeconds=-1,e&&r._update(e),r}return g(t,[{key:"_update",value:function(e){var n=$n.getInstance(this._iid),t=P.get(this._iid).container.auth,r=F.get(this._iid).Sender;if(this._sender=new r(e.user),this.requireAuth=!!e.hasOwnProperty("require_auth")&&e.require_auth,this.plainUrl=String(e.url).split("?auth=")[0],Object.defineProperty(this,"url",{value:this.requireAuth?"".concat(this.plainUrl,"?auth=").concat(t.eKey):this.plainUrl,configurable:!0,writable:!1}),this.name=e.hasOwnProperty("name")?e.name:"File",this.size=parseInt(e.size)||0,this.type=String(e.type),e.hasOwnProperty("custom")&&(this.data=String(e.custom)),this.reqId=e.hasOwnProperty("req_id")?String(e.req_id):"",this.thumbnails=e.hasOwnProperty("thumbnails")?e.thumbnails:[],this.requireAuth)for(var i in this.thumbnails)this.thumbnails[i].plainUrl=String(this.thumbnails[i].url).split("?auth=")[0],this.thumbnails[i].url=this.requireAuth?"".concat(this.thumbnails[i].plainUrl,"?auth=").concat(t.eKey):this.thumbnails[i].plainUrl;this.requestState=this.messageId>0?n.MessageRequestState.SUCCEEDED:n.MessageRequestState.FAILED,e.hasOwnProperty("sending_status")&&(this.requestState=e.sending_status,this.requestState===n.MessageSendingStatus.CANCELED&&(this.requestState=n.MessageRequestState.FAILED)),this.requestedMentionUserIds=[],e.hasOwnProperty("requested_mention_user_ids")&&(this.requestedMentionUserIds=e.requested_mention_user_ids),this.errorCode=0,e.hasOwnProperty("error_code")&&(this.errorCode=e.error_code),this.messageSurvivalSeconds=-1,e.hasOwnProperty("message_survival_seconds")&&(this.messageSurvivalSeconds=e.message_survival_seconds)}},{key:"sender",get:function(){var e=$n.getInstance(this._iid),n=F.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var t=n.cachedChannels[this.channelUrl];if(t){var r=t.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),$.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"isResendable",value:function(){var e=$n.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.FAILED&&$.isResendableError(this.errorCode)}}],[{key:"objectify",value:function(e){var n=$n.getInstance(this._iid),t=F.get(this._iid),r=t.BaseChannel,i=t.BaseMessageParams,a=t.Sender,s=t.User,o=t.ThreadInfo,l=t.OGMetaData,u=e.messageId,c=e.reqId,d=void 0===c?"":c,h=e.user,p=void 0===h?{}:h,f=e.channel,g=e.plainUrl,y=e.name,_=e.type,m=e.size,v=void 0===m?0:m,C=e.data,E=void 0===C?"":C,U=e.customType,b=void 0===U?"":U,A=e.mentionType,S=void 0===A?i.MentionType.USERS:A,I=e.mentionedUsers,N=void 0===I?[]:I,k=e.mentionedUserIds,R=void 0===k?[]:k,O=e.requestedMentionUserIds,T=void 0===O?[]:O,M=e.reactions,L=void 0===M?[]:M,P=e.metaArrays,w=void 0===P?[]:P,D=e.rootMessageId,H=void 0===D?0:D,G=e.parentMessageId,B=void 0===G?0:G,j=e.parentMessageText,x=void 0===j?"":j,q=e.threadInfo,z=void 0===q?null:q,Q=e.thumbnails,Y=void 0===Q?[]:Q,K=e.requireAuth,W=void 0!==K&&K,V=e.sendingStatus,J=e.errorCode,X=void 0===J?0:J,Z=e.silent,$=void 0!==Z&&Z,ee=e.isGlobalBlocked,ne=void 0!==ee&&ee,te=e.messageSurvivalSeconds,re=void 0===te?-1:te,ie=e.ogMetaData,ae=void 0===ie?null:ie,se=e.isOperatorMessage,oe=void 0!==se&&se,le=e.appleCriticalAlertOptions,ue=e.createdAt,ce=e.updatedAt,de=void 0===ce?0:ce,he={};he.req_id=d,he.msg_id=u,he.user=a.objectify({user:p,role:n.currentUser&&n.currentUser.userId===p.userId?f.myRole:p.role,isBlockedByMe:p.isBlockedByMe}),he.channel_url=f.url,he.channel_type=f.channelType===r.CHANNEL_TYPE_OPEN?r.CHANNEL_TYPE_OPEN:r.CHANNEL_TYPE_GROUP,he.url=g,he.name=y,he.type=_,he.size=v,he.custom=E,he.custom_type=b,he.thumbnails=Y,he.require_auth=W,he.is_global_block=!!ne,he.ts=ue,he.updated_at=de,he.mention_type=S,he.mentioned_users=N.map(function(e){return s.objectify(e)}),he.mentioned_user_ids=R,he.requested_mention_user_ids=T,he.reactions=L.map(function(e){return e.serialize()}),he.metaarray={};for(var pe=0;pe<w.length;pe++){var fe=w[pe].key;he.metaarray[fe]=w[pe].value}return he.metaarray_key_order=w.map(function(e){return e.key}),he.root_message_id=H,he.parent_message_id=B,he.parent_message_text=x,z&&(he.thread_info=o.objectify(z)),he.sending_status=u>0?n.MessageSendingStatus.SUCCEEDED:n.MessageSendingStatus.FAILED,V&&(he.sending_status=V),he.silent=!!$,he.error_code=X,he.message_survival_seconds=re,ae&&(he.og_tag=l.objectify(ae)),he.is_op_msg=!!oe,le&&(he.apple_critical_alert_options=le.serialize()),he}},{key:"build",value:function(e,n,t,r,i,a,s,o,l,u,c,d,h,p,f,g,y,_,m,v,C,E,U,b,A,S,I,N,k,R,O){return this.objectify({messageId:n,reqId:e,user:t,channel:r,plainUrl:i,name:a,type:s,size:o,data:l,customType:u,mentionType:_,mentionedUsers:m,mentionedUserIds:b,requestedMentionUserIds:S,reactions:y,metaArrays:g,rootMessageId:v,parentMessageId:C,parentMessageText:E,threadInfo:U,thumbnails:h,requireAuth:p,sendingStatus:A,errorCode:I,isGlobalBlocked:c,messageSurvivalSeconds:N,ogMetaData:k,isOperatorMessage:R,appleCriticalAlertOptions:O,createdAt:d,updatedAt:f})}},{key:"buildFromSerializedData",value:function(e){var n=F.get(this._iid).FileMessage,t=ge.deserialize(e);return new n(n.objectify(d(d({},t),{},{channel:{url:t.channelUrl,channelType:t.channelType},user:t.sender})))}}]),t}(),We=function(e){_(t,ve);var n=A(t);function t(e){var r;return p(this,t),(r=n.call(this,e)).messageType=ve.MESSAGE_TYPE_ADMIN,r.message="",r.translations={},e&&r._update(e),r}return g(t,[{key:"_update",value:function(e){this.message=String(e.message),this.translations=e.hasOwnProperty("translations")?e.translations:{}}}],[{key:"objectify",value:function(e){var n=F.get(this._iid),t=n.BaseChannel,r=n.BaseMessageParams,i=n.User,a=n.ThreadInfo,s=n.OGMetaData,o=e.messageId,l=e.channel,u=e.message,c=e.data,d=void 0===c?"":c,h=e.customType,p=void 0===h?"":h,f=e.mentionType,g=void 0===f?r.MentionType.USERS:f,y=e.mentionedUsers,_=void 0===y?[]:y,m=e.reactions,v=void 0===m?[]:m,C=e.metaArrays,E=void 0===C?[]:C,U=e.rootMessageId,b=void 0===U?0:U,A=e.parentMessageId,S=void 0===A?0:A,I=e.parentMessageText,N=void 0===I?"":I,k=e.threadInfo,R=void 0===k?null:k,O=e.translations,T=void 0===O?{}:O,M=e.silent,L=void 0!==M&&M,P=e.ogMetaData,w=void 0===P?null:P,D=e.createdAt,H=e.updatedAt,G=void 0===H?0:H,B={msg_id:o,channel_url:l.url,channel_type:l.channelType===t.CHANNEL_TYPE_OPEN?t.CHANNEL_TYPE_OPEN:t.CHANNEL_TYPE_GROUP,message:u,data:d,custom_type:p,silent:L,ts:D,updated_at:G};B.translations=T,B.mention_type=g,B.mentioned_users=_.map(function(e){return i.objectify(e)}),B.reactions=v.map(function(e){return e.serialize()}),B.metaarray={};for(var j=0;j<E.length;j++){var x=E[j].key;B.metaarray[x]=E[j].value}return B.metaarray_key_order=E.map(function(e){return e.key}),B.root_message_id=b,B.parent_message_id=S,B.parent_message_text=N,R&&(B.thread_info=a.objectify(R)),w&&(B.og_tag=s.objectify(w)),B}},{key:"build",value:function(e,n,t,r,i,a,s,o,l,u,c,d,h,p,f,g,y){return this.objectify({messageId:e,channel:n,message:t,data:r,customType:i,mentionType:c,mentionedUsers:d,reactions:u,metaArrays:l,rootMessageId:h,parentMessageId:p,parentMessageText:f,threadInfo:g,translations:a,ogMetaData:y,createdAt:s,updatedAt:o})}},{key:"buildFromSerializedData",value:function(e){var n=F.get(this._iid).AdminMessage,t=ge.deserialize(e);return new n(n.objectify(d(d({},t),{},{channel:{url:t.channelUrl,channelType:t.channelType}})))}}]),t}(),Ve=function(){function e(n){p(this,e);var t=F.get(this._iid),r=t.BaseMessage,i=t.BaseMessageParams;this.scheduledId=0,this.scheduledDateTimeString="",this.scheduledTimezone="",this.status=e.Status.SCHEDULED,this.createdAt=0,this.updatedAt=0,this._messageType=r.MESSAGE_TYPE_BASE,this._sender=null,this._channelType="",this.channelUrl="",this.message="",this.customType="",this.data="",this.metaArrays=[],this.mentionType=i.MentionType.USERS,this.mentionedUsers=[],this.pushNotificationDeliveryOption=i.PushNotificationDeliveryOption.DEFAULT,this.translationTargetLanguages=[],this.errorMessage="",this.errorCode=0,this.appleCriticalAlertOptions=null,n&&this._update(n)}return g(e,[{key:"sender",get:function(){var e=$n.getInstance(this._iid),n=F.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var t=n.cachedChannels[this.channelUrl];if(t){var r=t.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),$.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"_update",value:function(n){var t=this,r=F.get(this._iid),i=r.User,a=r.Sender,s=r.BaseMessageParams,o=r.MessageMetaArray,l=r.AppleCriticalAlertOptions;this.scheduledId=n.hasOwnProperty("scheduled_id")?parseInt(n.scheduled_id):0,this.scheduledDateTimeString=n.hasOwnProperty("scheduled_dt")?String(n.scheduled_dt):"",this.scheduledTimezone=n.hasOwnProperty("scheduled_timezone")?String(n.scheduled_timezone):"",this.status=n.hasOwnProperty("status")?String(n.status):"",this.createdAt=n.hasOwnProperty("created_at")?parseInt(n.created_at):0,this.updatedAt=n.hasOwnProperty("updated_at")?parseInt(n.updated_at):0,this.channelUrl=n.hasOwnProperty("channel_url")?String(n.channel_url):"",this._channelType=n.hasOwnProperty("channel_type")?String(n.channel_type):"",this._messageType=n.hasOwnProperty("type")?String(n.type):"",this._sender=n.hasOwnProperty("user")?new a(n.user):null,this.message=n.hasOwnProperty("message")?String(n.message):"",this.customType=n.hasOwnProperty("custom_type")?String(n.custom_type):"",this.data=n.hasOwnProperty("data")?String(n.data):"";var u=n.hasOwnProperty("metaarray")?n.metaarray:{},c=n.hasOwnProperty("metaarray_key_order")?n.metaarray_key_order:Object.keys(u).sort(function(e,n){return e.localeCompare(n)});this.metaArrays=[];for(var d=0;d<c.length;d++){var h=c[d];this.metaArrays.push(new o(h,u[h]||[]))}this.mentionType=n.hasOwnProperty("mention_type")?n.mention_type:s.MentionType.USERS,this.mentionedUsers=[],n.hasOwnProperty("mentioned_users")&&n.mentioned_users.forEach(function(e){var n=new i(e);t.mentionedUsers.push(n)}),this.pushNotificationDeliveryOption=n.hasOwnProperty("push_option")?n.push_option:s.PushNotificationDeliveryOption.DEFAULT,this.translationTargetLanguages=n.hasOwnProperty("translation_target_langs")?n.translation_target_langs:[],this.status===e.Status.FAILED&&(n.hasOwnProperty("error")&&n.error.hasOwnProperty("message")&&(this.errorMessage=String(n.error.message)),n.hasOwnProperty("error")&&n.error.hasOwnProperty("code")&&(this.errorCode=parseInt(n.error.code))),n.hasOwnProperty("apple_critical_alert_options")&&(this.appleCriticalAlertOptions=new l(n.apple_critical_alert_options))}},{key:"isOpenChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this._channelType===e.CHANNEL_TYPE_OPEN}},{key:"isGroupChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this._channelType===e.CHANNEL_TYPE_GROUP}},{key:"metaArray",get:function(){var e={};return this.metaArrays.forEach(function(n){e[n.key]=n.value}),e},set:function(e){if("object"===h(e)&&e){var n=F.get(this._iid).MessageMetaArray,t=[];for(var r in e)t.push(new n(r,e[r]));this.metaArrays=t}}}],[{key:"Status",get:function(){return{SCHEDULED:"scheduled",SENT:"sent",CANCELED:"canceled",FAILED:"failed"}}}]),e}(),Je=function(){function e(){p(this,e),this.threadInfo=null,this.targetMessageId=0,this.channelUrl=null,this.channelType=null}return g(e,null,[{key:"createFromJson",value:function(e){var n=F.get(this._iid),t=n.BaseChannel,r=n.ThreadInfo,i=e.thread_info,a=e.root_message_id,s=e.channel_url,o=e.channel_type;if(i&&"object"===h(i)&&("string"==typeof a||"number"==typeof a)&&"string"==typeof s&&"string"==typeof o&&[t.CHANNEL_TYPE_GROUP].includes(o)){var l=new this;return l.threadInfo=new r(i),l.targetMessageId=parseInt(a),l.channelUrl=s,l.channelType=o,l}return null}}]),e}(),Xe=function(){function e(){p(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIdsFilter=[],this.metaDataKeyFilter="",this.metaDataValuesFilter=[],this.nicknameStartsWithFilter=null,this._token=""}return g(e,[{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){"number"==typeof n.limit&&n.limit>0&&Array.isArray(n.userIdsFilter)&&"string"==typeof n.metaDataKeyFilter&&Array.isArray(n.metaDataValuesFilter)&&!!n.metaDataKeyFilter==n.metaDataValuesFilter.length>0&&("string"==typeof n.nicknameStartsWithFilter||null===n.nicknameStartsWithFilter)?n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,P.get(n._iid).container.apiClient.loadUserList(d(d({},n),{},{token:n._token}),function(t,r){var i=null;if(!t){var a=F.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.users.map(function(e){return new a(e)})}n.isLoading=!1,e(t,i)})):e(null,[]):e(ie.error,null)},e)}}]),e}(),Ze=function(){function e(n){p(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._isOpenChannel=!1,this._channelUrl=null,this._token="",n.channelUrl&&(this._channelUrl=n.channelUrl),n.isOpenChannel&&(this._isOpenChannel=n.isOpenChannel)}return g(e,[{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){"number"==typeof n.limit&&n.limit>0?n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,P.get(n._iid).container.apiClient.loadBannedUserList(d(d({},n),{},{channelUrl:n._channelUrl,isOpenChannel:n._isOpenChannel,token:n._token}),function(t,r){var i=null;if(!t){var a=F.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.banned_list.map(function(e){return new a(e.user)})}n.isLoading=!1,e(t,i)})):e(null,[]):e(ie.error,null)},e)}}]),e}(),$e=function(){function e(){p(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIdsFilter=[],this._token=""}return g(e,[{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){"number"==typeof n.limit&&n.limit>0&&Array.isArray(n.userIdsFilter)?n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,P.get(n._iid).container.apiClient.loadBlockedUserList(d(d({},n),{},{token:n._token}),function(t,r){var i=null;if(!t){var a=F.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.users.map(function(e){return new a(e)})}n.isLoading=!1,e(t,i)})):e(null,[]):e(ie.error,null)},e)}}]),e}(),en=function(){function e(){p(this,e),this.isLoading=!1,this.hasMore=!0,this.limit=20,this._token=""}return g(e,[{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){"number"==typeof n.limit&&n.limit>0?n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasMore?(n.isLoading=!0,P.get(n._iid).container.apiClient.loadFriendList(d(d({},n),{},{token:n._token}),function(t,r){var i=null;if(!t){var a=F.get(n._iid).User,s=String(r.next);n._token=s,n.hasMore=!!s,i=r.users.map(function(e){return new a(e)})}n.isLoading=!1,e(t,i)})):e(null,[]):e(ie.error,null)},e)}}]),e}(),nn=function(){function e(){p(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.includeEmpty=!1,this.order=e.ORDER_LATEST_LAST_MESSAGE,this._token="",this._searchFilter={},this._userIdsFilter={userIds:[],includeMode:!0,queryType:e.QueryType.AND},this._userIdsExactFilter=[],this._userIdsIncludeFilter=[],this._userIdsIncludeFilterQueryType=e.QueryType.AND,this.nicknameContainsFilter="",this.channelNameContainsFilter="",this.memberStateFilter=De.MemberStateFilter.ALL,this.customTypesFilter=[],this.channelUrlsFilter=[],this.superChannelFilter=De.SuperChannelFilter.ALL,this.publicChannelFilter=De.PublicChannelFilter.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=De.UnreadChannelFilter.ALL,this.metadataOrderKeyFilter=null,this.hiddenChannelFilter=De.HiddenChannelFilter.UNHIDDEN,this.includeFrozen=!0,this.includeMetaData=!0}return g(e,[{key:"userIdsExactFilter",get:function(){return this._userIdsExactFilter},set:function(e){Array.isArray(e)&&(this._userIdsExactFilter=e,this._userIdsIncludeFilter=[],this._userIdsFilter.userIds=this._userIdsExactFilter,this._userIdsFilter.includeMode=!1)}},{key:"userIdsIncludeFilter",get:function(){return this._userIdsIncludeFilter},set:function(e){Array.isArray(e)&&(this._userIdsIncludeFilter=e,this._userIdsExactFilter=[],this._userIdsFilter.userIds=this._userIdsIncludeFilter,this._userIdsFilter.includeMode=!0)}},{key:"userIdsIncludeFilterQueryType",get:function(){return this._userIdsIncludeFilterQueryType},set:function(n){Object.keys(e.QueryType).map(function(n){return e.QueryType[n]}).indexOf(n)>-1&&(this._userIdsIncludeFilterQueryType=n.toUpperCase(),this._userIdsFilter.queryType=this._userIdsIncludeFilterQueryType)}},{key:"setSearchFilter",value:function(e,n){Array.isArray(e)&&0!==e.length&&"string"==typeof n&&n&&(this._searchFilter={search_query:n,search_fields:e.join(",").toLocaleLowerCase()})}},{key:"serialize",value:function(){return ge.serialize(this,function(e){e.isLoading=!1})}},{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){var t=F.get(n._iid),r=t.GroupChannel,i=t.GroupChannelListQuery;!("number"==typeof n.limit&&n.limit>0&&"boolean"==typeof n.includeEmpty&&"string"==typeof n.order&&[i.ORDER_CHRONOLOGICAL,i.ORDER_LATEST_LAST_MESSAGE,i.CHANNEL_NAME_ALPHABETICAL,i.METADATA_VALUE_ALPHABETICAL].indexOf(n.order.toLowerCase())>-1&&Array.isArray(n._userIdsExactFilter)&&Array.isArray(n._userIdsIncludeFilter)&&Array.isArray(n.customTypesFilter)&&Array.isArray(n.channelUrlsFilter)&&Object.keys(i.QueryType).map(function(e){return i.QueryType[e]}).indexOf(n._userIdsIncludeFilterQueryType.toUpperCase())>-1&&Object.keys(r.MemberStateFilter).map(function(e){return r.MemberStateFilter[e]}).indexOf(n.memberStateFilter)>-1&&Object.keys(r.SuperChannelFilter).map(function(e){return r.SuperChannelFilter[e]}).indexOf(n.superChannelFilter)>-1&&Object.keys(r.PublicChannelFilter).map(function(e){return r.PublicChannelFilter[e]}).indexOf(n.publicChannelFilter)>-1&&Object.keys(r.UnreadChannelFilter).map(function(e){return r.UnreadChannelFilter[e]}).indexOf(n.unreadChannelFilter)>-1&&Object.keys(r.HiddenChannelFilter).map(function(e){return r.HiddenChannelFilter[e]}).indexOf(n.hiddenChannelFilter)>-1)||"string"!=typeof n.customTypeStartsWithFilter&&null!==n.customTypeStartsWithFilter||"string"!=typeof n.nicknameContainsFilter||"string"!=typeof n.channelNameContainsFilter||"string"!=typeof n.metadataOrderKeyFilter&&null!==n.metadataOrderKeyFilter||"boolean"!=typeof n.includeFrozen||"boolean"!=typeof n.includeMetaData?e(ie.error,null):n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,P.get(n._iid).container.apiClient.loadGroupChannelList(d(d({},n),{},{token:n._token,userIdsFilter:n._userIdsFilter,searchFilter:n._searchFilter}),function(t,r){var i=null;if(!t){var a=F.get(n._iid).GroupChannel,s=String(r.next);n._token=s,n.hasNext=!!s;var o=r.channels;o&&Array.isArray(o)?i=o.map(function(e){return"number"==typeof r.ts&&(e.ts=r.ts),a.upsert(e)}):t=new w("Failed at loading group channels.",w.MALFORMED_DATA)}n.isLoading=!1,e(t,i)})):e(null,[])},e)}}],[{key:"ORDER_LATEST_LAST_MESSAGE",get:function(){return"latest_last_message"}},{key:"ORDER_CHRONOLOGICAL",get:function(){return"chronological"}},{key:"CHANNEL_NAME_ALPHABETICAL",get:function(){return"channel_name_alphabetical"}},{key:"METADATA_VALUE_ALPHABETICAL",get:function(){return"metadata_value_alphabetical"}},{key:"QueryType",get:function(){return{AND:"AND",OR:"OR"}}},{key:"SearchField",get:function(){return{MEMBER_NICKNAME:"member_nickname",CHANNEL_NAME:"channel_name"}}},{key:"buildFromSerializedData",value:function(e){var n=F.get(this._iid).GroupChannel,t=ge.deserialize(e),r=n.createMyGroupChannelListQuery();for(var i in t)r.hasOwnProperty(i)&&(r[i]=t[i]);return r}}]),e}(),tn=function(){function e(n){p(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.mutedMemberFilter=e.MutedMemberFilter.ALL,this.memberStateFilter=De.MemberStateFilter.ALL,this.nicknameStartsWithFilter=null,this.order=e.Order.MEMBER_NICKNAME_ALPHABETICAL,this._token="",this._channelUrl=n}return g(e,[{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){var t=F.get(n._iid),r=t.GroupChannel,i=t.Member,a=t.MemberListQuery;"number"==typeof n.limit&&n.limit>0&&Object.keys(a.MutedMemberFilter).map(function(e){return a.MutedMemberFilter[e]}).indexOf(n.mutedMemberFilter)>-1&&Object.keys(r.MemberStateFilter).map(function(e){return r.MemberStateFilter[e]}).indexOf(n.memberStateFilter)>-1&&Object.keys(a.Order).map(function(e){return a.Order[e]}).indexOf(n.order)>-1&&("string"==typeof n.nicknameStartsWithFilter||null===n.nicknameStartsWithFilter)?n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,P.get(n._iid).container.apiClient.loadMemberList(d(d({},n),{},{channelUrl:n._channelUrl,token:n._token}),function(t,r){var a=null;if(!t){var s=String(r.next);n._token=s,n.hasNext=!!s,a=r.members.map(function(e){return new i(e)})}n.isLoading=!1,e(t,a)})):e(null,[]):e(ie.error,null)},e)}}],[{key:"MutedMemberFilter",get:function(){return{ALL:"all",MUTED:"muted",UNMUTED:"unmuted"}}},{key:"Order",get:function(){return{MEMBER_NICKNAME_ALPHABETICAL:"member_nickname_alphabetical",OPERATOR_THEN_MEMBER_ALPHABETICAL:"operator_then_member_alphabetical"}}}]),e}(),rn=function(){function e(n){p(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",n.channelUrl&&(this._channelUrl=n.channelUrl),n.isOpenChannel&&(this._isOpenChannel=n.isOpenChannel)}return g(e,[{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){"number"==typeof n.limit&&n.limit>0?n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,P.get(n._iid).container.apiClient.loadMutedUserList(d(d({},n),{},{channelUrl:n._channelUrl,isOpenChannel:n._isOpenChannel,token:n._token}),function(t,r){var i=null;if(!t){var a=F.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.muted_list.map(function(e){return new a(e)})}n.isLoading=!1,e(t,i)})):e(null,[]):e(ie.error,null)},e)}}]),e}(),an=function(){function e(){p(this,e),this.limit=20,this.isLoading=!1,this.hasNext=!0,this.nameKeyword=null,this.urlKeyword=null,this.customTypes=[],this.includeFrozen=!0,this.includeMetaData=!0}return g(e,[{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){!("number"==typeof n.limit&&n.limit>0&&Array.isArray(n.customTypes))||"string"!=typeof n.nameKeyword&&null!==n.nameKeyword||"string"!=typeof n.urlKeyword&&null!==n.urlKeyword||"boolean"!=typeof n.includeFrozen||"boolean"!=typeof n.includeMetaData?e(ie.error,null):n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,P.get(n._iid).container.apiClient.loadOpenChannelList(d(d({},n),{},{token:n._token}),function(t,r){var i=null;if(!t){var a=F.get(n._iid).OpenChannel,s=String(r.next);n._token=s,n.hasNext=!!s;var o=r.channels;o&&Array.isArray(o)?i=o.map(function(e){return"number"==typeof r.ts&&(e.ts=r.ts),a.upsert(e)}):t=new w("Failed at loading open channels.",w.MALFORMED_DATA)}n.isLoading=!1,e(t,i)})):e(null,[])},e)}}]),e}(),sn=new WeakMap,on=function(){function e(n){p(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",sn.set(this,n)}return g(e,[{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){if("number"==typeof n.limit&&n.limit>0)if(n.isLoading)e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null);else if(n.hasNext){n.isLoading=!0;var t=sn.get(n);P.get(n._iid).container.apiClient.loadOperatorList(d(d({},n),{},{token:n._token,channelUrl:t.url,isOpenChannel:t.isOpenChannel()}),function(t,r){var i=null;if(!t){var a=F.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.operators.map(function(e){return new a(e)})}n.isLoading=!1,e(t,i)})}else e(null,[]);else e(ie.error,null)},e)}}]),e}(),ln=new WeakMap,un=function(){function e(n){p(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",n&&ln.set(this,n.channelUrl)}return g(e,[{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){"number"==typeof n.limit&&n.limit>0?n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,P.get(n._iid).container.apiClient.loadParticipantList(d(d({},n),{},{channelUrl:ln.get(n),token:n._token}),function(t,r){var i=null;if(!t){var a=F.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.participants.map(function(e){return new a(e)})}n.isLoading=!1,e(t,i)})):e(null,[]):e(ie.error,null)},e)}}]),e}(),cn=new WeakMap,dn=function(){function e(n,t){var r=t.limit,i=void 0===r?20:r,a=t.reverse,s=void 0!==a&&a,o=t.exactMatch,l=void 0!==o&&o,u=t.channelUrl,c=void 0===u?"":u,d=t.channelCustomType,h=void 0===d?"":d,f=t.messageTimestampFrom,g=void 0===f?null:f,y=t.messageTimestampTo,_=void 0===y?null:y,m=t.order,v=void 0===m?"score":m,C=t.advancedQuery,E=void 0!==C&&C,U=t.targetFields,b=void 0===U?null:U;p(this,e),this.isLoading=!1,this.hasNext=!0,cn.set(this,{keyword:n,limit:i,reverse:s,exactMatch:l,channelUrl:c,channelCustomType:h,messageTimestampFrom:g,messageTimestampTo:_,order:v,advancedQuery:E,targetFields:b,previousToken:"",nextToken:""})}return g(e,[{key:"key",get:function(){return cn.get(this).keyword}},{key:"limit",get:function(){return cn.get(this).limit}},{key:"reverse",get:function(){return cn.get(this).reverse}},{key:"exactMatch",get:function(){return cn.get(this).exactMatch}},{key:"channelUrl",get:function(){return cn.get(this).channelUrl}},{key:"channelCustomType",get:function(){return cn.get(this).channelCustomType}},{key:"messageTimestampFrom",get:function(){return cn.get(this).messageTimestampFrom}},{key:"messageTimestampTo",get:function(){return cn.get(this).messageTimestampTo}},{key:"order",get:function(){return cn.get(this).order}},{key:"next",value:function(e){var n=this,t=F.get(this._iid),r=t.BaseChannel,i=t.GroupChannel,a=t.OpenChannel;return ye(this._iid,function(e){var t=cn.get(n),s=t.keyword,o=t.limit,l=t.reverse,u=t.exactMatch,c=t.channelUrl,d=t.channelCustomType,h=t.messageTimestampFrom,p=t.messageTimestampTo,f=t.order,g=t.advancedQuery,y=t.targetFields,_=t.nextToken;!("number"==typeof o&&o>0&&o<=1e3&&"boolean"==typeof l&&"boolean"==typeof u)||"string"!=typeof c&&null!==c||"string"!=typeof d&&null!==d||"number"!=typeof h&&null!==h||"number"!=typeof p&&null!==p||!(["score","ts"].indexOf(f)>=0)||"boolean"!=typeof g&&null!==g||!Array.isArray(y)&&null!==y?e(ie.error,null):n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,P.get(n._iid).container.apiClient.searchMessages({keyword:s,limit:o,reverse:l,exactMatch:u,channelUrl:c,channelCustomType:d,messageTimestampFrom:h,messageTimestampTo:p,order:f,advancedQuery:g,targetFields:y,nextToken:_},function(t,s){var o=null;if(!t){for(var l in o=[],s.results){var u=s.results[l];if(u.channel.hasOwnProperty("members")){var c=new i(u.channel);i.cachedChannels[c.url]=c,o.push(r.buildMessage(u,c))}else{var d=new a(u.channel);a.cachedChannels[d.url]=d,o.push(r.buildMessage(u,d))}}n.hasNext=s.has_next,cn.get(n).nextToken=s.end_cursor}n.isLoading=!1,e(t,o)})):e(null,[])},e)}}]),e}(),hn=new WeakMap,pn=new WeakMap,fn=function(){function e(n){p(this,e),this.isLoading=!1,this.hasMore=!0,this.limit=20,pn.set(this,Number.MAX_SAFE_INTEGER),hn.set(this,n),this.reverse=!1,this.messageTypeFilter=null,this.customTypeFilter=null,this.customTypesFilter=[],this.senderUserIdsFilter=[],this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=!1,this.includeReplies=!1,this.includeParentMessageText=!1,this.includeThreadInfo=!1,this.showSubchannelMessagesOnly=!1}return g(e,[{key:"load",value:function(e,n,t,r){var i=this,a=F.get(this._iid).BaseChannel,s=null,o=I(ie.parse(arguments,[new ie({type:"number",optional:!0,defaultValue:this.limit}),new ie({type:"boolean",optional:!0,defaultValue:this.reverse}),new ie({type:["string","number"],optional:!0,defaultValue:this.messageTypeFilter,constraint:function(e){return Object.keys(a.MessageTypeFilter).map(function(e){return a.MessageTypeFilter[e]}).indexOf(e)>-1||[0,1,2,3].indexOf(e)>-1}}),new ie({type:"callback"})]),5);return s=o[0],e=o[1],n=o[2],t=o[3],r=o[4],ye(this._iid,function(r){if(Array.isArray(i.customTypesFilter)&&!i.customTypesFilter.some(function(e){return"string"!=typeof e&&null!==e})&&Array.isArray(i.senderUserIdsFilter)&&!i.senderUserIdsFilter.some(function(e){return"string"!=typeof e})||(s=ie.error),s)r(s,null);else{if(i.limit=e,i.reverse=n,i.messageTypeFilter=t,"number"==typeof i.messageTypeFilter)switch(i.messageTypeFilter){case 0:i.messageTypeFilter=a.MessageTypeFilter.ALL;break;case 1:i.messageTypeFilter=a.MessageTypeFilter.USER;break;case 2:i.messageTypeFilter=a.MessageTypeFilter.FILE;break;case 3:i.messageTypeFilter=a.MessageTypeFilter.ADMIN}if(i.isLoading)r(new w("Query in progress.",w.QUERY_IN_PROGRESS),null);else if(i.hasMore){i.isLoading=!0;var o=hn.get(i),l=P.get(i._iid);"boolean"==typeof i.includeReaction&&i.includeReaction&&(i.includeReactions=i.includeReaction),l.container.apiClient.getMessageList({channel:o,token:pn.get(i)||(new Date).getTime()+1e4,tokenType:"timestamp",isInclusive:!1,prevResultSize:e,nextResultSize:0,shouldReverse:n,messageType:i.messageTypeFilter,customType:i.customTypeFilter,customTypes:i.customTypesFilter,senderUserIds:i.senderUserIdsFilter,includeMetaArray:i.includeMetaArray,includeReactions:i.includeReactions,includeReplies:i.includeReplies,includeParentMessageText:i.includeParentMessageText,includeThreadInfo:i.includeThreadInfo,showSubchannelMessagesOnly:i.showSubchannelMessagesOnly},function(n,t){var s=null;if(!n){(0===(s=t.messages.map(function(e){return a.buildMessage(e,o)})).length||s.length<e)&&(i.hasMore=!1);var l=pn.get(i);pn.set(i,Math.min.apply(Math,N(s.map(function(e){return e.createdAt})).concat([l])))}i.isLoading=!1,r(n,s)})}else r(null,[])}},r)}}]),e}(),gn=function(){function e(){p(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.includeEmpty=!1,this.order=nn.ORDER_LATEST_LAST_MESSAGE,this._token="",this.channelNameContainsFilter="",this.channelUrlsFilter=[],this.customTypesFilter=[],this.customTypeStartsWithFilter=null,this.superChannelFilter=De.SuperChannelFilter.ALL,this.membershipFilter=e.MembershipType.JOINED,this.metadataOrderKeyFilter=null,this.includeFrozen=!0,this.includeMetaData=!0}return g(e,[{key:"next",value:function(n){var t=this;return ye(this._iid,function(n){var r=F.get(t._iid).GroupChannel;!("number"==typeof t.limit&&t.limit>0&&"boolean"==typeof t.includeEmpty&&"string"==typeof t.order&&[e.ORDER_CHRONOLOGICAL,e.CHANNEL_NAME_ALPHABETICAL,e.METADATA_VALUE_ALPHABETICAL,e.ORDER_LATEST_LAST_MESSAGE].indexOf(t.order.toLowerCase())>-1&&Array.isArray(t.customTypesFilter)&&Array.isArray(t.channelUrlsFilter)&&Object.keys(e.MembershipType).map(function(n){return e.MembershipType[n]}).indexOf(t.membershipFilter)>-1&&Object.keys(r.SuperChannelFilter).map(function(e){return r.SuperChannelFilter[e]}).indexOf(t.superChannelFilter)>-1)||"string"!=typeof t.customTypeStartsWithFilter&&null!==t.customTypeStartsWithFilter||"string"!=typeof t.channelNameContainsFilter||"string"!=typeof t.metadataOrderKeyFilter&&null!==t.metadataOrderKeyFilter||"boolean"!=typeof t.includeFrozen||"boolean"!=typeof t.includeMetaData?n(ie.error,null):t.isLoading?n(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,P.get(t._iid).container.apiClient.loadPublicGroupChannelList(d(d({},t),{},{token:t._token}),function(e,i){var a=null;if(!e){var s=String(i.next);t._token=s,t.hasNext=!!s;var o=i.channels;o&&Array.isArray(o)?a=o.map(function(e){return"number"==typeof i.ts&&(e.ts=i.ts),r.upsert(e)}):e=new w("Failed at loading group channels.",w.MALFORMED_DATA)}t.isLoading=!1,n(e,a)})):n(null,[])},n)}}],[{key:"MembershipType",get:function(){return{ALL:"all",JOINED:"joined"}}},{key:"ORDER_LATEST_LAST_MESSAGE",get:function(){return"latest_last_message"}},{key:"ORDER_CHRONOLOGICAL",get:function(){return"chronological"}},{key:"CHANNEL_NAME_ALPHABETICAL",get:function(){return"channel_name_alphabetical"}},{key:"METADATA_VALUE_ALPHABETICAL",get:function(){return"metadata_value_alphabetical"}}]),e}(),yn=function(){function e(){p(this,e),this.isDistinct=null,this.isSuper=null,this.isBroadcast=null,this.isPublic=null,this.channelUrl=null,this.isEphemeral=null,this.isDiscoverable=null,this.isStrict=null,this.name=null,this.data=null,this.customType=null,this.channelCover=null,this.coverUrl=null,this.coverImage=null,this.accessCode=null,this.messageSurvivalSeconds=null,this._invitedUserIds=[];var n=null;Object.defineProperty(this,"operators",{set:function(e){Array.isArray(e)&&e.filter(function(e){return e.hasOwnProperty("userId")}).length===e.length&&(n=e.map(function(e){return e.userId}))}}),Object.defineProperty(this,"operatorUserIds",{get:function(){return n},set:function(e){Array.isArray(e)&&e.filter(function(e){return"string"==typeof e}).length===e.length&&(n=e)}})}return g(e,[{key:"_validate",value:function(){return Array.isArray(this._invitedUserIds)&&this._invitedUserIds.every(function(e){return"string"==typeof e})&&("string"==typeof this.channelUrl||null===this.channelUrl)&&("string"==typeof this.coverUrl||null===this.coverUrl)&&($.isFile(this.coverImage)||null===this.coverImage)&&("string"==typeof this.name||null===this.name)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&("boolean"==typeof this.isDistinct||null===this.isDistinct)&&("boolean"==typeof this.isSuper||null===this.isSuper)&&("boolean"==typeof this.isBroadcast||null===this.isBroadcast)&&("boolean"==typeof this.isPublic||null===this.isPublic)&&("boolean"==typeof this.isEphemeral||null===this.isEphemeral)&&("boolean"==typeof this.isDiscoverable||null===this.isDiscoverable)&&("boolean"==typeof this.isStrict||null===this.isStrict)&&(Array.isArray(this.operatorUserIds)&&this.operatorUserIds.every(function(e){return"string"==typeof e})||null===this.operatorUserIds)&&("string"==typeof this.accessCode||null===this.accessCode)&&("number"==typeof this.messageSurvivalSeconds||null===this.messageSurvivalSeconds)}},{key:"addUsers",value:function(e){if(Array.isArray(e)){var n,t=e.filter(function(e){return e.hasOwnProperty("userId")&&"string"==typeof e.userId}).map(function(e){return e.userId});(n=this._invitedUserIds).push.apply(n,N(t))}}},{key:"addUser",value:function(e){e.hasOwnProperty("userId")&&"string"==typeof e.userId&&this._invitedUserIds.push(e.userId)}},{key:"addUserIds",value:function(e){if(Array.isArray(e)){var n,t=e.filter(function(e){return"string"==typeof e});(n=this._invitedUserIds).push.apply(n,N(t))}}},{key:"addUserId",value:function(e){"string"==typeof e&&this._invitedUserIds.push(e)}}]),e}(),_n=function(){function e(){p(this,e),this.channelUrl=null,this.name=null,this.coverUrlOrImage=null,this.data=null,this.customType=null,this._operatorUserIds=[]}return g(e,[{key:"operatorUserIds",get:function(){return this._operatorUserIds},set:function(e){Array.isArray(e)&&e.every(function(e){return"string"==typeof e})&&(this._operatorUserIds=e)}},{key:"operators",set:function(e){Array.isArray(e)&&e.every(function(e){return e.hasOwnProperty("userId")})&&(this._operatorUserIds=e.map(function(e){return e.userId}))}},{key:"_validate",value:function(){return(Array.isArray(this.operatorUserIds)&&this.operatorUserIds.every(function(e){return"string"==typeof e})||null===this.operatorUserIds)&&("string"==typeof this.coverUrlOrImage||$.isFile(this.coverUrlOrImage)||null===this.coverUrlOrImage)&&("string"==typeof this.name||null===this.name)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&("string"==typeof this.channelUrl||null===this.channelUrl)}}]),e}(),mn=new WeakMap,vn=function(){function e(){p(this,e),this._mentionType=e.MentionType.USERS,this._mentionedUserIds=[],this._cachedMentionedUsers=[],this._cachedMentionedUserIds=[],this._metaArrays=[],mn.set(this,null),this._parentMessageId=null}return g(e,[{key:"mentionType",get:function(){return this._mentionType},set:function(e){var n=F.get(this._iid).BaseMessageParams;Object.keys(n.MentionType).map(function(e){return n.MentionType[e]}).indexOf(e)>-1&&(this._mentionType=e)}},{key:"mentionedUserIds",get:function(){return this._cachedMentionedUserIds},set:function(e){if(Array.isArray(e))for(var n=$n.getInstance(this._iid),t=0;t<e.length;t++){var r=e[t];if("string"!=typeof r){this._cachedMentionedUserIds=[],this._mentionedUserIds=[];break}this._mentionedUserIds.indexOf(r)<0&&n.currentUser&&n.currentUser.userId!==r&&(this._cachedMentionedUserIds.push(r),this._mentionedUserIds.push(r))}}},{key:"mentionedUsers",get:function(){return this._cachedMentionedUsers},set:function(e){if(Array.isArray(e))for(var n=$n.getInstance(this._iid),t=0;t<e.length;t++){var r=e[t];if(!r.hasOwnProperty("userId")){this._cachedMentionedUsers=[],this._mentionedUserIds=[];break}this._mentionedUserIds.indexOf(r.userId)<0&&n.currentUser&&n.currentUser.userId!==r.userId&&(this._cachedMentionedUsers.push(r),this._mentionedUserIds.push(r.userId))}}},{key:"metaArrayKeys",get:function(){return this._metaArrays.map(function(e){return e.key})},set:function(e){var n=F.get(this._iid).MessageMetaArray,t={};if(Array.isArray(e)){this._metaArrays=[];for(var r=0;r<e.length;r++)"string"!=typeof e[r]||t[e[r]]||(t[e[r]]=!0,this._metaArrays.push(new n(e[r])))}}},{key:"metaArrays",get:function(){return this._metaArrays},set:function(e){var n=F.get(this._iid).MessageMetaArray;if(Array.isArray(e)){this._metaArrays=[];for(var t=0;t<e.length;t++){var r=e[t];if(r instanceof n){var i,a=this._metaArrays.map(function(e){return e.key}).indexOf(r.key);a<0?this._metaArrays.push(r):(i=this._metaArrays[a].value).push.apply(i,N(r.value))}}}}},{key:"rootMessageId",get:function(){return mn.get(this)}},{key:"parentMessageId",get:function(){return this._parentMessageId},set:function(e){mn.set(this,e),this._parentMessageId=e}},{key:"_validate",value:function(){var e=F.get(this._iid),n=e.BaseMessageParams,t=e.MessageMetaArray,r=mn.get(this);return Object.keys(n.MentionType).map(function(e){return n.MentionType[e]}).indexOf(this.mentionType)>-1&&this._mentionedUserIds.every(function(e){return"string"==typeof e})&&Array.isArray(this._metaArrays)&&this._metaArrays.every(function(e){return e instanceof t})&&("number"==typeof r||null===r)&&("number"==typeof this._parentMessageId||null===this._parentMessageId)}}],[{key:"MentionType",get:function(){return{USERS:"users",CHANNEL:"channel"}}},{key:"PushNotificationDeliveryOption",get:function(){return{DEFAULT:"default",SUPPRESS:"suppress"}}}]),e}(),Cn=function(e){_(t,vn);var n=A(t);function t(){var e;return p(this,t),(e=n.call(this)).message=null,e.data=null,e.customType=null,e.pushNotificationDeliveryOption=null,e.appleCriticalAlertOptions=null,e._translationTargetLanguages=[],e}return g(t,[{key:"targetLanguages",get:function(){return this.translationTargetLanguages},set:function(e){this.translationTargetLanguages=e}},{key:"translationTargetLanguages",get:function(){return this._translationTargetLanguages},set:function(e){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("string"!=typeof e[n])return void(this._translationTargetLanguages=[]);this._translationTargetLanguages=e}}},{key:"_validate",value:function(){var e=F.get(this._iid),n=e.BaseMessageParams,r=e.AppleCriticalAlertOptions;return S(m(t.prototype),"_validate",this).call(this)&&("string"==typeof this.message||null===this.message)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&Array.isArray(this.translationTargetLanguages)&&this.translationTargetLanguages.every(function(e){return"string"==typeof e})&&(null===this.pushNotificationDeliveryOption||Object.keys(n.PushNotificationDeliveryOption).map(function(e){return n.PushNotificationDeliveryOption[e]}).indexOf(this.pushNotificationDeliveryOption)>-1)&&(null===this.appleCriticalAlertOptions||this.appleCriticalAlertOptions instanceof r)}}]),t}(),En=function(e){_(t,vn);var n=A(t);function t(){var e;return p(this,t),(e=n.call(this)).fileName=null,e.mimeType=null,e.fileSize=null,e.data=null,e.customType=null,e.pushNotificationDeliveryOption=null,e.appleCriticalAlertOptions=null,e._isUpdate=!1,e._file=null,e._fileUrl=null,e._thumbnailSizes=[],e}return g(t,[{key:"file",get:function(){return this._file},set:function(e){$.isFile(e)&&(this._fileUrl=null,this._file=e)}},{key:"fileUrl",get:function(){return this._fileUrl},set:function(e){"string"==typeof e&&(this._fileUrl=e,this._file=null)}},{key:"thumbnailSizes",get:function(){return this._thumbnailSizes},set:function(e){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"!==h(e[n])||"number"!=typeof e[n].maxWidth||"number"!=typeof e[n].maxHeight)return void(this._thumbnailSizes=[]);this._thumbnailSizes=e}}},{key:"_validate",value:function(){var e=F.get(this._iid),n=e.BaseMessageParams,r=e.AppleCriticalAlertOptions;return S(m(t.prototype),"_validate",this).call(this)&&(this._isUpdate||$.isFile(this.file)||"string"==typeof this.fileUrl)&&("string"==typeof this.fileName||null===this.fileName)&&("string"==typeof this.mimeType||null===this.mimeType)&&("number"==typeof this.fileSize||null===this.fileSize)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&(null===this._thumbnailSizes||this._thumbnailSizes.every(function(e){return"object"===h(e)&&e.maxWidth>0&&e.maxHeight>0}))&&(null===this.pushNotificationDeliveryOption||Object.keys(n.PushNotificationDeliveryOption).map(function(e){return n.PushNotificationDeliveryOption[e]}).indexOf(this.pushNotificationDeliveryOption)>-1)&&(null===this.appleCriticalAlertOptions||this.appleCriticalAlertOptions instanceof r)}}]),t}(),Un=function(e){_(t,Cn);var n=A(t);function t(e){var r;return p(this,t),(r=n.call(this)).year=null,r.month=null,r.day=null,r.hour=null,r.min=null,r.timezone=null,r._scheduledDateTimeString=null,e&&r._update(e),r}return g(t,[{key:"scheduledDateTimeString",get:function(){return this._scheduledDateTimeString?this._scheduledDateTimeString:"number"==typeof this.year&&4===this.year.toString().length&&"number"==typeof this.month&&this.month>=1&&this.month<=12&&"number"==typeof this.day&&this.day>=1&&this.day<=31&&"number"==typeof this.hour&&this.hour>=0&&this.hour<=24&&"number"==typeof this.min&&this.min>=0&&this.min<=60&&"string"==typeof this.timezone&&this.timezone.length>0?this.year.toString()+"-"+("0"+this.month.toString()).substr(-2)+"-"+("0"+this.day.toString()).substr(-2)+" "+("0"+this.hour.toString()).substr(-2)+":"+("0"+this.min.toString()).substr(-2):null},set:function(e){e&&"string"==typeof e&&(this._scheduledDateTimeString=e)}},{key:"_update",value:function(e){e.hasOwnProperty("message")&&(this.message=e.message),e.hasOwnProperty("year")&&(this.year=e.year),e.hasOwnProperty("month")&&(this.month=e.month),e.hasOwnProperty("day")&&(this.day=e.day),e.hasOwnProperty("hour")&&(this.hour=e.hour),e.hasOwnProperty("min")&&(this.min=e.min),e.hasOwnProperty("timezone")&&(this.timezone=e.timezone)}},{key:"_getScheduleString",value:function(){return this.scheduledDateTimeString?this.scheduledDateTimeString+" "+this.timezone:"number"==typeof this.year&&4===this.year.toString().length&&"number"==typeof this.month&&this.month>=1&&this.month<=12&&"number"==typeof this.day&&this.day>=1&&this.day<=31&&"number"==typeof this.hour&&this.hour>=0&&this.hour<=24&&"number"==typeof this.min&&this.min>=0&&this.min<=60&&"string"==typeof this.timezone&&this.timezone.length>0?this.year.toString()+"-"+("0"+this.month.toString()).substr(-2)+"-"+("0"+this.day.toString()).substr(-2)+" "+("0"+this.hour.toString()).substr(-2)+":"+("0"+this.min.toString()).substr(-2)+" "+this.timezone:null}},{key:"setSchedule",value:function(e,n,t,r,i,a){"number"==typeof e&&4===e.toString().length&&"number"==typeof n&&n>=1&&n<=12&&"number"==typeof t&&t>=1&&t<=31&&"number"==typeof r&&r>=0&&r<=24&&"number"==typeof i&&i>=0&&i<=60&&"string"==typeof a&&a.length>0&&(this.scheduledDateTimeString=e.toString()+"-"+("0"+n.toString()).substr(-2)+"-"+("0"+t.toString()).substr(-2)+" "+("0"+r.toString()).substr(-2)+":"+("0"+i.toString()).substr(-2),this.timezone=a)}}]),t}(),bn=function e(){p(this,e),this.channelCustomTypesFilter=[],this.superChannelFilter=De.SuperChannelFilter.ALL},An=function(){function e(){p(this,e),this.channelUrl=null,this.channelType=null,this.messageId=0,this.includeMetaArray=!1,this.includeParentMessageText=!1,this.includeThreadInfo=!1}return g(e,[{key:"_validate",value:function(){var e=F.get(this._iid).BaseChannel;return"string"==typeof this.channelUrl&&"string"==typeof this.channelType&&[e.CHANNEL_TYPE_BASE,e.CHANNEL_TYPE_OPEN,e.CHANNEL_TYPE_GROUP].includes(this.channelType)&&"number"==typeof this.messageId&&"boolean"==typeof this.includeMetaArray&&"boolean"==typeof this.includeParentMessageText&&"boolean"==typeof this.includeThreadInfo}}]),e}(),Sn=function(){function e(){p(this,e);var n=F.get(this._iid).BaseChannel;this.prevResultSize=0,this.nextResultSize=0,this.isInclusive=!1,this.reverse=!1,this.messageType=n.MessageTypeFilter.ALL,this.customType=null,this.customTypes=[],this.senderUserIds=null,this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=!1,this.includeReplies=!1,this.includeParentMessageText=!1,this.includeThreadInfo=!1,this.showSubchannelMessagesOnly=!1}return g(e,[{key:"_validate",value:function(){"boolean"==typeof this.includeReaction&&this.includeReaction&&(this.includeReactions=this.includeReaction);var e=F.get(this._iid).BaseChannel;return"number"==typeof this.prevResultSize&&"number"==typeof this.nextResultSize&&"boolean"==typeof this.isInclusive&&"boolean"==typeof this.reverse&&"string"==typeof this.messageType&&Object.values(e.MessageTypeFilter).includes(this.messageType)&&("string"==typeof this.customType||null===this.customType)&&Array.isArray(this.customTypes)&&this.customTypes.every(function(e){return"string"==typeof e||null===e})&&(Array.isArray(this.senderUserIds)&&this.senderUserIds.every(function(e){return"string"==typeof e})||null===this.senderUserIds)&&"boolean"==typeof this.includeMetaArray&&"boolean"==typeof this.includeReactions&&"boolean"==typeof this.includeReplies&&"boolean"==typeof this.includeParentMessageText&&"boolean"==typeof this.includeThreadInfo&&"boolean"==typeof this.showSubchannelMessagesOnly}}]),e}(),In=function(){function e(){p(this,e);var n=F.get(this._iid).BaseChannel;this.prevResultSize=0,this.nextResultSize=0,this.isInclusive=!1,this.reverse=!1,this.messageType=n.MessageTypeFilter.ALL,this.customType=null,this.customTypes=[],this.senderUserIds=null,this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=!1,this.includeParentMessageText=!1}return g(e,[{key:"_validate",value:function(){"boolean"==typeof this.includeReaction&&this.includeReaction&&(this.includeReactions=this.includeReaction);var e=F.get(this._iid).BaseChannel;return"number"==typeof this.prevResultSize&&"number"==typeof this.nextResultSize&&"boolean"==typeof this.isInclusive&&"boolean"==typeof this.reverse&&"string"==typeof this.messageType&&Object.values(e.MessageTypeFilter).includes(this.messageType)&&("string"==typeof this.customType||null===this.customType)&&Array.isArray(this.customTypes)&&this.customTypes.every(function(e){return"string"==typeof e||null===e})&&(Array.isArray(this.senderUserIds)&&this.senderUserIds.every(function(e){return"string"==typeof e})||null===this.senderUserIds)&&"boolean"==typeof this.includeMetaArray&&"boolean"==typeof this.includeReactions&&"boolean"==typeof this.includeParentMessageText}}]),e}(),Nn=function(){function e(){p(this,e),this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=!1,this.includeReplies=!1,this.includeParentMessageText=!1,this.includeThreadInfo=!1}return g(e,[{key:"_validate",value:function(){return"boolean"==typeof this.includeReaction&&this.includeReaction&&(this.includeReactions=this.includeReaction),"boolean"==typeof this.includeMetaArray&&"boolean"==typeof this.includeReactions&&"boolean"==typeof this.includeReplies&&"boolean"==typeof this.includeParentMessageText&&"boolean"==typeof this.includeThreadInfo}}]),e}(),kn=function(){function e(){p(this,e),this.customTypes=[],this.includeEmpty=!1,this.includeFrozen=!0}return g(e,[{key:"_validate",value:function(){return(Array.isArray(this.customTypes)&&this.customTypes.every(function(e){return"string"==typeof e})||null===this.customTypes)&&("boolean"==typeof this.includeEmpty||null===this.includeEmpty)&&"boolean"==typeof this.includeFrozen}}]),e}(),Rn=function e(){p(this,e),this.onReconnectStarted=function(){},this.onReconnectSucceeded=function(){},this.onReconnectFailed=function(){}},On=function e(){p(this,e),this.onFriendsDiscovered=function(e){},this.onTotalUnreadMessageCountUpdated=function(e,n){}},Tn=function e(){p(this,e),this.onMessageReceived=function(e,n){},this.onMessageUpdated=function(e,n){},this.onMessageDeleted=function(e,n){},this.onReadReceiptUpdated=function(e){},this.onReactionUpdated=function(e,n){},this.onDeliveryReceiptUpdated=function(e){},this.onTypingStatusUpdated=function(e){},this.onUserJoined=function(e,n){},this.onUserLeft=function(e,n){},this.onOperatorUpdated=function(e,n){},this.onUserEntered=function(e,n){},this.onUserExited=function(e,n){},this.onUserMuted=function(e,n){},this.onUserUnmuted=function(e,n){},this.onUserBanned=function(e,n){},this.onUserUnbanned=function(e,n){},this.onChannelFrozen=function(e){},this.onChannelUnfrozen=function(e){},this.onChannelChanged=function(e){},this.onChannelDeleted=function(e,n){},this.onUserReceivedInvitation=function(e,n,t){},this.onUserDeclinedInvitation=function(e,n,t){},this.onMetaDataCreated=function(e,n){},this.onMetaDataUpdated=function(e,n){},this.onMetaDataDeleted=function(e,n){},this.onMetaCountersCreated=function(e,n){},this.onMetaCountersUpdated=function(e,n){},this.onMetaCountersDeleted=function(e,n){},this.onChannelHidden=function(e){},this.onMentionReceived=function(e,n){},this.onThreadInfoUpdated=function(e,n){},this.onChannelMemberCountChanged=function(e){},this.onChannelParticipantCountChanged=function(e){}},Mn=function e(n){if(p(this,e),n){var t=F.get(this._iid),r=t.User,i=t.BaseChannel;this.reader=new r(n.user),this.timestamp=parseInt(n.ts),this.channelUrl=n.hasOwnProperty("channel_url")?String(n.channel_url):"",this.channelType=n.hasOwnProperty("channel_type")?String(n.channel_type):i.CHANNEL_TYPE_GROUP}},Ln=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];p(this,e),this.key=n,this.value=Array.isArray(t)&&t.every(function(e){return"string"==typeof e})?t:[]}return g(e,[{key:"encode",value:function(){return{key:this.key,value:this.value||[]}}}]),e}(),Pn=new WeakMap,wn=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;p(this,e),this.key=n,this.userIds=t,this.updatedAt=r;var i={};for(var a in this.userIds){i[this.userIds[a]]=this.updatedAt}Pn.set(this,i)}return g(e,[{key:"isEmpty",get:function(){return 0===this.userIds.length}},{key:"serialize",value:function(){return{key:this.key,user_ids:this.userIds,updated_at:this.updatedAt}}},{key:"_applyEvent",value:function(e){if(e instanceof fe){var n=Pn.get(this);if(e.key===this.key&&(!n[e.userId]||n[e.userId]<e.updatedAt)){var t=this.userIds.indexOf(e.userId);switch(e.operation){case"add":t<0&&this.userIds.push(e.userId);break;case"delete":t>=0&&this.userIds.splice(t,1)}n[e.userId]=e.updatedAt}}}}],[{key:"createFromJson",value:function(e){var n=e.key,t=e.user_ids,r=e.updated_at;return"string"==typeof n&&n&&Array.isArray(t)&&t.length>0&&"number"==typeof r?new this(n,t,r):null}}]),e}(),Dn=function(){function e(n){p(this,e),this.replyCount=0,this.mostRepliedUsers=[],this.lastRepliedAt=0,this.updatedAt=0,n&&this._update(n)}return g(e,[{key:"_update",value:function(e){var n=F.get(this._iid).User;e.hasOwnProperty("reply_count")&&(this.replyCount=parseInt(e.reply_count)),e.hasOwnProperty("most_replies")&&Array.isArray(e.most_replies)&&e.most_replies.every(function(e){return"object"===h(e)})&&(this.mostRepliedUsers=e.most_replies.map(function(e){return new n(e)})),e.hasOwnProperty("last_replied_at")&&(this.lastRepliedAt=parseInt(e.last_replied_at)),e.hasOwnProperty("updated_at")&&(this.updatedAt=parseInt(e.updated_at))}}],[{key:"objectify",value:function(e){var n=F.get(this._iid).User,t=e.replyCount,r=e.mostRepliedUsers,i=e.lastRepliedAt,a=e.updatedAt,s={};return s.reply_count=t,Array.isArray(r)&&r.every(function(e){return e instanceof n})&&(s.most_replies=r.map(function(e){return n.objectify(e)})),s.last_replied_at=i,s.updated_at=a,s}},{key:"build",value:function(e,n,t,r){return this.objectify({replyCount:e,mostRepliedUsers:n,lastRepliedAt:t,updatedAt:r})}}]),e}(),Hn=function(){function e(n){p(this,e),this.title=null,this.url=null,this.description=null,this.defaultImage=null,n&&this._update(n)}return g(e,[{key:"_update",value:function(e){var n=F.get(this._iid).OGImage;e.hasOwnProperty("og:title")&&(this.title=e["og:title"]),e.hasOwnProperty("og:url")&&(this.url=e["og:url"]),e.hasOwnProperty("og:description")&&(this.description=e["og:description"]),e.hasOwnProperty("og:image")&&(this.defaultImage=new n(e["og:image"]))}}],[{key:"objectify",value:function(e){var n=F.get(this._iid).OGImage,t=e.title,r=void 0===t?null:t,i=e.url,a=void 0===i?null:i,s=e.description,o=void 0===s?null:s,l=e.defaultImage,u=void 0===l?null:l,c={};return c["og:title"]=r,c["og:url"]=a,c["og:description"]=o,u&&(c["og:image"]=n.objectify(u)),c}}]),e}(),Fn=function(){function e(n){p(this,e),this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,n&&this._update(n)}return g(e,[{key:"_update",value:function(e){e.hasOwnProperty("url")&&(this.url=e.url),e.hasOwnProperty("secure_url")&&(this.secureUrl=e.secure_url),e.hasOwnProperty("type")&&(this.type=e.type),e.hasOwnProperty("width")&&(this.width=parseInt(e.width)),e.hasOwnProperty("height")&&(this.height=parseInt(e.height)),e.hasOwnProperty("alt")&&(this.alt=e.alt)}}],[{key:"objectify",value:function(e){var n=e.url,t=void 0===n?null:n,r=e.secureUrl,i=void 0===r?null:r,a=e.type,s=void 0===a?null:a,o=e.width,l=void 0===o?0:o,u=e.height,c=void 0===u?0:u,d=e.alt,h=void 0===d?null:d,p={};return p.url=t,p.secure_url=i,p.type=s,p.width=l,p.height=c,p.alt=h,p}}]),e}(),Gn=function(){function e(n){p(this,e),this.type=null,this.vendor=null,this.detail={},n&&this._update(n)}return g(e,[{key:"_update",value:function(e){this.type=e.hasOwnProperty("type")?e.type:"",this.vendor=e.hasOwnProperty("vendor")?e.vendor:"",e.hasOwnProperty("detail")&&"object"===h(e.detail)&&!Array.isArray(e.detail)&&(this.detail=e.detail)}}],[{key:"objectify",value:function(e){var n=e.type,t=void 0===n?"":n,r=e.vendor,i=void 0===r?"":r,a=e.detail,s=void 0===a?{}:a,o={};return o.type=t,o.vendor=i,o.detail=s,o}}]),e}(),Bn=function(){function e(n){p(this,e),this.name="default",this.volume=1,n&&this._update(n)}return g(e,[{key:"_update",value:function(e){e.hasOwnProperty("name")&&(this.name=e.name),e.hasOwnProperty("volume")&&(this.volume=e.volume)}},{key:"serialize",value:function(){return{name:this.name,volume:this.volume}}}]),e}(),jn=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];p(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIds=n,this.metaDataKey="",this.metaDataValues=[],this._token=""}return g(e,[{key:"next",value:function(e){var n=this;return ye(this._iid,function(e){"number"==typeof n.limit&&n.limit>0&&Array.isArray(n.userIds)&&"string"==typeof n.metaDataKey&&Array.isArray(n.metaDataValues)&&!!n.metaDataKey==n.metaDataValues.length>0?n.isLoading?e(new w("Query in progress.",w.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,P.get(n._iid).container.apiClient.loadUserList(d(d({},n),{},{userIdsFilter:n.userIds,metaDataKeyFilter:n.metaDataKey,metaDataValuesFilter:n.metaDataValues,token:n._token}),function(t,r){var i=null;if(!t){var a=F.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.users.map(function(e){return new a(e)})}n.isLoading=!1,e(t,i)})):e(null,[]):e(ie.error,null)},e)}}]),e}(),xn=new WeakMap,qn=function(){function e(n){p(this,e),this.isLoading=!1,xn.set(this,n)}return g(e,[{key:"prev",value:function(e,n,t,r){var i=arguments,a=this;return ye(this._iid,function(r){var s,o=F.get(a._iid).BaseChannel,l=I(ie.parse(i,[new ie({type:"number"}),new ie({type:"number"}),new ie({type:"boolean"}),new ie({type:"function"})]),5);if(s=l[0],e=l[1],n=l[2],t=l[3],r=l[4],s)r(s,null);else if(a.isLoading)r(new w("Query in progress.",w.QUERY_IN_PROGRESS),null);else{a.isLoading=!0;var u=xn.get(a);P.get(a._iid).container.apiClient.getMessageList({channelUrl:u.url,channelType:u.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:n,nextResultSize:0,shouldReverse:t,messageType:"",customType:""},function(e,n){var t=null;e||(t=n.messages.map(function(e){return o.buildMessage(e,u)})),a.isLoading=!1,r(e,t)})}},r)}},{key:"next",value:function(e,n,t,r){var i=arguments,a=this;return ye(this._iid,function(r){var s,o=F.get(a._iid).BaseChannel,l=I(ie.parse(i,[new ie({type:"number"}),new ie({type:"number"}),new ie({type:"boolean"}),new ie({type:"function"})]),5);if(s=l[0],e=l[1],n=l[2],t=l[3],r=l[4],s)r(s,null);else if(a.isLoading)r(new w("Query in progress.",w.QUERY_IN_PROGRESS),null);else{a.isLoading=!0;var u=xn.get(a);P.get(a._iid).container.apiClient.getMessageList({channelUrl:u.url,channelType:u.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:0,nextResultSize:n,shouldReverse:t,messageType:"",customType:""},function(e,n){var t=null;e||(t=n.messages.map(function(e){return o.buildMessage(e,u)})),a.isLoading=!1,r(e,t)})}},r)}},{key:"load",value:function(e,n,t,r,i){var a=arguments,s=this;return ye(this._iid,function(i){var o,l=F.get(s._iid).BaseChannel,u=I(ie.parse(a,[new ie({type:"number"}),new ie({type:"number"}),new ie({type:"number"}),new ie({type:"boolean"}),new ie({type:"callback"})]),6);if(o=u[0],e=u[1],n=u[2],t=u[3],r=u[4],i=u[5],o)i(o,null);else if(s.isLoading)i(new w("Query in progress.",w.QUERY_IN_PROGRESS),null);else{s.isLoading=!0;var c=xn.get(s);P.get(s._iid).container.apiClient.getMessageList({channelUrl:c.url,channelType:c.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:n,nextResultSize:t,shouldReverse:r,messageType:"",customType:""},function(e,n){var t=null;e||(t=n.messages.map(function(e){return l.buildMessage(e,c)})),s.isLoading=!1,i(e,t)})}},i)}}]),e}(),zn=0,Qn=1,Yn=2,Kn=function(){function e(n){var t=this;if(p(this,e),this.state=zn,this._value=null,this._reason=null,"function"!=typeof n)throw"Promise resolver ".concat(n," is not a function");n(function(e){t.state===zn&&(t.state=Qn,t._value=e)},function(e){t.state===zn&&(t.state=Yn,t._reason=e)})}return g(e,[{key:"length",get:function(){return 1}},{key:"then",value:function(n,t){var r=this,i=this;switch(this.state){case zn:setTimeout(function(){return r.then(n,t)},100);break;case Qn:n&&"function"==typeof n&&(i=n(this._value));break;case Yn:t&&"function"==typeof t&&(i=t(this._reason))}return i instanceof e?i:this}},{key:"catch",value:function(n){var t=this,r=this;switch(this.state){case zn:setTimeout(function(){return t.catch(n)},100);break;case Qn:break;case Yn:r=n(this._reason)}return r instanceof e?r:this}},{key:"finally",value:function(n){var t=this,r=this;switch(this.state){case zn:setTimeout(function(){return t.finally(n)},100);break;case Qn:case Yn:r=n()}return r instanceof e?r:this}}],[{key:"all",value:function(n){return new e(function(t,r){if(Array.isArray(n)||"string"==typeof n)if(n.length>0){var i=[];for(var a in n)n[a]instanceof e?i.push(n[a]):i.push(e.resolve(n[a]));var s=new Array(i.length).fill(null),o=i.length,l=function(e,n,i){n?r(n):(o--,s[e]=i,o<=0&&t(s))};i.forEach(function(e,n){e.then(function(e){l(n,null,e)}).catch(function(e){l(n,e,null)})})}else t([]);else r(new Error("Uncaught (in promise) TypeError: ".concat(h(n)," ").concat(n," is not iterable")))})}},{key:"resolve",value:function(n){return new e(function(e){e(n)})}},{key:"reject",value:function(n){return new e(function(e,t){t(n)})}}]),e}(),Wn=function(){"undefined"==typeof Promise&&("undefined"!=typeof window?window.Promise=Kn:void 0!==r?r.Promise=Kn:"undefined"!=typeof self?self.Promise=Kn:"undefined"!=typeof globalThis&&(globalThis.Promise=Kn)),Object.values||(Object.values=function(e){return Object.keys(e).map(function(n){return e[n]})}),Number.MAX_SAFE_INTEGER||Object.defineProperty(Number,"MAX_SAFE_INTEGER",{value:Math.pow(2,53)-1})},Vn=3e5,Jn=null,Xn={},Zn=!1,$n=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),Wn();var t=!1;if((n.newInstance||!Jn||Jn&&n.appId!==Jn.getApplicationId()&&Jn.getConnectionState()===Jn.ConnectionState.CLOSED)&&(t=!0,Jn=this),t){try{if(!n.hasOwnProperty("appId"))return W.warn("Must be set appId."),Jn=null,null}catch(e){return W.warn("Must be set appId."),Jn=null,null}var r=Oe.create();Object.defineProperty(this,"_iid",{get:function(){return r}}),Xn[r]=this,this.customApiHost=null,this.customWsHost=null,this.connecting=!1,this.reconnecting=!1,this.isReconnectingOnError=!1,this.connectionCallbacks=[],this.ConnectionManager=new ae(this),this.GCMPushToken="",this.APNSPushToken="",this.PUSH_TEMPLATE_DEFAULT="default",this.PUSH_TEMPLATE_ALTERNATIVE="alternative",this.currentUser=null,this.isSessionOpened=!1,this.globalTimer,this.loginTimer,this.reconnectTimer,this.loginHandler=null,this.onLoginTimerCancel,this.onReconnectTimerCancel,this.BaseChannel={MessageTypeFilter:be.MessageTypeFilter};var i={User:Ce,Member:He,GroupChannel:De,OpenChannel:Qe,UserMessage:Ye,FileMessage:Ke,AdminMessage:We,GroupChannelListQuery:nn,MemberListQuery:tn,GroupChannelParams:yn,OpenChannelParams:_n,BaseMessageParams:vn,UserMessageParams:Cn,FileMessageParams:En,ScheduledUserMessageParams:Un,GroupChannelTotalUnreadMessageCountParams:bn,MessageRetrievalParams:An,MessageListParams:Sn,ThreadedMessageListParams:In,MessageChangeLogsParams:Nn,GroupChannelChangeLogsParams:kn,MessageMetaArray:Ln,UserEventHandler:On,SessionHandler:se,ChannelHandler:Tn,ConnectionHandler:Rn,AppleCriticalAlertOptions:Bn},a={SessionManager:oe,BaseChannel:be,BaseMessage:ve,UserListQuery:jn,ApplicationUserListQuery:Xe,BannedUserListQuery:Ze,BlockedUserListQuery:$e,FriendListQuery:en,MutedUserListQuery:rn,OpenChannelListQuery:an,OperatorListQuery:on,ParticipantListQuery:un,MessageListQuery:qn,PreviousMessageListQuery:fn,MessageSearchQuery:dn,PublicGroupChannelListQuery:gn,ScheduledUserMessage:Ve,ThreadInfo:Dn,ThreadInfoUpdateEvent:Je,OGMetaData:Hn,OGImage:Fn,Plugin:Gn,Command:ce,Sender:Fe,ReadStatus:Mn,Reaction:wn,ReactionEvent:fe,Emoji:je,EmojiCategory:Be,EmojiContainer:Ge,FileMessageQueue:Re},s=new F(this._iid,d(d({},i),a));for(var o in this.BaseMessage={getMessage:s.BaseMessage.getMessage.bind(s.BaseMessage)},s)i[o]&&(this[o]=s[o]);P.create(r,{appId:n.appId,pinger:new J(this),apiClient:new ne(this),wsAdapter:new re(this),commandHandler:new Ie(this),onlineDetector:new le(this),ackStateMap:{},subscribedUnreadMessageCount:{all:0,custom_types:{},ts:0},maxUnreadCountOfSuperGroupChannel:T.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,auth:new D,appInfo:null,pingInterval:15e3,pongTimeout:5e3,connectedAt:0,extensions:{},supportedExtensionKeys:["sb_uikit","sb_syncmanager"],getUserAgentWithExtensions:function(e){var n=e.sb_syncmanager?"s".concat(e.sb_syncmanager):"",t=e.sb_uikit?"u".concat(e.sb_uikit):"";return"JS/c".concat(T.SDK_VERSION,"/").concat(n,"/").concat(t)},sessionManager:new s.SessionManager(this),stateChangeEnabled:!0,isInBackground:!1,closedByGoingBackground:!1,isErrorFirstInCallback:!1}),this.userEventHandlers={},this.channelHandlers={},this.connectionHandlers={},this.Options={_useMemberAsMessageSender:!0,get UseMemberAsMessageSender(){return this._useMemberAsMessageSender},set UseMemberAsMessageSender(e){"boolean"==typeof e&&(this._useMemberAsMessageSender=e)},get useMemberAsMessageSender(){return this._useMemberAsMessageSender},set useMemberAsMessageSender(e){"boolean"==typeof e&&(this._useMemberAsMessageSender=e)},_typingIndicatorThrottle:1e3,get typingIndicatorThrottle(){return this._typingIndicatorThrottle},set typingIndicatorThrottle(e){"number"==typeof e&&e>=1e3&&e<=9e3&&(this._typingIndicatorThrottle=e)},_websocketResponseTimeout:1e4,get websocketResponseTimeout(){return this._websocketResponseTimeout},set websocketResponseTimeout(e){"number"==typeof e&&e>=5e3&&e<=Vn&&(this._websocketResponseTimeout=e)}}}return Jn}return g(e,[{key:"ConnectionState",get:function(){return{CONNECTING:"CONNECTING",OPEN:"OPEN",CLOSED:"CLOSED"}}},{key:"MessageRequestState",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",SUCCEEDED:"succeeded"}}},{key:"MessageSendingStatus",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"}}},{key:"pushTokenRegistrationState",get:function(){return{SUCCESS:"success",PENDING:"pending",ERROR:"error"}}},{key:"PushTriggerOption",get:function(){return{ALL:"all",MENTION_ONLY:"mention_only",OFF:"off"}}},{key:"appInfo",get:function(){return P.get(this._iid).container.appInfo}},{key:"ekey",get:function(){var e=P.get(this._iid).container.auth;return e?e.eKey:""}},{key:"getApplicationId",value:function(){return P.get(this._iid).get("appId")}},{key:"getCurrentUserId",value:function(){return this.currentUser?this.currentUser.userId:null}},{key:"getDebugMode",value:function(){return Zn}},{key:"setDebugMode",value:function(e){Zn=e,W.mode=e?W.Mode.DEBUG:W.Mode.PRODUCTION}},{key:"getErrorFirstCallback",value:function(){return P.get(this._iid).container.isErrorFirstInCallback}},{key:"setErrorFirstCallback",value:function(e){"boolean"==typeof e&&P.get(this._iid).set("isErrorFirstInCallback",e)}},{key:"getCurrentApiHost",value:function(){return this.customApiHost?this.customApiHost:"https://api.sendbird.com"}},{key:"clearCurrentApiHost",value:function(){this.customApiHost=null}},{key:"getCurrentWsHost",value:function(){return this.customWsHost?this.customWsHost:"wss://ws.sendbird.com"}},{key:"clearCurrentWsHost",value:function(){this.customWsHost=null}},{key:"getConnectionState",value:function(){try{var e=P.get(this._iid).container.wsAdapter;return this.connecting||this.reconnecting?this.ConnectionState.CONNECTING:e.client?this.connecting||this.reconnecting?this.ConnectionState.CONNECTING:this.isSessionOpened?e.client.getConnectionState():this.ConnectionState.CLOSED:this.ConnectionState.CLOSED}catch(e){return this.ConnectionState.CLOSED}}},{key:"getPendingGCMToken",value:function(){return this.GCMPushToken}},{key:"getPendingAPNSToken",value:function(){return this.APNSPushToken}},{key:"hasLoggedIn",value:function(){var e=P.get(this._iid);return this.currentUser&&e.get("auth").hasSession()}},{key:"getLastConnectedAt",value:function(){var e=P.get(this._iid);return this.getConnectionState()===this.ConnectionState.OPEN&&this.currentUser?e.get("connectedAt"):0}},{key:"connect",value:function(e,n,t,r,i){var a=this,s=P.get(this._iid).container,o=s.wsAdapter,l=s.onlineDetector;l&&l.start();var u,c=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||3===e.length}}),new ie({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||2===e.length}}),new ie({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||2===e.length}}),new ie({type:"callback"})]),6);return u=c[0],e=c[1],n=c[2],t=c[3],r=c[4],i=c[5],ye(this._iid,function(i){u?i(u,null):(a.customApiHost=t,a.customWsHost=r,a.connecting=!0,a.reconnecting=!1,a.isReconnectingOnError=!1,a.reconnectTimer&&(clearTimeout(a.reconnectTimer),a.reconnectTimer=null,a.onReconnectTimerCancel=null),a.getConnectionState()===a.ConnectionState.OPEN&&a.currentUser&&a.currentUser.userId===e?(a.connecting=!1,i(null,a.currentUser)):(a.connectionCallbacks.push(i),1===a.connectionCallbacks.length&&(o.disconnect({clearSession:!0,err:null},null),o.connect(e,n))))},i)}},{key:"reconnect",value:function(){var e=P.get(this._iid).container,n=e.wsAdapter;if(e.auth.sessionKey&&this.currentUser){var t=!0;return n.reconnectCount>0&&(t=!1),n.disconnect({clearSession:!1,err:new w("Connection has been canceled.",w.CONNECTION_CANCELED)},null),n.reconnectCount=0,n.reconnect(this.currentUser.userId,t),!0}return!1}},{key:"disconnect",value:function(e){var n=this;return ye(this._iid,function(e){var t=P.get(n._iid).container,r=t.wsAdapter,i=t.onlineDetector;i&&i.stop(),r.disconnect({clearSession:!0,err:new w("Connection has been canceled.",w.CONNECTION_CANCELED)},e)},e)}},{key:"setBackgroundState",value:function(){var e=P.get(this._iid),n=e.container,t=n.wsAdapter,r=n.stateChangeEnabled;!n.isInBackground&&r&&(e.set("isInBackground",!0),this.getConnectionState()!==this.ConnectionState.CLOSED?(e.set("closedByGoingBackground",!0),t.disconnect({clearSession:!1,err:new w("Websocket connection failed.",w.WEBSOCKET_CONNECTION_FAILED)},null)):e.set("closedByGoingBackground",!1))}},{key:"setForegroundState",value:function(){var e=P.get(this._iid),n=e.container,t=n.wsAdapter,r=n.stateChangeEnabled,i=n.isInBackground,a=n.closedByGoingBackground;i&&r&&(e.set("isInBackground",!1),a&&this.currentUser&&t.reconnect(this.currentUser.userId,!0))}},{key:"enableStateChange",value:function(){P.get(this._iid).set("enableStateChange",!0)}},{key:"disableStateChange",value:function(){P.get(this._iid).set("enableStateChange",!1)}},{key:"addExtension",value:function(e,n){var t=P.get(this._iid).container,r=t.extensions;t.supportedExtensionKeys.indexOf(e)>-1&&(r[e]=n)}},{key:"createUserListQuery",value:function(e){return new(0,F.get(this._iid).UserListQuery)(e)}},{key:"createApplicationUserListQuery",value:function(){return new(0,F.get(this._iid).ApplicationUserListQuery)}},{key:"createBlockedUserListQuery",value:function(){return new(0,F.get(this._iid).BlockedUserListQuery)}},{key:"createFriendListQuery",value:function(){return new(0,F.get(this._iid).FriendListQuery)}},{key:"createMessageSearchQuery",value:function(e,n){return new(0,F.get(this._iid).MessageSearchQuery)(e,n)}},{key:"sendCommand",value:function(e,n){var t=this;return ye(this._iid,function(n){t.ConnectionManager.ready(function(r,i){if(r)n(r,null);else{var a=P.get(t._iid).container,s=a.wsAdapter,o=a.ackStateMap;if(null==s||null==s.client||s.client.getConnectionState()!==t.ConnectionState.OPEN||t.getConnectionState()!==t.ConnectionState.OPEN)return void n(new w("Connection is not valid. Please reconnect.",w.WEBSOCKET_CONNECTION_CLOSED),null);if(e.isAckRequired){var l=e.requestId,u={handler:n,timer:setTimeout(function(){n(new w("Command received no ack.",w.ACK_TIMEOUT),null),delete o[l]},t.Options.websocketResponseTimeout)};o[l]=u,s.client.send(e,function(e){e&&(clearTimeout(u.timer),n(e,null))})}else s.client.send(e,n)}},!1)},n)}},{key:"setSessionHandler",value:function(e){P.get(this._iid).container.sessionManager.handler=e}},{key:"addUserEventHandler",value:function(e,n){n instanceof F.get(this._iid).UserEventHandler&&(this.userEventHandlers[e]=n)}},{key:"removeUserEventHandler",value:function(e){delete this.userEventHandlers[e]}},{key:"removeAllUserEventHandler",value:function(){this.userEventHandlers={}}},{key:"addChannelHandler",value:function(e,n){n instanceof F.get(this._iid).ChannelHandler&&(this.channelHandlers[e]=n)}},{key:"removeChannelHandler",value:function(e){delete this.channelHandlers[e]}},{key:"removeAllChannelHandlers",value:function(){this.channelHandlers={}}},{key:"addConnectionHandler",value:function(e,n){n instanceof F.get(this._iid).ConnectionHandler&&(this.connectionHandlers[e]=n)}},{key:"removeConnectionHandler",value:function(e){delete this.connectionHandlers[e]}},{key:"removeAllConnectionHandlers",value:function(){this.connectionHandlers={}}},{key:"updateCurrentUserInfo",value:function(e,n,t){var r,i=this,a=I(ie.parse(arguments,[new ie({type:"string",nullable:!0}),new ie({type:"string",nullable:!0}),new ie({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.updateCurrentUserInfo({nickname:e,profileUrl:n},function(r,a){var s=null;r||(i.currentUser&&(e&&(i.currentUser.nickname=e),n&&(i.currentUser.plainProfileUrl=n)),s=i.currentUser),t(r,s)})},t)}},{key:"updateCurrentUserInfoWithProfileImage",value:function(e,n,t){var r,i=this,a=I(ie.parse(arguments,[new ie({type:"string",nullable:!0}),new ie({type:"file",nullable:!0}),new ie({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.updateCurrentUserInfo({nickname:e,profileImage:n},function(n,r){var a=null;n||(i.currentUser&&(e&&(i.currentUser.nickname=e),r.profile_url&&(i.currentUser.plainProfileUrl=r.profile_url)),a=i.currentUser),t(n,a)})},t)}},{key:"updateCurrentUserInfoWithPreferredLanguages",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.updateCurrentUserInfo({preferredLanguages:e},function(t,i){var a=null;t||(r.currentUser&&e&&(r.currentUser._preferredLanguages=e),a=r.currentUser),n(t,a)})},n)}},{key:"registerGCMPushTokenForCurrentUser",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,r.pushTokenRegistrationState.ERROR):r.currentUser?P.get(r._iid).container.apiClient.registerGCMPushToken({token:e},function(e,t){var i=r.pushTokenRegistrationState.ERROR;e||(r.GCMPushToken="",i=r.pushTokenRegistrationState.SUCCESS),n(e,i)}):(r.GCMPushToken=e,n(null,r.pushTokenRegistrationState.PENDING))},n)}},{key:"unregisterGCMPushTokenForCurrentUser",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):r.currentUser?P.get(r._iid).container.apiClient.unregisterGCMPushToken({token:e},function(e,t){n(e,null)}):(r.GCMPushToken=e,n(null,r.pushTokenRegistrationState.PENDING))},n)}},{key:"unregisterGCMPushTokenAllForCurrentUser",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.unregisterAllGCMPushTokens({},function(n,t){e(n,null)})},e)}},{key:"registerAPNSPushTokenForCurrentUser",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,r.pushTokenRegistrationState.ERROR):r.currentUser?P.get(r._iid).container.apiClient.registerAPNSPushToken({token:e},function(e,t){var i=r.pushTokenRegistrationState.ERROR;e||(r.APNSPushToken="",i=r.pushTokenRegistrationState.SUCCESS),n(e,i)}):(r.APNSPushToken=e,n(null,r.pushTokenRegistrationState.PENDING))},n)}},{key:"unregisterAPNSPushTokenForCurrentUser",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e.length>0}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):r.currentUser?P.get(r._iid).container.apiClient.unregisterAPNSPushToken({token:e},function(e,t){n(e,null)}):(r.APNSPushToken=e,n(null,r.pushTokenRegistrationState.PENDING))},n)}},{key:"unregisterAPNSPushTokenAllForCurrentUser",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.unregisterAllAPNSPushTokens({},function(n,t){e(n,null)})},e)}},{key:"unregisterPushTokenAllForCurrentUser",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.unregisterAllPushTokens({},function(n,t){e(n,null)})},e)}},{key:"getMyGroupChannelChangeLogsByToken",value:function(e,n,t,r){var i=this,a=null,s=I(ie.parse(arguments,[new ie({type:"string",nullable:!0}),new ie({type:"array",optional:!0,nullable:!0,defaultValue:null}),new ie({type:"boolean",nullable:!0,optional:!0,defaultValue:null}),new ie({type:"callback"})]),5);a=s[0],e=s[1],n=s[2],t=s[3],r=s[4];var o=F.get(this._iid).GroupChannelChangeLogsParams,l=null;if(a){var u=I(ie.parse(arguments,[new ie({type:"string",nullable:!0}),new ie({type:o,constraint:function(e){return e._validate()}}),new ie({type:"callback"})]),4);a=u[0],e=u[1],l=u[2],r=u[3]}else(l=new o).customTypes=n,l.includeEmpty=t,l.includeFrozen=!0;return ye(this._iid,function(n){a?n(a,null):P.get(i._iid).container.apiClient.getMyGroupChannelChangeLogs(d({ts:null,token:e},l),function(e,t){if(e)n(e,null);else{var r=F.get(i._iid).GroupChannel,a=t.updated.map(function(e){return new r(e)}),s=t.deleted,o=t.has_more,l=t.next;n(null,{updatedChannels:a,deletedChannelUrls:s,hasMore:o,token:l})}})},r)}},{key:"getMyGroupChannelChangeLogsByTimestamp",value:function(e,n,t,r){var i=this,a=null,s=I(ie.parse(arguments,[new ie({type:"number",constraint:function(e){return e>=0}}),new ie({type:"array",optional:!0,nullable:!0,defaultValue:null}),new ie({type:"boolean",nullable:!0,optional:!0,defaultValue:null}),new ie({type:"callback"})]),5);a=s[0],e=s[1],n=s[2],t=s[3],r=s[4];var o=F.get(this._iid).GroupChannelChangeLogsParams,l=null;if(a){var u=I(ie.parse(arguments,[new ie({type:"number",constraint:function(e){return e>=0}}),new ie({type:o,constraint:function(e){return e._validate()}}),new ie({type:"callback"})]),4);a=u[0],e=u[1],l=u[2],r=u[3]}else(l=new o).customTypes=n,l.includeEmpty=t,l.includeFrozen=!0;return ye(this._iid,function(n){a?n(a,null):P.get(i._iid).container.apiClient.getMyGroupChannelChangeLogs(d({ts:e,token:null},l),function(e,t){if(e)n(e,null);else{var r=F.get(i._iid).GroupChannel,a=t.updated.map(function(e){return new r(e)}),s=t.deleted,o=t.has_more,l=t.next;n(null,{updatedChannels:a,deletedChannelUrls:s,hasMore:o,token:l})}})},r)}},{key:"getChannelInvitationPreference",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.getChannelInvitationPreference({},function(n,t){var r=null;n||(r={autoAccept:t.auto_accept}),e(n,r)})},e)}},{key:"setChannelInvitationPreference",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"boolean"}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.setChannelInvitationPreference({isAutoAccept:e},function(e,t){var r=null;e||(r={autoAccept:t.auto_accept}),n(e,r)})},n)}},{key:"getDoNotDisturb",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.getDoNotDisturb({},function(n,t){var r=null;n||(r={doNotDisturbOn:t.do_not_disturb,startHour:t.start_hour,startMin:t.start_min,endHour:t.end_hour,endMin:t.end_min,timezone:t.timezone}),e(n,r)})},e)}},{key:"setDoNotDisturb",value:function(e,n,t,r,i,a,s){var o,l=this,u=I(ie.parse(arguments,[new ie({type:"boolean"}),new ie({type:"number",constraint:function(e){return 0<=e&&e<=23}}),new ie({type:"number",constraint:function(e){return 0<=e&&e<=59}}),new ie({type:"number",constraint:function(e){return 0<=e&&e<=23}}),new ie({type:"number",constraint:function(e){return 0<=e&&e<=59}}),new ie({type:"string"}),new ie({type:"callback"})]),8);return o=u[0],e=u[1],n=u[2],t=u[3],r=u[4],i=u[5],a=u[6],s=u[7],ye(this._iid,function(s){o?s(o,null):P.get(l._iid).container.apiClient.setDoNotDisturb({doNotDisturbOn:e,startHour:n,startMin:t,endHour:r,endMin:i,timezone:a},function(e,n){var t=null;e||(t={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone}),s(e,t)})},s)}},{key:"getSnoozePeriod",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.getSnoozePeriod({},function(n,t){var r=null;n||(r={isSnoozeOn:t.snooze_enabled,startTs:t.snooze_start_ts,endTs:t.snooze_end_ts}),e(n,r)})},e)}},{key:"setSnoozePeriod",value:function(e,n,t,r){var i,a=this,s=I(ie.parse(arguments,[new ie({type:"boolean"}),new ie({type:"number",constraint:function(e){return e>0}}),new ie({type:"number",constraint:function(e){return e>0}}),new ie({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],ye(this._iid,function(r){i?r(i,null):P.get(a._iid).container.apiClient.setSnoozePeriod({snoozeOn:e,startTs:n,endTs:t},function(e,n){var t=null;e||(t={isSnoozeOn:n.snooze_enabled,startTs:n.snooze_start_ts,endTs:n.snooze_end_ts}),r(e,t)})},r)}},{key:"blockUser",value:function(e,n){var t,r=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return e&&e.hasOwnProperty("userId")}}),new ie({type:"callback"})]),3);return t=r[0],e=r[1],n=r[2],t?ye(this._iid,function(e){e(t,null)},n):this.blockUserWithUserId(e.userId,n)}},{key:"blockUserWithUserId",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e&&(!r.currentUser||e!==r.currentUser.userId)}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.blockUser({blockedUserId:e},function(e,t){var r=null;e||(r=new Ce(t)),n(e,r)})},n)}},{key:"unblockUser",value:function(e,n){var t,r=I(ie.parse(arguments,[new ie({type:"object",constraint:function(e){return e&&e.hasOwnProperty("userId")}}),new ie({type:"callback"})]),3);return t=r[0],e=r[1],n=r[2],t?ye(this._iid,function(e){e(t,null)},n):this.unblockUserWithUserId(e.userId,n)}},{key:"unblockUserWithUserId",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string",constraint:function(e){return e&&(!r.currentUser||e!==r.currentUser.userId)}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.unblockUser({unblockedUserId:e},function(e,t){n(e,null)})},n)}},{key:"getPushTriggerOption",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.getPushTriggerOption({},function(n,t){e(n,t?t.push_trigger_option:null)})},e)}},{key:"setPushTriggerOption",value:function(e,n){var t=this;return ye(this._iid,function(n){Object.keys(t.PushTriggerOption).map(function(e){return t.PushTriggerOption[e]}).indexOf(e)>-1?P.get(t._iid).container.apiClient.setPushTriggerOption({pushTriggerOption:e},function(e,t){n(e,t?t.push_trigger_option:null)}):n(ie.error,null)},n)}},{key:"getGroupChannelCount",value:function(e,n){var t,r=this,i=F.get(this._iid).GroupChannel,a=I(ie.parse(arguments,[new ie({type:i.MemberStateFilter,optional:!0,defaultValue:i.MemberStateFilter.ALL}),new ie({type:"callback"})]),3);return t=a[0],e=a[1],n=a[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.getGroupChannelCount({memberStateFilter:e},function(e,t){var r=null;e||(r=parseInt(t.group_channel_count)),n(e,r)})},n)}},{key:"getTotalUnreadChannelCount",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.getTotalUnreadChannelCount({},function(n,t){var r=null;n||(r=parseInt(t.unread_count)),e(n,r)})},e)}},{key:"getTotalUnreadMessageCount",value:function(e,n){var t,r=this,i=F.get(this._iid),a=i.GroupChannel,s=i.GroupChannelTotalUnreadMessageCountParams,o=I(ie.parse(arguments,[new ie({type:"object",optional:!0,defaultValue:null,constraint:function(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})||e instanceof s}}),new ie({type:"callback"})]),3);return t=o[0],e=o[1],n=o[2],ye(this._iid,function(n){if(t)n(t,null);else{var i=a.SuperChannelFilter.ALL;if(e instanceof s){var o=e;e=o.channelCustomTypesFilter,i=o.superChannelFilter}P.get(r._iid).container.apiClient.getTotalUnreadMessageCount({customTypesFilter:e,superChannelFilter:i},function(e,t){var r=null;e||(r=parseInt(t.unread_count)),n(e,r)})}},n)}},{key:"getUnreadItemCount",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return e.length>0&&e.every(function(e){return Object.keys(De.UnreadItemKey).map(function(e){return De.UnreadItemKey[e]}).indexOf(e)>-1})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){if(t)n(t,null);else{var i=e.filter(function(n,t){return e.indexOf(n)===t});P.get(r._iid).container.apiClient.getUnreadItemCount({keys:i},function(e,t){n(e,t)})}},n)}},{key:"getSubscribedTotalUnreadMessageCount",value:function(){var e=P.get(this._iid).container.subscribedUnreadMessageCount;return e.all>=0?e.all:0}},{key:"getSubscribedCustomTypeTotalUnreadMessageCount",value:function(){var e=P.get(this._iid).container.subscribedUnreadMessageCount;if(Object.keys(e.custom_types).length>0){var n=0;for(var t in e.custom_types)n+=e.custom_types[t];return n}return 0}},{key:"getSubscribedCustomTypeUnreadMessageCount",value:function(e){if(e&&"string"==typeof e){var n=P.get(this._iid).container.subscribedUnreadMessageCount;return n.custom_types.hasOwnProperty(e)?n.custom_types[e]:0}return 0}},{key:"getMyPushTokensByToken",value:function(e,n,t){var r,i=this,a=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"string",constraint:function(e){return["gcm","apns","apns_voip"].indexOf(e)>-1}}),new ie({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],ye(this._iid,function(t){r?t(r,null):P.get(i._iid).container.apiClient.getPushTokens({ts:null,token:e,type:n},function(e,n){if(e)t(e,null);else{var r=n.type;t(null,{deviceTokens:n.device_tokens,type:r?r.toLowerCase():"unknown",hasMore:n.has_more,token:n.token})}})},t)}},{key:"getPushTemplate",value:function(e){var n=this;return ye(this._iid,function(e){P.get(n._iid).container.apiClient.getPushTemplate({},function(n,t){var r=null;n||(r=t.name.toString()),e(n,r)})},e)}},{key:"setPushTemplate",value:function(e,n){var t=this;return ye(this._iid,function(n){[t.PUSH_TEMPLATE_DEFAULT,t.PUSH_TEMPLATE_ALTERNATIVE].indexOf(e)>-1?P.get(t._iid).container.apiClient.setPushTemplate({templateName:e},function(e,t){var r=null;e||(r=t.name.toString()),n(e,r)}):n(ie.error,null)},n)}},{key:"markAsReadAll",value:function(e){var n=this;return ye(this._iid,function(e){var t=F.get(n._iid).GroupChannel,r=(new Date).getTime();r-t.markAsReadAllLastSentAt<1e3?e(new w("MarkAsRead rate limit exceeded.",w.MARK_AS_READ_RATE_LIMIT_EXCEEDED),null):(t.markAsReadAllLastSentAt=r,P.get(n._iid).container.apiClient.markAsReadAll({channelUrls:null},function(i,a){if(!i)for(var s in t.cachedChannels)n.currentUser&&t.cachedChannels[s].updateReadReceipt(n.currentUser.userId,r),t.cachedChannels[s]._setGroupChannelUnreadCount(0,0);e(i,null)}))},e)}},{key:"markAsReadWithChannelUrls",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){if(t)n(t,null);else{var i=(new Date).getTime();P.get(r._iid).container.apiClient.markAsReadAll({channelUrls:e},function(t,a){if(!t)for(var s in e){var o=e[s];De.cachedChannels[o]&&(r.currentUser&&De.cachedChannels[o].updateReadReceipt(r.currentUser.userId,i),De.cachedChannels[o]._setGroupChannelUnreadCount(0,0))}n(t,null)})}},n)}},{key:"markAsDelivered",value:function(e){"string"==typeof e&&F.get(this._iid).GroupChannel.getChannel(e,T.INTERNAL_CALL,function(e,n){e||n.markAsDelivered()})}},{key:"getFriendChangeLogsByToken",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string",optional:!0,defaultValue:null}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.getFriendChangeLogsByToken({token:e},function(e,t){var i=null;if(!e){var a=F.get(r._iid).User;i={updatedUsers:t.updated.map(function(e){return new a(e)}),deletedUserIds:t.deleted,hasMore:t.has_more,token:t.next}}n(e,i)})},n)}},{key:"uploadFriendDiscoveries",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return e.every(function(e){return e.hasOwnProperty("friendDiscoveryKey")})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.uploadFriendDiscoveries({discoveries:e},function(e,t){n(e,t)})},n)}},{key:"deleteFriendDiscovery",value:function(e,n){var t,r=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"callback"})]),3);return t=r[0],e=r[1],n=r[2],t?ye(this._iid,function(e){e(t,null)},n):this.deleteFriendDiscoveries([e],n)}},{key:"deleteFriendDiscoveries",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.deleteFriendDiscoveries({discoveryKeys:e},function(e,t){n(e,t)})},n)}},{key:"addFriends",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.addFriends({userIds:e},function(e,t){var i=null;if(!e){var a=F.get(r._iid).User;i=t.users.map(function(e){return new a(e)})}n(e,i)})},n)}},{key:"deleteFriend",value:function(e,n){var t,r=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"callback"})]),3);return t=r[0],e=r[1],n=r[2],t?ye(this._iid,function(e){e(t,null)},n):this.deleteFriends([e],n)}},{key:"deleteFriends",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.deleteFriends({userIds:e},function(e,t){n(e,t)})},n)}},{key:"getAllEmoji",value:function(e){var n,t=this,r=I(ie.parse(arguments,[new ie({type:"callback"})]),2);return n=r[0],e=r[1],ye(this._iid,function(e){n?e(n,null):P.get(t._iid).container.apiClient.getAllEmoji(function(n,r){if(n)e(n,null);else{var i=new(0,F.get(t._iid).EmojiContainer)(r);e(null,i)}})},e)}},{key:"getEmojiCategory",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"number",constraint:function(e){return e>=0}}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.getEmojiCategory({categoryId:e},function(e,t){if(e)n(e,null);else{var i=new(0,F.get(r._iid).EmojiCategory)(t);n(null,i)}})},n)}},{key:"getEmoji",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"string"}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.getEmoji({emojiKey:e},function(e,t){if(e)n(e,null);else{var i=new(0,F.get(r._iid).Emoji)(t);n(null,i)}})},n)}},{key:"getAllowFriendDiscovery",value:function(e){var n,t=this,r=I(ie.parse(arguments,[new ie({type:"callback"})]),2);return n=r[0],e=r[1],ye(this._iid,function(e){n?e(n,null):P.get(t._iid).container.apiClient.getAllowFriendDiscovery(function(n,t){var r=t.allow_friend_discovery;n?e(n,null):e(null,r)})},e)}},{key:"setAllowFriendDiscovery",value:function(e,n){var t,r=this,i=I(ie.parse(arguments,[new ie({type:"boolean"}),new ie({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],ye(this._iid,function(n){t?n(t,null):P.get(r._iid).container.apiClient.setAllowFriendDiscovery({allowFriendDiscovery:e},function(t,r){t?n(t,null):n(null,e)})},n)}}],[{key:"version",get:function(){return T.SDK_VERSION}},{key:"LogLevel",get:function(){return W.supportedLogLevels}},{key:"getInstance",value:function(e){return e?Xn[e]:Jn}},{key:"getLogLevel",value:function(){return W.logLevel}},{key:"setLogLevel",value:function(e){var n=Object.values(W.supportedLogLevels);if(n.includes(e))W.logLevel=e;else{W.logLevel=W.defaultLogLevel;var t=n.map(function(e){return"'".concat(e,"'")}).join(", ");W.warn("`logLevel` parameter should be one of","".concat(t,","),"not `'".concat(e,"'`."),"Set to default log level","`".concat(W.defaultLogLevel,"`."))}}}]),e}();return $n});
},{"axios":"O4Aa","form-data":"UbHF","ws":"GN2V","process":"g5IB","buffer":"aMB2"}],"kvwx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.U=exports.R=exports.I=void 0;var e="INIT_USER";exports.I=e;var r="RESET_USER";exports.R=r;var t="UPDATE_USER_INFO";exports.U=t;
},{}],"lasz":[function(require,module,exports) {
"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={mimeType:t.mimeType||null,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},n=Array.isArray(e)?e:[e],o=Array.apply(null,Array(n.length)).map(function(e){return null});function s(e){var t="string"==typeof e,r=t&&"<"===e.trim().charAt(0);return t&&!r}function a(e,t){r.onError(e,n[t],t)}function c(e,t){var s=r.onSuccess(e,n[t],t);e=!1===s?"":s||e,o[t]=e,-1===o.indexOf(null)&&r.onComplete(o)}var i=document.createElement("a");n.forEach(function(e,t){if(i.setAttribute("href",e),i.href=String(i.href),Boolean(document.all&&!window.atob)&&i.host.split(":")[0]!==location.host.split(":")[0]){if(i.protocol===location.protocol){var n=new XDomainRequest;n.open("GET",e),n.timeout=0,n.onprogress=Function.prototype,n.ontimeout=Function.prototype,n.onload=function(){var e=n.responseText;s(e)?c(e,t):a(n,t)},n.onerror=function(e){a(n,t)},setTimeout(function(){n.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(e,")")),a(null,t)}else{var o=new XMLHttpRequest;o.open("GET",e),r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType),r.onBeforeSend(o,e,t),o.onreadystatechange=function(){if(4===o.readyState){var e=o.responseText;o.status<400&&s(e)?c(e,t):0===o.status&&s(e)?c(e,t):a(o,t)}},o.send()}})}function r(e){var r={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},s={rootElement:e.rootElement||document,include:e.include||'style,link[rel="stylesheet"]',exclude:e.exclude||null,filter:e.filter||null,skipDisabled:!1!==e.skipDisabled,useCSSOM:e.useCSSOM||!1,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},a=Array.apply(null,s.rootElement.querySelectorAll(s.include)).filter(function(e){return!o(e,s.exclude)}),c=Array.apply(null,Array(a.length)).map(function(e){return null});function i(){if(-1===c.indexOf(null)){c.reduce(function(e,t,r){return""===t&&e.push(r),e},[]).reverse().forEach(function(e){return[a,c].forEach(function(t){return t.splice(e,1)})});var e=c.join("");s.onComplete(e,c,a)}}function u(e,r,n,o){var a=s.onSuccess(e,n,o);(function e(r,n,o,a){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];var u=l(r,o,i);u.rules.length?t(u.absoluteUrls,{onBeforeSend:function(e,t,r){s.onBeforeSend(e,n,t)},onSuccess:function(e,t,r){var o=s.onSuccess(e,n,t),a=l(e=!1===o?"":o||e,t,i);return a.rules.forEach(function(t,r){e=e.replace(t,a.absoluteRules[r])}),e},onError:function(t,s,l){c.push({xhr:t,url:s}),i.push(u.rules[l]),e(r,n,o,a,c,i)},onComplete:function(t){t.forEach(function(e,t){r=r.replace(u.rules[t],e)}),e(r,n,o,a,c,i)}}):a(r,c)})(e=void 0!==a&&!1===Boolean(a)?"":a||e,n,o,function(e,t){null===c[r]&&(t.forEach(function(e){return s.onError(e.xhr,n,e.url)}),!s.filter||s.filter.test(e)?c[r]=e:c[r]="",i())})}function l(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s={};return s.rules=(e.replace(r.cssComments,"").match(r.cssImports)||[]).filter(function(e){return-1===o.indexOf(e)}),s.urls=s.rules.map(function(e){return e.replace(r.cssImports,"$1")}),s.absoluteUrls=s.urls.map(function(e){return n(e,t)}),s.absoluteRules=s.rules.map(function(e,r){var o=s.urls[r],a=n(s.absoluteUrls[r],t);return e.replace(o,a)}),s}a.length?a.forEach(function(e,r){var o=e.getAttribute("href"),a=e.getAttribute("rel"),l="link"===e.nodeName.toLowerCase()&&o&&a&&-1!==a.toLowerCase().indexOf("stylesheet"),f=!1!==s.skipDisabled&&e.disabled,d="style"===e.nodeName.toLowerCase();if(l&&!f)t(o,{mimeType:"text/css",onBeforeSend:function(t,r,n){s.onBeforeSend(t,e,r)},onSuccess:function(t,s,a){var c=n(o);u(t,r,e,c)},onError:function(t,n,o){c[r]="",s.onError(t,e,n),i()}});else if(d&&!f){var p=e.textContent;s.useCSSOM&&(p=Array.apply(null,e.sheet.cssRules).map(function(e){return e.cssText}).join("")),u(p,r,e,location.href)}else c[r]="",i()}):s.onComplete("",[])}function n(e,t){var r=document.implementation.createHTMLDocument(""),n=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(o),n.href=t||document.baseURI||(document.querySelector("base")||{}).href||location.href,o.href=e,o.href}function o(e,t){return(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector).call(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=a;function a(e,t,r){e instanceof RegExp&&(e=c(e,r)),t instanceof RegExp&&(t=c(t,r));var n=i(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function c(e,t){var r=t.match(e);return r?r[0]:null}function i(e,t,r){var n,o,s,a,c,i=r.indexOf(e),u=r.indexOf(t,i+1),l=i;if(i>=0&&u>0){if(e===t)return[i,u];for(n=[],s=r.length;l>=0&&!c;)l==i?(n.push(l),i=r.indexOf(e,l+1)):1==n.length?c=[n.pop(),u]:((o=n.pop())<s&&(s=o,a=u),u=r.indexOf(t,l+1)),l=i<u&&i>=0?i:u;n.length&&(c=[s,a])}return c}function u(t){var r=e({},{preserveStatic:!0,removeComments:!1},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});function n(e){throw new Error("CSS parse error: ".concat(e))}function o(e){var r=e.exec(t);if(r)return t=t.slice(r[0].length),r}function a(){return o(/^{\s*/)}function c(){return o(/^}/)}function i(){o(/^\s*/)}function u(){if(i(),"/"===t[0]&&"*"===t[1]){for(var e=2;t[e]&&("*"!==t[e]||"/"!==t[e+1]);)e++;if(!t[e])return n("end of comment is missing");var r=t.slice(2,e);return t=t.slice(e+2),{type:"comment",comment:r}}}function l(){for(var e,t=[];e=u();)t.push(e);return r.removeComments?[]:t}function f(){for(i();"}"===t[0];)n("extra closing bracket");var e=o(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(e){var r,s=e[0].trim();/\/\*/.test(s)&&(s=s.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var a=/["']\w*,\w*["']/.test(s);return a&&(s=s.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(e){return e.replace(/,/g,"")})),r=/,/.test(s)?s.split(/\s*(?![^(]*\)),\s*/):[s],a&&(r=r.map(function(e){return e.replace(/\u200C/g,",")})),r}}function d(){if("@"===t[0])return v();o(/^([;\s]*)+/);var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=o(/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(r){if(r=r[0].trim(),!o(/^:\s*/))return n("property missing ':'");var s=o(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),a={type:"declaration",property:r.replace(e,""),value:s?s[0].replace(e,"").trim():""};return o(/^[;\s]*/),a}}function p(){if(!a())return n("missing '{'");for(var e,t=l();e=d();)t.push(e),t=t.concat(l());return c()?t:n("missing '}'")}function m(){i();for(var e,t=[];e=o(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),o(/^,\s*/);if(t.length)return{type:"keyframe",values:t,declarations:p()}}function v(){if(i(),"@"===t[0]){var e=function(){var e=o(/^@(import|charset|namespace)\s*([^;]+);/);if(e)return{type:e[1],name:e[2].trim()}}()||function(){if(o(/^@font-face\s*/))return{type:"font-face",declarations:p()}}()||function(){var e=o(/^@media([^{]+)*/);if(e)return{type:"media",media:(e[1]||"").trim(),rules:g()}}()||function(){var e=o(/^@([-\w]+)?keyframes\s*/);if(e){var t=e[1];if(!(e=o(/^([-\w]+)\s*/)))return n("@keyframes missing name");var r,s=e[1];if(!a())return n("@keyframes missing '{'");for(var i=l();r=m();)i.push(r),i=i.concat(l());return c()?{type:"keyframes",name:s,vendor:t,keyframes:i}:n("@keyframes missing '}'")}}()||function(){var e=o(/^@supports *([^{]+)/);if(e)return{type:"supports",supports:e[1].trim(),rules:g()}}()||function(){var e=o(/^@([-\w]+)?document *([^{]+)/);if(e)return{type:"document",document:e[2].trim(),vendor:e[1]?e[1].trim():null,rules:g()}}()||function(){var e=o(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(e)return{type:"custom-media",name:e[1].trim(),media:e[2].trim()}}()||function(){if(o(/^@host\s*/))return{type:"host",rules:g()}}()||function(){if(o(/^@page */))return{type:"page",selectors:f()||[],declarations:p()}}()||function(){var e=o(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(e)return{type:"page-margin-box",name:"".concat(e[1],"-").concat(e[2])+(e[3]?"-".concat(e[3]):""),declarations:p()}}();if(e&&!r.preserveStatic){var s=!1;if(e.declarations)s=e.declarations.some(function(e){return/var\(/.test(e.value)});else s=(e.keyframes||e.rules||[]).some(function(e){return(e.declarations||[]).some(function(e){return/var\(/.test(e.value)})});return s?e:{}}return e}}function h(){if(!r.preserveStatic){var e=s("{","}",t);if(e){var o=/:(?:root|host)(?![.:#(])/.test(e.pre)&&/--\S*\s*:/.test(e.body),a=/var\(/.test(e.body);if(!o&&!a)return t=t.slice(e.end+1),{}}}var c=f()||[],i=r.preserveStatic?p():p().filter(function(e){var t=c.some(function(e){return/:(?:root|host)(?![.:#(])/.test(e)})&&/^--\S/.test(e.property),r=/var\(/.test(e.value);return t||r});return c.length||n("selector missing"),{type:"rule",selectors:c,declarations:i}}function g(e){if(!e&&!a())return n("missing '{'");for(var r,o=l();t.length&&(e||"}"!==t[0])&&(r=v()||h());)r.type&&o.push(r),o=o.concat(l());return e||c()?o:n("missing '}'")}return{type:"stylesheet",stylesheet:{rules:g(!0),errors:[]}}}function l(t){var r=e({},{parseHost:!1,store:{},onWarning:function(){}},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=new RegExp(":".concat(r.parseHost?"host":"root","$"));return"string"==typeof t&&(t=u(t,r)),t.stylesheet.rules.forEach(function(e){"rule"===e.type&&e.selectors.some(function(e){return n.test(e)})&&e.declarations.forEach(function(e,t){var n=e.property,o=e.value;n&&0===n.indexOf("--")&&(r.store[n]=o)})}),r.store}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n={charset:function(e){return"@charset "+e.name+";"},comment:function(e){return 0===e.comment.indexOf("__CSSVARSPONYFILL")?"/*"+e.comment+"*/":""},"custom-media":function(e){return"@custom-media "+e.name+" "+e.media+";"},declaration:function(e){return e.property+":"+e.value+";"},document:function(e){return"@"+(e.vendor||"")+"document "+e.document+"{"+o(e.rules)+"}"},"font-face":function(e){return"@font-face{"+o(e.declarations)+"}"},host:function(e){return"@host{"+o(e.rules)+"}"},import:function(e){return"@import "+e.name+";"},keyframe:function(e){return e.values.join(",")+"{"+o(e.declarations)+"}"},keyframes:function(e){return"@"+(e.vendor||"")+"keyframes "+e.name+"{"+o(e.keyframes)+"}"},media:function(e){return"@media "+e.media+"{"+o(e.rules)+"}"},namespace:function(e){return"@namespace "+e.name+";"},page:function(e){return"@page "+(e.selectors.length?e.selectors.join(", "):"")+"{"+o(e.declarations)+"}"},"page-margin-box":function(e){return"@"+e.name+"{"+o(e.declarations)+"}"},rule:function(e){var t=e.declarations;if(t.length)return e.selectors.join(",")+"{"+o(t)+"}"},supports:function(e){return"@supports "+e.supports+"{"+o(e.rules)+"}"}};function o(e){for(var o="",s=0;s<e.length;s++){var a=e[s];r&&r(a);var c=n[a.type](a);c&&(o+=c,c.length&&a.selectors&&(o+=t))}return o}return o(e.stylesheet.rules)}function d(e,t){e.rules.forEach(function(r){r.rules?d(r,t):r.keyframes?r.keyframes.forEach(function(e){"keyframe"===e.type&&t(e.declarations,r)}):r.declarations&&t(r.declarations,e)})}a.range=i;var p="--",m="var";function v(t){var r=e({},{preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return"string"==typeof t&&(t=u(t,r)),d(t.stylesheet,function(e,t){for(var n=0;n<e.length;n++){var o=e[n],s=o.type,a=o.property,c=o.value;if("declaration"===s)if(r.preserveVars||!a||0!==a.indexOf(p)){if(-1!==c.indexOf(m+"(")){var i=g(c,r);i!==o.value&&(i=h(i),r.preserveVars?(e.splice(n,0,{type:s,property:a,value:i}),n++):o.value=i)}}else e.splice(n,1),n--}}),f(t)}function h(e){return(e.match(/calc\(([^)]+)\)/g)||[]).forEach(function(t){var r="calc".concat(t.split("calc").join(""));e=e.replace(t,r)}),e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(-1===e.indexOf("var("))return e;var n=s("(",")",e);return n?"var"===n.pre.slice(-3)?0===n.body.trim().length?(t.onWarning("var() must contain a non-whitespace string"),e):n.pre.slice(0,-3)+function(e){var n=e.split(",")[0].replace(/[\s\n\t]/g,""),o=(e.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],s=Object.prototype.hasOwnProperty.call(t.variables,n)?String(t.variables[n]):void 0,a=s||(o?String(o):void 0),c=r||e;return s||t.onWarning('variable "'.concat(n,'" is undefined')),a&&"undefined"!==a&&a.length>0?g(a,t,c):"var(".concat(c,")")}(n.body)+g(n.post,t):n.pre+"(".concat(g(n.body,t),")")+g(n.post,t):(-1!==e.indexOf("var(")&&t.onWarning('missing closing ")" in the value "'.concat(e,'"')),e)}var y="undefined"!=typeof window,b=y&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),S={group:0,job:0},E={rootElement:y?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},w={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},C={dom:{},job:{},user:{}},x=!1,O=null,A=0,_=null,k=!1;function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="cssVars(): ",o=e({},E,t);function s(e,t,r,s){!o.silent&&window.console&&console.error("".concat(n).concat(e,"\n"),t),o.onError(e,t,r,s)}function a(e){!o.silent&&window.console&&console.warn("".concat(n).concat(e)),o.onWarning(e)}function c(e){o.onFinally(Boolean(e),b,T()-o.__benchmark)}if(y){if(o.watch)return o.watch=E.watch,L(o),void j(o);if(!1===o.watch&&O&&(O.disconnect(),O=null),!o.__benchmark){if(x===o.rootElement)return void M(t);var i=[].slice.call(o.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(o.__benchmark=T(),o.exclude=[O?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",o.exclude].filter(function(e){return e}).join(","),o.variables=D(o.variables),i.forEach(function(e){var t="style"===e.nodeName.toLowerCase()&&e.__cssVars.text,r=t&&e.textContent!==e.__cssVars.text;t&&r&&(e.sheet&&(e.sheet.disabled=!1),e.setAttribute("data-cssvars",""))}),!O)[].slice.call(o.rootElement.querySelectorAll('[data-cssvars="out"]')).forEach(function(e){var t=e.getAttribute("data-cssvars-group");(t?o.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(t,'"]')):null)||e.parentNode.removeChild(e)}),A&&i.length<A&&(A=i.length,C.dom={})}if("loading"!==document.readyState)if(b&&o.onlyLegacy){var d=!1;if(o.updateDOM){var p=o.rootElement.host||(o.rootElement===document?document.documentElement:o.rootElement);Object.keys(o.variables).forEach(function(e){var t=o.variables[e];d=d||t!==getComputedStyle(p).getPropertyValue(e),p.style.setProperty(e,t)})}c(d)}else!k&&(o.shadowDOM||o.rootElement.shadowRoot||o.rootElement.host)?r({rootElement:E.rootElement,include:E.include,exclude:o.exclude,skipDisabled:!1,onSuccess:function(e,t,r){return!((t.sheet||{}).disabled&&!t.__cssVars)&&((e=((e=e.replace(w.cssComments,"").replace(w.cssMediaQueries,"")).match(w.cssVarDeclRules)||[]).join(""))||!1)},onComplete:function(e,t,r){l(e,{store:C.dom,onWarning:a}),k=!0,j(o)}}):(x=o.rootElement,r({rootElement:o.rootElement,include:o.include,exclude:o.exclude,skipDisabled:!1,onBeforeSend:o.onBeforeSend,onError:function(e,t,r){var n=e.responseURL||N(r,location.href),o=e.statusText?"(".concat(e.statusText,")"):"Unspecified Error"+(0===e.status?" (possibly CORS related)":"");s("CSS XHR Error: ".concat(n," ").concat(e.status," ").concat(o),t,e,n)},onSuccess:function(e,t,r){if((t.sheet||{}).disabled&&!t.__cssVars)return!1;var n="link"===t.nodeName.toLowerCase(),s="style"===t.nodeName.toLowerCase()&&e!==t.textContent,a=o.onSuccess(e,t,r);return e=void 0!==a&&!1===Boolean(a)?"":a||e,o.updateURLs&&(n||s)&&(e=R(e,r)),e},onComplete:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e({},C.dom,C.user);if(C.job={},n.forEach(function(e,t){var n=r[t];if(e.__cssVars=e.__cssVars||{},e.__cssVars.text=n,w.cssVars.test(n))try{var c=u(n,{preserveStatic:o.preserveStatic,removeComments:!0});l(c,{parseHost:Boolean(o.rootElement.host),store:C.dom,onWarning:a}),e.__cssVars.tree=c}catch(i){s(i.message,e)}}),e(C.job,C.dom),o.updateDOM?(e(C.user,o.variables),e(C.job,C.user)):(e(C.job,C.user,o.variables),e(i,o.variables)),S.job>0&&Boolean(Object.keys(C.job).length>Object.keys(i).length||Boolean(Object.keys(i).length&&Object.keys(C.job).some(function(e){return C.job[e]!==i[e]}))))B(o.rootElement),j(o);else{var d=[],p=[],m=!1;if(o.updateDOM&&S.job++,n.forEach(function(t,n){var c=!t.__cssVars.tree;if(t.__cssVars.tree)try{v(t.__cssVars.tree,e({},o,{variables:C.job,onWarning:a}));var i=f(t.__cssVars.tree);if(o.updateDOM){var u=r[n],l=w.cssVarFunc.test(u);if(t.getAttribute("data-cssvars")||t.setAttribute("data-cssvars","src"),i.length&&l){var h=t.getAttribute("data-cssvars-group")||++S.group,g=i.replace(/\s/g,""),y=o.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(h,'"]'))||document.createElement("style");m=m||w.cssKeyframes.test(i),o.preserveStatic&&t.sheet&&(t.sheet.disabled=!0),y.hasAttribute("data-cssvars")||y.setAttribute("data-cssvars","out"),g===t.textContent.replace(/\s/g,"")?(c=!0,y&&y.parentNode&&(t.removeAttribute("data-cssvars-group"),y.parentNode.removeChild(y))):g!==y.textContent.replace(/\s/g,"")&&([t,y].forEach(function(e){e.setAttribute("data-cssvars-job",S.job),e.setAttribute("data-cssvars-group",h)}),y.textContent=i,d.push(i),p.push(y),y.parentNode||t.parentNode.insertBefore(y,t.nextSibling))}}else t.textContent.replace(/\s/g,"")!==i&&d.push(i)}catch(b){s(b.message,t)}c&&t.setAttribute("data-cssvars","skip"),t.hasAttribute("data-cssvars-job")||t.setAttribute("data-cssvars-job",S.job)}),A=o.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,o.shadowDOM)for(var h,g=[].concat(o.rootElement).concat([].slice.call(o.rootElement.querySelectorAll("*"))),y=0;h=g[y];++y){if(h.shadowRoot&&h.shadowRoot.querySelector("style"))j(e({},o,{rootElement:h.shadowRoot}))}o.updateDOM&&m&&V(o.rootElement),x=!1,o.onComplete(d.join(""),p,JSON.parse(JSON.stringify(C.job)),T()-o.__benchmark),c(p.length)}}}));else document.addEventListener("DOMContentLoaded",function e(r){j(t),document.removeEventListener("DOMContentLoaded",e)})}}function L(e){function t(e){var t=r(e)&&e.hasAttribute("disabled"),n=(e.sheet||{}).disabled;return t||n}function r(e){return"link"===e.nodeName.toLowerCase()&&-1!==(e.getAttribute("rel")||"").indexOf("stylesheet")}function n(e){return"style"===e.nodeName.toLowerCase()}window.MutationObserver&&(O&&(O.disconnect(),O=null),(O=new MutationObserver(function(o){o.some(function(o){return function(n){var o=!1;if("attributes"===n.type&&r(n.target)&&!t(n.target)){var s="disabled"===n.attributeName,a="href"===n.attributeName,c="skip"===n.target.getAttribute("data-cssvars"),i="src"===n.target.getAttribute("data-cssvars");s?o=!c&&!i:a&&(c?n.target.setAttribute("data-cssvars",""):i&&B(e.rootElement,!0),o=!0)}return o}(o)||function(e){var t=!1;if("childList"===e.type){var r=n(e.target),o="out"===e.target.getAttribute("data-cssvars");t=r&&!o}return t}(o)||function(e){var o=!1;return"childList"===e.type&&(o=[].slice.call(e.addedNodes).some(function(e){var o=1===e.nodeType&&e.hasAttribute("data-cssvars"),s=n(e)&&w.cssVars.test(e.textContent);return!o&&(r(e)||s)&&!t(e)})),o}(o)||function(t){var r=!1;return"childList"===t.type&&(r=[].slice.call(t.removedNodes).some(function(t){var r=1===t.nodeType,n=r&&"out"===t.getAttribute("data-cssvars"),o=r&&"src"===t.getAttribute("data-cssvars"),s=o;if(o||n){var a=t.getAttribute("data-cssvars-group"),c=e.rootElement.querySelector('[data-cssvars-group="'.concat(a,'"]'));o&&B(e.rootElement,!0),c&&c.parentNode.removeChild(c)}return s})),r}(o)})&&j(e)})).observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;clearTimeout(_),_=setTimeout(function(){e.__benchmark=null,j(e)},t)}function V(e){var t=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(e){return getComputedStyle(document.body)[e]})[0];if(t){for(var r=e.getElementsByTagName("*"),n=[],o=0,s=r.length;o<s;o++){var a=r[o];"none"!==getComputedStyle(a)[t]&&(a.style[t]+="__CSSVARSPONYFILL-KEYFRAMES__",n.push(a))}document.body.offsetHeight;for(var c=0,i=n.length;c<i;c++){var u=n[c].style;u[t]=u[t].replace("__CSSVARSPONYFILL-KEYFRAMES__","")}}}function R(e,t){return(e.replace(w.cssComments,"").match(w.cssUrls)||[]).forEach(function(r){var n=r.replace(w.cssUrls,"$1"),o=N(n,t);e=e.replace(r,r.replace(n,o))}),e}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=/^-{2}/;return Object.keys(e).reduce(function(r,n){return r[t.test(n)?n:"--".concat(n.replace(/^-+/,""))]=e[n],r},{})}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,r=document.implementation.createHTMLDocument(""),n=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(o),n.href=t,o.href=e,o.href}function T(){return y&&(window.performance||{}).now?window.performance.now():(new Date).getTime()}function B(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];[].slice.call(e.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]')).forEach(function(e){return e.setAttribute("data-cssvars","")}),t&&(C.dom={})}j.reset=function(){for(var e in S.job=0,S.group=0,x=!1,O&&(O.disconnect(),O=null),A=0,_=null,k=!1,C)C[e]={}};var F=j;exports.default=F;
},{}],"Mt7d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./LocalizationContext-12658c38.js"),r=s(require("react")),n=a(require("prop-types")),i=a(require("sendbird")),t=require("./actionTypes-a85c0eaa.js"),d=a(require("css-vars-ponyfill"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:r})(e)}function s(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(r);if(n&&n.has(e))return n.get(e);var i={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var a=t?Object.getOwnPropertyDescriptor(e,d):null;a&&(a.get||a.set)?Object.defineProperty(i,d,a):i[d]=e[d]}return i.default=e,n&&n.set(e,i),i}var c="INIT_SDK",u="SET_SDK_LOADING",l="RESET_SDK",f="SDK_ERROR",p="2.2.1",b=function(e){var r=e.sdkDispatcher,n=e.userDispatcher,i=e.sdk,d=e.onDisconnect;r({type:u,payload:!0}),i&&i.disconnect?i.disconnect().then(function(){r({type:l}),n({type:t.R})}).finally(function(){d()}):d()},g=function(e,r){var n=e.userId,d=e.appId,a=e.nickname,o=e.profileUrl,s=e.accessToken,g=e.sdk,h=e.logger,k=r.sdkDispatcher,y=r.userDispatcher;b({sdkDispatcher:k,userDispatcher:y,sdk:g,logger:h,onDisconnect:function(){if(h.info("Setup connection"),k({type:u,payload:!0}),n&&d){var e=new i.default({appId:d});e.addExtension("sb_uikit",p);var r=function(r){k({type:c,payload:e}),y({type:t.I,payload:r});var n=a||r.nickname,i=o||r.profileUrl;e.updateCurrentUserInfo(n,i).then(function(e){y({type:t.U,payload:e})})},b=function(e){h.error("Connection failed","".concat(e)),k({type:l}),k({type:t.R}),k({type:f})};s?e.connect(n,s).then(function(e){return r(e)}).catch(function(e){return b(e)}):e.connect(n).then(function(e){return r(e)}).catch(function(e){return b(e)})}else k({type:f}),h.warning("Connection failed","UserId or appId missing")}})},h=function(e){if(null==e)return!0;for(var r in e)if(e.hasOwnProperty(r))return!1;return JSON.stringify(e)===JSON.stringify({})},k=function(n){(0,r.useLayoutEffect)(function(){h(n)||(0,d.default)({variables:(0,e._)({"--sendbird-dark-primary-500":"#4d2aa6","--sendbird-dark-primary-400":"#6440C4","--sendbird-dark-primary-300":"#7B53EF","--sendbird-dark-primary-200":"#9E8CF5","--sendbird-dark-primary-100":"#E2DFFF","--sendbird-dark-secondary-500":"#007A7A","--sendbird-dark-secondary-400":"#189A8D","--sendbird-dark-secondary-300":"#2EBA9F","--sendbird-dark-secondary-200":"#6FD6BE","--sendbird-dark-secondary-100":"#AEF2DC","--sendbird-dark-information-100":"#b2d9ff","--sendbird-dark-error-500":"#A30E2D","--sendbird-dark-error-400":"#C11F41","--sendbird-dark-error-300":"#E53157","--sendbird-dark-error-200":"#FF6183","--sendbird-dark-error-100":"#FFABBD","--sendbird-dark-background-700":"#000000","--sendbird-dark-background-600":"#161616","--sendbird-dark-background-500":"#2C2C2C","--sendbird-dark-background-400":"#393939","--sendbird-dark-background-300":"#A8A8A8","--sendbird-dark-background-200":"#D9D9D9","--sendbird-dark-background-100":"#F0F0F0","--sendbird-dark-background-50":"#FFFFFF","--sendbird-dark-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-dark-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-dark-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-dark-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-dark-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-dark-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-dark-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-dark-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-dark-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-dark-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-dark-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-primary-500":"#4d2aa6","--sendbird-light-primary-400":"#6440C4","--sendbird-light-primary-300":"#7B53EF","--sendbird-light-primary-200":"#9E8CF5","--sendbird-light-primary-100":"#E2DFFF","--sendbird-light-secondary-500":"#007A7A","--sendbird-light-secondary-400":"#189A8D","--sendbird-light-secondary-300":"#2EBA9F","--sendbird-light-secondary-200":"#6FD6BE","--sendbird-light-secondary-100":"#AEF2DC","--sendbird-light-information-100":"#b2d9ff","--sendbird-light-error-500":"#A30E2D","--sendbird-light-error-400":"#C11F41","--sendbird-light-error-300":"#E53157","--sendbird-light-error-200":"#FF6183","--sendbird-light-error-100":"#FFABBD","--sendbird-light-background-700":"#000000","--sendbird-light-background-600":"#161616","--sendbird-light-background-500":"#2C2C2C","--sendbird-light-background-400":"#393939","--sendbird-light-background-300":"#A8A8A8","--sendbird-light-background-200":"#D9D9D9","--sendbird-light-background-100":"#F0F0F0","--sendbird-light-background-50":" #FFFFFF","--sendbird-light-overlay":"rgba(0, 0, 0, 0.32)","--sendbird-light-onlight-01":"rgba(0, 0, 0, 0.88)","--sendbird-light-onlight-02":"rgba(0, 0, 0, 0.50)","--sendbird-light-onlight-03":"rgba(0, 0, 0, 0.38)","--sendbird-light-onlight-04":"rgba(0, 0, 0, 0.12)","--sendbird-light-ondark-01":"rgba(255, 255, 255, 0.88)","--sendbird-light-ondark-02":"rgba(255, 255, 255, 0.50)","--sendbird-light-ondark-03":"rgba(255, 255, 255, 0.38)","--sendbird-light-ondark-04":"rgba(255, 255, 255, 0.12)","--sendbird-light-shadow-01":"0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-02":"0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-03":"0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-04":"0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)","--sendbird-light-shadow-message-input":"0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},n)})},[n])},y={initialized:!1,loading:!1,sdk:{},error:!1};function x(r,n){switch(n.type){case u:return(0,e.a)({},r,{initialized:!1,loading:n.payload});case f:return(0,e.a)({},r,{initialized:!1,loading:!1,error:!0});case c:return{sdk:n.payload,initialized:!0,loading:!1,error:!1};case l:return y;default:return r}}var m={initialized:!1,loading:!1,user:{}};function v(r,n){switch(n.type){case t.I:return{initialized:!0,loading:!1,user:n.payload};case t.R:return m;case t.U:return(0,e.a)({},r,{user:n.payload});default:return r}}function E(n,i){var t=(0,r.useState)(!0),d=(0,e.b)(t,2),a=d[0],o=d[1];return(0,r.useEffect)(function(){var r,t=(0,e.u)();return i.warning("sdk changed",t),n&&n.ConnectionHandler&&((r=new n.ConnectionHandler).onReconnectStarted=function(){o(!1),i.warning("onReconnectStarted",{isOnline:a})},r.onReconnectSucceeded=function(){o(!0),i.warning("onReconnectSucceeded",{isOnline:a})},r.onReconnectFailed=function(){n.reconnect(),i.warning("onReconnectFailed")},i.info("Added ConnectionHandler",t),n.addConnectionHandler(t,r)),function(){try{n.removeConnectionHandler(t),i.info("Removed ConnectionHandler",t)}catch(e){}}},[n]),(0,r.useEffect)(function(){var e=function(){try{i.warning("Try reconnecting SDK"),"OPEN"!==n.getConnectionState()&&n.reconnect()}catch(e){}};return window.addEventListener("online",e),function(){window.removeEventListener("online",e)}},[n]),(0,r.useEffect)(function(){var e=document.querySelector("body");if(a)try{e.classList.remove("sendbird__offline"),i.info("Removed class sendbird__offline from body")}catch(r){}else try{e.classList.add("sendbird__offline"),i.info("Added class sendbird__offline to body")}catch(r){}},[a]),a}var F={DEBUG:"debug",WARNING:"warning",ERROR:"error",INFO:"info",ALL:"all"},w=function(e){switch(e){case F.WARNING:return"color: Orange";case F.ERROR:return"color: Red";default:return"color: Gray"}},D=function(e){var r=e.level,n=e.title,i=e.description,t=void 0===i?"":i;console.log("%c SendbirdUIKit | ".concat(r," | ").concat((new Date).toISOString()," | ").concat(n," ").concat(t&&"|"),w(r),t)},R=function(){return{info:function(){},error:function(){},warning:function(){}}},S=function(r,n){var i=n||D,t=Array.isArray(r)?r:[r],d=function(e){return function(r,n){return i({level:e,title:r,description:n})}};return t.reduce(function(r,n){return n===F.DEBUG||n===F.ALL?(0,e.a)({},r,{info:d(F.INFO),error:d(F.ERROR),warning:d(F.WARNING)}):n===F.INFO?(0,e.a)({},r,{info:d(F.INFO)}):n===F.ERROR?(0,e.a)({},r,{error:d(F.ERROR)}):n===F.WARNING?(0,e.a)({},r,{warning:d(F.WARNING)}):(0,e.a)({},r)},R())},O=function(){var e={},r=e.hasOwnProperty;return{__getTopics:function(){return e},subscribe:function(n,i){r.call(e,n)||(e[n]=[]);var t=e[n].push(i)-1;return{remove:function(){delete e[n][t]}}},publish:function(n,i){r.call(e,n)&&e[n].forEach(function(e){e(void 0!==i?i:{})})}}};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;(0,r.useEffect)(function(){var r=document.querySelector(n);return e.forEach(function(e){var n=document.createElement("div");n.setAttribute("id",e),r.appendChild(n)}),function(){e.forEach(function(e){var n=document.getElementById(e);n&&r.removeChild(n)})}},[])}function I(n){var i=n.userId,t=n.appId,d=n.accessToken,a=n.children,o=n.disableUserProfile,s=n.renderUserProfile,c=n.allowProfileEdit,u=n.theme,l=n.nickname,f=n.profileUrl,p=n.userListQuery,b=n.config,h=void 0===b?{}:b,F=n.colorSet,w=n.stringSet,D=n.imageCompression,R=h.logLevel,I=void 0===R?"":R,C=(0,r.useState)(S(I)),L=(0,e.b)(C,2),P=L[0],_=L[1],U=(0,r.useState)(),N=(0,e.b)(U,2),T=N[0],q=N[1],B=(0,r.useReducer)(x,y),j=(0,e.b)(B,2),z=j[0],G=j[1],W=(0,r.useReducer)(v,m),H=(0,e.b)(W,2),M=H[0],K=H[1];k(F),(0,r.useEffect)(function(){q(O())},[]),(0,r.useEffect)(function(){P.info("App Init"),g({userId:i,appId:t,accessToken:d,sdkStore:z,nickname:l,profileUrl:f,sdk:z.sdk,logger:P},{sdkDispatcher:G,userDispatcher:K})},[i,t,d]),(0,r.useEffect)(function(){_(S(I))},[I]),A(["sendbird-modal-root","sendbird-dropdown-portal","sendbird-emoji-list-portal"],"body");var Q=(0,r.useState)(u),J=(0,e.b)(Q,2),V=J[0],X=J[1];(0,r.useEffect)(function(){X(u)},[u]),(0,r.useEffect)(function(){P.info("Setup theme","Theme: ".concat(V));try{var e=document.querySelector("body");e.classList.remove("sendbird-theme--light"),e.classList.remove("sendbird-theme--dark"),e.classList.add("sendbird-theme--".concat(V||"light")),P.info("Finish setup theme")}catch(r){P.warning("Setup theme failed","".concat(r))}return function(){try{var e=document.querySelector("body");e.classList.remove("sendbird-theme--light"),e.classList.remove("sendbird-theme--dark")}catch(r){}}},[V]);var Y=E(z.sdk,P),Z=r.default.useMemo(function(){return w?(0,e.a)({},(0,e.g)("en"),{},w):(0,e.g)("en")},[w]);return r.default.createElement(e.S.Provider,{value:{stores:{sdkStore:z,userStore:M},dispatchers:{sdkDispatcher:G,userDispatcher:K,reconnect:function(){g({userId:i,appId:t,accessToken:d,sdkStore:z,nickname:l,profileUrl:f,logger:P,sdk:z.sdk},{sdkDispatcher:G,userDispatcher:K})}},config:{disableUserProfile:o,renderUserProfile:s,allowProfileEdit:c,isOnline:Y,userId:i,appId:t,accessToken:d,theme:V,setCurrenttheme:X,userListQuery:p,logger:P,pubSub:T,imageCompression:D}}},r.default.createElement(e.L,{stringSet:Z},a))}I.propTypes={userId:n.default.string.isRequired,appId:n.default.string.isRequired,accessToken:n.default.string,children:n.default.oneOfType([n.default.element,n.default.arrayOf(n.default.element),n.default.any]).isRequired,theme:n.default.string,nickname:n.default.string,profileUrl:n.default.string,disableUserProfile:n.default.bool,renderUserProfile:n.default.func,allowProfileEdit:n.default.bool,userListQuery:n.default.func,config:n.default.shape({logLevel:n.default.oneOfType([n.default.string,n.default.arrayOf(n.default.string)]),pubSub:n.default.shape({subscribe:n.default.func,publish:n.default.func})}),stringSet:n.default.objectOf(n.default.string),colorSet:n.default.objectOf(n.default.string),imageCompression:n.default.shape({compressionRate:n.default.number,resizingWidth:n.default.oneOfType([n.default.number,n.default.string]),resizingHeight:n.default.oneOfType([n.default.number,n.default.string])})},I.defaultProps={accessToken:"",theme:"light",nickname:"",profileUrl:"",disableUserProfile:!1,renderUserProfile:null,allowProfileEdit:!1,userListQuery:null,config:{},stringSet:null,colorSet:null,imageCompression:{}};var C=I;exports.default=C;
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","sendbird":"cz0G","./actionTypes-a85c0eaa.js":"kvwx","css-vars-ponyfill":"lasz"}],"X2nd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.I=sl,exports.L=Al,exports.P=Hl,exports.g=c,exports.h=zl,exports.j=bl,exports.i=exports.f=exports.e=exports.d=exports.c=exports.b=exports.a=exports.A=void 0;var e=require("./LocalizationContext-12658c38.js"),t=n(require("react")),l=a(require("prop-types"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(r=function(e){return e?l:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=r(t);if(l&&l.has(e))return l.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var o=n?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(a,c,o):a[c]=e[c]}return a.default=e,l&&l.set(e,a),a}function c(l){var a=l.alt,r=l.url,n=l.width,c=l.height,o=l.className,i=l.defaultComponent,u=l.circle,f=Array.isArray(o)?o:[o];f.unshift("sendbird-image-renderer");var s=(0,t.useState)(!1),d=(0,e.b)(s,2),v=d[0],p=d[1],h=(0,t.useMemo)(function(){return"function"==typeof i?i():i},[i]);return t.default.createElement("div",{className:f.join(" ")},v?h:t.default.createElement("div",{className:"sendbird-image-renderer__image",style:{width:n,height:c,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:"url(".concat(r,")"),borderRadius:u?"50%":null}}),t.default.createElement("img",{className:"sendbird-image-renderer__hidden-image-loader",alt:a,onError:function(){return p(!0)},src:r}))}c.propTypes={alt:l.default.string,url:l.default.string.isRequired,width:l.default.oneOfType([l.default.string,l.default.number]),height:l.default.oneOfType([l.default.string,l.default.number]),className:l.default.oneOfType([l.default.arrayOf(l.default.string),l.default.string]),defaultComponent:l.default.oneOfType([l.default.element,l.default.func]),circle:l.default.bool},c.defaultProps={alt:"",className:"",circle:!1,defaultComponent:null,width:null,height:null};var o={ADD:"ADD",ARROW_LEFT:"ARROW_LEFT",ATTACH:"ATTACH",BAN:"BAN",BROADCAST:"BROADCAST",CAMERA:"CAMERA",CHANNELS:"CHANNELS",CHAT:"CHAT",CHAT_FILLED:"CHAT_FILLED",CHEVRON_DOWN:"CHEVRON_DOWN",CHEVRON_RIGHT:"CHEVRON_RIGHT",CLOSE:"CLOSE",COLLAPSE:"COLLAPSE",COPY:"COPY",CREATE:"CREATE",DELETE:"DELETE",DISCONNECTED:"DISCONNECTED",DOCUMENT:"DOCUMENT",DONE:"DONE",DONE_ALL:"DONE_ALL",DOWNLOAD:"DOWNLOAD",EDIT:"EDIT",EMOJI_MORE:"EMOJI_MORE",ERROR:"ERROR",EXPAND:"EXPAND",FILE_AUDIO:"FILE_AUDIO",FILE_DOCUMENT:"FILE_DOCUMENT",FREEZE:"FREEZE",GIF:"GIF",INFO:"INFO",LEAVE:"LEAVE",MEMBERS:"MEMBERS",MESSAGE:"MESSAGE",MODERATIONS:"MODERATIONS",MORE:"MORE",MUTE:"MUTE",NOTIFICATIONS:"NOTIFICATIONS",NOTIFICATIONS_OFF_FILLED:"NOTIFICATIONS_OFF_FILLED",OPERATOR:"OPERATOR",PHOTO:"PHOTO",PLAY:"PLAY",PLUS:"PLUS",QUESTION:"QUESTION",REFRESH:"REFRESH",REMOVE:"REMOVE",SEARCH:"SEARCH",SEND:"SEND",SETTINGS_FILLED:"SETTINGS_FILLED",SPINNER:"SPINNER",SUPERGROUP:"SUPERGROUP",THUMBNAIL_NONE:"THUMBNAIL_NONE",TOGGLE_OFF:"TOGGLE_OFF",TOGGLE_ON:"TOGGLE_ON",USER:"USER"};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var u=t.default.createElement("path",{className:"icon-add_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm0 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334a2.667 2.667 0 002.666 2.666h37.334a2.667 2.667 0 002.666-2.666V13.333a2.667 2.667 0 00-2.666-2.666zm-18.667 8a2.667 2.667 0 012.649 2.355l.018.311v8h8a2.667 2.667 0 01.311 5.316l-.311.018h-8v8a2.667 2.667 0 01-5.316.311l-.018-.311v-8h-8a2.667 2.667 0 01-.311-5.316l.311-.018h8v-8A2.667 2.667 0 0132 18.667z",fill:"#000",fillRule:"evenodd"});function f(e){return t.default.createElement("svg",i({viewBox:"0 0 64 64"},e),u)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var d=t.default.createElement("path",{className:"icon-arrow-left_svg__fill",d:"M33.886 8.781a2.668 2.668 0 01.221 3.52l-.221.251-16.78 16.781H56a2.667 2.667 0 01.311 5.316l-.311.018-38.895-.001 16.78 16.782a2.666 2.666 0 01.222 3.52l-.221.251a2.668 2.668 0 01-3.52.222l-.252-.222L8.781 33.886a2.668 2.668 0 01-.222-3.52l.222-.252L30.114 8.781a2.668 2.668 0 013.772 0z",fill:"#000",fillRule:"evenodd"});function v(e){return t.default.createElement("svg",s({viewBox:"0 0 64 64"},e),d)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var h=t.default.createElement("path",{className:"icon-attach_svg__fill",d:"M55.334 28.926l-24.506 23.34c-5.222 4.973-13.74 4.973-18.962 0-5.149-4.903-5.149-12.797 0-17.7l24.506-23.34c3.138-2.988 8.278-2.988 11.416 0 3.064 2.919 3.064 7.594 0 10.513L23.255 45.077c-1.055 1.005-2.815 1.005-3.87.001-.98-.933-.98-2.39 0-3.325l22.64-21.535a2.667 2.667 0 00-3.676-3.864L15.709 37.89a7.578 7.578 0 00-.001 11.05c3.113 2.966 8.11 2.966 11.224 0l24.533-23.338c5.272-5.021 5.272-13.217 0-18.238-5.197-4.95-13.573-4.95-18.77 0L8.187 30.704c-7.356 7.005-7.356 18.419 0 25.424 7.281 6.935 19.036 6.935 26.318 0l24.506-23.34a2.666 2.666 0 10-3.678-3.862z",fill:"#000",fillRule:"evenodd"});function E(e){return t.default.createElement("svg",p({viewBox:"0 0 64 64"},e),h)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var m=t.default.createElement("path",{className:"icon-ban_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm12.333 21.333a1 1 0 011 1v3.334a1 1 0 01-1 1H19.667a1 1 0 01-1-1v-3.334a1 1 0 011-1h24.666z",fill:"#000",fillRule:"evenodd"});function _(e){return t.default.createElement("svg",O({viewBox:"0 0 64 64"},e),m)}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var g=t.default.createElement("path",{className:"icon-broadcast_svg__fill",d:"M58.545 5.498c.08.258.122.526.122.796v46.079a2.666 2.666 0 01-3.462 2.546l-17.951-5.61c-.645 5.273-5.14 9.358-10.587 9.358C20.776 58.667 16 53.89 16 48v-5.334h-5.333a8 8 0 01-7.997-7.75l-.003-.25V24a8 8 0 018-8H16L55.205 3.749a2.665 2.665 0 013.34 1.75zM21.333 44.587V48a5.333 5.333 0 0010.652.398L32 47.92l-10.667-3.333zm32-34.667l-32 9.997v18.83l32 9.997V9.92zM16 21.333h-5.333a2.67 2.67 0 00-2.65 2.356L8 24v10.667a2.667 2.667 0 002.667 2.666H16v-16z",fill:"#000",fillRule:"evenodd"});function y(e){return t.default.createElement("svg",N({viewBox:"0 0 64 64"},e),g)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var R=t.default.createElement("path",{className:"icon-camera_svg__fill",d:"M40 5.333c.892 0 1.724.446 2.219 1.188l4.541 6.812H56a8 8 0 017.986 7.53l.014.47v29.334a8 8 0 01-8 8H8a8 8 0 01-8-8V21.333a8 8 0 018-8h9.237l4.544-6.812a2.665 2.665 0 011.888-1.167l.331-.02zm-1.43 5.334H25.428l-4.542 6.812a2.66 2.66 0 01-1.887 1.167l-.331.02H8a2.668 2.668 0 00-2.667 2.667v29.334A2.667 2.667 0 008 53.333h48a2.667 2.667 0 002.667-2.666V21.333A2.667 2.667 0 0056 18.667H45.333a2.665 2.665 0 01-2.218-1.188l-4.544-6.812zM32 21.333c7.364 0 13.333 5.97 13.333 13.334C45.333 42.03 39.363 48 32 48c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"});function A(e){return t.default.createElement("svg",b({viewBox:"0 0 64 64"},e),R)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var T=t.default.createElement("path",{className:"icon-channels_svg__fill",d:"M42.65 5.333l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04h9.466a2.667 2.667 0 01.311 5.315l-.31.018H43.271l-1.184 10.666h11.245a2.667 2.667 0 01.312 5.316l-.31.018H41.495l-1.512 13.627a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04H25.496l-1.512 13.628a2.667 2.667 0 01-5.318-.277l.017-.311 1.448-13.04h-9.464a2.667 2.667 0 01-.311-5.315l.31-.018h10.057l1.186-10.667H10.667a2.667 2.667 0 01-.311-5.315l.31-.018h11.835l1.515-13.627a2.668 2.668 0 012.634-2.373l.311.017a2.666 2.666 0 012.373 2.633l-.017.311-1.45 13.04H38.5l1.515-13.628a2.668 2.668 0 012.634-2.373zm-5.927 32l1.186-10.667H27.272l-1.184 10.667h10.635z",fill:"#000",fillRule:"evenodd"});function L(e){return t.default.createElement("svg",C({viewBox:"0 0 64 64"},e),T)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var S=t.default.createElement("path",{className:"icon-chat_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8z",fill:"#000",fillRule:"evenodd"});function z(e){return t.default.createElement("svg",w({viewBox:"0 0 64 64"},e),S)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var H=t.default.createElement("path",{className:"icon-chat-filled_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667z",fill:"#000",fillRule:"evenodd"});function j(e){return t.default.createElement("svg",M({viewBox:"0 0 64 64"},e),H)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var I=t.default.createElement("path",{className:"icon-chevron-down_svg__fill",d:"M16.121 21.879a2.998 2.998 0 00-4.242 0 2.998 2.998 0 000 4.242l18 18a2.998 2.998 0 004.242 0l18-18a2.998 2.998 0 000-4.242 2.998 2.998 0 00-4.242 0L32 37.757 16.121 21.88z",fill:"#000",fillRule:"evenodd"});function P(e){return t.default.createElement("svg",D({viewBox:"0 0 64 64"},e),I)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var B=t.default.createElement("path",{className:"icon-chevron-right_svg__fill",d:"M22.114 46.114a2.668 2.668 0 003.772 3.772l16-16a2.668 2.668 0 000-3.772l-16-16a2.668 2.668 0 00-3.772 3.772L36.23 32 22.114 46.114z",fill:"#000",fillRule:"evenodd"});function U(e){return t.default.createElement("svg",x({viewBox:"0 0 64 64"},e),B)}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var V=t.default.createElement("path",{className:"icon-close_svg__fill",d:"M52.552 11.448a2.666 2.666 0 01.222 3.52l-.222.251-16.781 16.78 16.781 16.782a2.665 2.665 0 010 3.771 2.666 2.666 0 01-3.52.222l-.251-.222L32 35.771 15.219 52.552a2.665 2.665 0 01-3.771 0 2.666 2.666 0 01-.222-3.52l.222-.251L28.228 32l-16.78-16.781a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 16.78 16.78 16.782-16.78a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"});function F(e){return t.default.createElement("svg",G({viewBox:"0 0 64 64"},e),V)}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var K=t.default.createElement("path",{className:"icon-collapse_svg__fill",d:"M16 8a2.667 2.667 0 00-2.649 2.356l-.018.31v42.667a2.667 2.667 0 005.316.311l.018-.31V34.666h25.56l-6.113 6.114a2.668 2.668 0 00-.221 3.52l.221.251a2.666 2.666 0 003.52.222l.252-.222 10.666-10.666a2.666 2.666 0 00.222-3.52l-.222-.252-10.666-10.666a2.666 2.666 0 00-3.993 3.52l.221.251 6.113 6.114h-25.56V10.667A2.667 2.667 0 0016 8z",fill:"#000",fillRule:"evenodd"});function k(e){return t.default.createElement("svg",Y({viewBox:"0 0 64 64"},e),K)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var q=t.default.createElement("path",{className:"icon-copy_svg__fill",d:"M53.333 21.333a8 8 0 018 8v24a8 8 0 01-8 8h-24a8 8 0 01-8-8v-24a8 8 0 018-8zm0 5.334h-24a2.667 2.667 0 00-2.666 2.666v24A2.667 2.667 0 0029.333 56h24A2.667 2.667 0 0056 53.333v-24a2.667 2.667 0 00-2.667-2.666zm-18.666-24a8 8 0 017.986 7.53l.014.47v2.666a2.667 2.667 0 01-5.316.311l-.018-.31v-2.667a2.67 2.67 0 00-2.355-2.65L34.667 8h-24a2.67 2.67 0 00-2.65 2.356l-.017.31v24a2.67 2.67 0 002.356 2.65l.31.017h2.667a2.667 2.667 0 01.311 5.316l-.31.018h-2.667a8.001 8.001 0 01-7.987-7.53l-.013-.47v-24c0-4.26 3.33-7.743 7.53-7.987l.47-.013h24z",fill:"#000",fillRule:"evenodd"});function J(e){return t.default.createElement("svg",W({viewBox:"0 0 64 64"},e),q)}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var X=t.default.createElement("path",{className:"icon-create_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zm2.667 16v5.333H40c3.556 0 3.556 5.334 0 5.334h-5.333V40c0 3.556-5.334 3.556-5.334 0v-5.333H24c-3.556 0-3.556-5.334 0-5.334h5.333V24c0-3.556 5.334-3.556 5.334 0z",fill:"#000",fillRule:"evenodd"});function Z(e){return t.default.createElement("svg",Q({viewBox:"0 0 64 64"},e),X)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var ee=t.default.createElement("path",{className:"icon-delete_svg__fill",d:"M37.333 2.667c4.26 0 7.743 3.33 7.987 7.53l.013.47v2.666H56a2.667 2.667 0 01.311 5.316l-.311.018h-2.668l.001 34.666c0 4.26-3.33 7.743-7.53 7.987l-.47.013H18.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V18.667H8a2.667 2.667 0 01-.311-5.316L8 13.333h10.666v-2.666a8.002 8.002 0 017.53-7.987l.47-.013h10.667zm10.666 16H16v34.666a2.67 2.67 0 002.356 2.65l.31.017h26.667a2.67 2.67 0 002.65-2.356l.017-.31V18.666zm-21.332 8a2.667 2.667 0 012.648 2.355l.018.311v16a2.667 2.667 0 01-5.316.311l-.017-.31v-16a2.667 2.667 0 012.667-2.667zm10.666 0a2.67 2.67 0 012.65 2.355l.017.311v16a2.667 2.667 0 01-5.315.311l-.018-.31v-16a2.667 2.667 0 012.666-2.667zm0-18.667H26.667a2.67 2.67 0 00-2.65 2.356l-.017.31v2.667h16v-2.666a2.67 2.67 0 00-2.356-2.65L37.334 8z",fill:"#000",fillRule:"evenodd"});function te(e){return t.default.createElement("svg",$({viewBox:"0 0 64 64"},e),ee)}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var ae=t.default.createElement("path",{className:"icon-disconnected_svg__fill",d:"M54.534 6.069l-.248.217-9.736 9.735-.04.04-9.573 9.573c-.15.118-.286.254-.405.404L6.286 54.286a2.423 2.423 0 003.18 3.645l.248-.217 13.374-13.373a2.419 2.419 0 001.88-.401 12.119 12.119 0 0114.04 0 2.424 2.424 0 102.808-3.952 16.951 16.951 0 00-11.303-3.072l6.743-6.744a24.105 24.105 0 0110.159 5.021 2.424 2.424 0 003.11-3.719 28.945 28.945 0 00-9.34-5.23l5.633-5.634a36.153 36.153 0 019.225 5.934 2.425 2.425 0 003.211-3.633 40.972 40.972 0 00-8.796-5.941l7.256-7.256a2.423 2.423 0 00-3.18-3.645zm-35.04 21.474a28.936 28.936 0 00-6.032 3.942 2.424 2.424 0 003.137 3.697 24.018 24.018 0 015.022-3.282 2.425 2.425 0 00-2.127-4.357zM4.748 22.909a2.424 2.424 0 003.207 3.636 36.363 36.363 0 0126.978-8.977 2.424 2.424 0 00.389-4.832A41.204 41.204 0 004.748 22.909z",fill:"#000",fillRule:"evenodd"});function re(e){return t.default.createElement("svg",le({viewBox:"0 0 64 64"},e),ae)}function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var ce=t.default.createElement("path",{className:"icon-document_svg__fill",d:"M37.333 2.667a3.305 3.305 0 01.274.014l.085.01.058.008c.047.007.094.016.141.026l.029.007c.05.01.098.023.146.037l.034.01c.237.07.46.173.663.303l.034.022c.036.023.07.047.104.072l.057.043a2.646 2.646 0 01.261.228l-.126-.117c.05.043.097.088.143.135L55.21 19.438c.047.046.091.094.134.143l.035.04c.026.032.052.063.076.096l.04.054.07.1.024.038c.16.253.279.535.347.836l.01.048c.009.043.017.086.024.13l.006.048.007.051.004.041c.01.09.014.18.014.27v32a8 8 0 01-8 8H16a8 8 0 01-8-8V10.667a8 8 0 018-8h21.333zM34.666 8H16a2.667 2.667 0 00-2.667 2.667v42.666A2.667 2.667 0 0016 56h32a2.667 2.667 0 002.667-2.667L50.666 24H37.333a2.667 2.667 0 01-2.648-2.356l-.018-.31L34.666 8zm12.227 10.667l-6.894-6.894.001 6.894h6.893z",fill:"#000",fillRule:"evenodd"});function oe(e){return t.default.createElement("svg",ne({viewBox:"0 0 64 64"},e),ce)}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var ue=t.default.createElement("path",{className:"icon-done_svg__fill",d:"M12.552 31.448a2.665 2.665 0 10-3.771 3.771l13.333 13.333a2.666 2.666 0 003.772 0L55.219 19.22a2.667 2.667 0 00-3.771-3.771L24 42.895 12.552 31.448z",fill:"#000",fillRule:"evenodd"});function fe(e){return t.default.createElement("svg",ie({viewBox:"0 0 64 64"},e),ue)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var de=t.default.createElement("path",{className:"icon-done-all_svg__fill",d:"M5.886 31.448L19.219 44.78a2.667 2.667 0 01-3.771 3.771L2.114 35.22a2.667 2.667 0 013.772-3.771zm52.228-16a2.666 2.666 0 113.772 3.771L32.552 48.552a2.665 2.665 0 01-3.771 0L15.448 35.22a2.665 2.665 0 010-3.771 2.665 2.665 0 013.771 0l11.448 11.447zm-9.562 0a2.665 2.665 0 010 3.771L32.556 35.215a2.665 2.665 0 01-3.771 0 2.664 2.664 0 010-3.77L44.78 15.447a2.665 2.665 0 013.771 0z",fill:"#000",fillRule:"evenodd"});function ve(e){return t.default.createElement("svg",se({viewBox:"0 0 64 64"},e),de)}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var he=t.default.createElement("path",{className:"icon-download_svg__fill",d:"M56 42.667a2.667 2.667 0 012.649 2.355l.018.311v8c0 4.26-3.33 7.743-7.53 7.987l-.47.013H13.333a8 8 0 01-7.986-7.53l-.014-.47v-8a2.667 2.667 0 015.316-.311l.018.311v8a2.67 2.67 0 002.355 2.65l.311.017h37.334a2.667 2.667 0 002.648-2.356l.018-.31v-8A2.667 2.667 0 0156 42.667zm-36.552-8.781a2.666 2.666 0 013.52-3.993l.251.221 6.114 6.114V5.333a2.667 2.667 0 015.316-.311l.018.311v30.894l6.114-6.113a2.668 2.668 0 013.52-.221l.251.221a2.666 2.666 0 01.222 3.52l-.222.252-10.658 10.657a2.341 2.341 0 01-.135.128l.127-.119a2.67 2.67 0 01-.195.176l-.056.045a1.74 1.74 0 01-.086.064l-.056.04-.086.056-.06.036-.081.046-.079.04a2.528 2.528 0 01-.14.065l-.09.036c-.023.01-.045.017-.067.025l-.09.03-.063.019c-.043.012-.086.024-.13.034l-.013.003a3.06 3.06 0 01-.144.028l-.064.01c-.03.005-.061.009-.092.012l-.084.008a1.727 1.727 0 01-.103.006l-.069.002h-.095c-.028 0-.055-.002-.082-.003l.139.003c-.084 0-.167-.004-.249-.011l-.061-.007a1.359 1.359 0 01-.092-.012l-.09-.015a2.242 2.242 0 01-.118-.025l-.04-.01a2.644 2.644 0 01-.34-.11l-.015-.006c-.05-.02-.097-.04-.145-.063l-.042-.02L30.71 45a1.16 1.16 0 01-.067-.039c-.03-.018-.059-.035-.087-.054l-.062-.041c-.03-.02-.06-.042-.088-.063l-.04-.03-.008-.007a2.796 2.796 0 01-.251-.223L19.448 33.886z",fill:"#000",fillRule:"evenodd"});function Ee(e){return t.default.createElement("svg",pe({viewBox:"0 0 64 64"},e),he)}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var me=t.default.createElement("path",{className:"icon-edit_svg__fill",d:"M56 56a2.667 2.667 0 01.311 5.315l-.311.018H8a2.667 2.667 0 01-.311-5.316L8 56h48zM35.448 3.448a2.665 2.665 0 013.771 0l10.667 10.666a2.668 2.668 0 010 3.772L20.552 47.219c-.5.5-1.178.781-1.885.781H8a2.667 2.667 0 01-2.667-2.667V34.667c0-.708.281-1.386.781-1.886zm1.885 5.659L10.667 35.77v6.896h6.89L44.227 16l-6.894-6.893z",fill:"#000",fillRule:"evenodd"});function _e(e){return t.default.createElement("svg",Oe({viewBox:"0 0 65 65"},e),me)}function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var ge=t.default.createElement("path",{className:"icon-emoji-more_svg__fill",d:"M32.097 3.22c2.65 0 5.255.357 7.763 1.054a2.134 2.134 0 01-1.144 4.111 24.669 24.669 0 00-6.619-.899c-13.603 0-24.63 11.027-24.63 24.63s11.027 24.63 24.63 24.63 24.63-11.027 24.63-24.63c0-2.227-.295-4.413-.87-6.518a2.13 2.13 0 011.494-2.62 2.13 2.13 0 012.62 1.494 28.895 28.895 0 011.023 7.644c0 15.96-12.938 28.897-28.897 28.897-15.96 0-28.897-12.937-28.897-28.897C3.2 16.157 16.138 3.22 32.097 3.22zm10.705 34.792a2.133 2.133 0 012.024 2.808c-1.873 5.623-6.937 9.488-12.729 9.488-5.792 0-10.856-3.865-12.73-9.488a2.134 2.134 0 011.875-2.803l.15-.005h21.41zm-3.477 4.266H24.867l.294.382c1.539 1.887 3.718 3.113 6.115 3.342l.314.024.507.015c2.617 0 5.037-1.188 6.743-3.151l.193-.23.292-.382zM21.392 21.954c1.087 0 1.985.814 2.116 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.134-2.133zm21.41 0c1.088 0 1.985.814 2.117 1.866l.017.267v5.353a2.133 2.133 0 01-4.25.268l-.017-.268v-5.353c0-1.178.955-2.133 2.133-2.133zM54.853 0a.8.8 0 01.8.8v7.786h7.76a.8.8 0 01.8.8v2.667a.8.8 0 01-.8.8h-7.76v7.758a.8.8 0 01-.8.8h-2.666a.8.8 0 01-.8-.8v-7.758h-7.785a.8.8 0 01-.8-.8V9.387a.8.8 0 01.8-.8l7.784-.001V.8a.8.8 0 01.8-.8h2.667z",fill:"#000",fillRule:"evenodd"});function ye(e){return t.default.createElement("svg",Ne({viewBox:"0 0 64 64"},e),ge)}function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Re=t.default.createElement("path",{className:"icon-error_svg__fill",d:"M32 5.06a8 8 0 016.561 3.424l.287.439 22.608 37.744a8 8 0 01.022 7.962 8.005 8.005 0 01-6.356 4.014l-.535.024H9.384a8.002 8.002 0 01-6.862-4.038 8.008 8.008 0 01-.226-7.493l.27-.506L25.16 8.91A8.001 8.001 0 0132 5.06zm0 5.333c-.816 0-1.58.372-2.076.99l-.196.28-22.565 37.67a2.669 2.669 0 001.909 3.973l.341.027h45.144a2.67 2.67 0 002.45-3.659l-.148-.304L34.28 11.676A2.666 2.666 0 0032 10.393zm0 32.274A2.667 2.667 0 1132 48a2.667 2.667 0 010-5.333zm0-21.334a2.667 2.667 0 012.649 2.356l.018.311v10.667a2.667 2.667 0 01-5.316.311l-.018-.311V24A2.667 2.667 0 0132 21.333z",fill:"#000",fillRule:"evenodd"});function Ae(e){return t.default.createElement("svg",be({viewBox:"0 0 64 64"},e),Re)}function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Te=t.default.createElement("path",{className:"icon-expand_svg__fill",d:"M48 8a2.667 2.667 0 012.649 2.356l.018.31V32l-.001.027v21.306a2.667 2.667 0 01-5.315.311l-.018-.31V34.665H19.772l6.114 6.115a2.668 2.668 0 01.221 3.52l-.221.251a2.666 2.666 0 01-3.52.222l-.252-.222-10.666-10.666a2.666 2.666 0 01-.222-3.52l.222-.252 10.666-10.666a2.666 2.666 0 013.993 3.52l-.221.251-6.113 6.114h25.56V10.667A2.667 2.667 0 0148 8z",fill:"#000",fillRule:"evenodd"});function Le(e){return t.default.createElement("svg",Ce({viewBox:"0 0 64 64"},e),Te)}function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Se=t.default.createElement("path",{className:"icon-file-audio_svg__fill",d:"M30.52 12.51c1.685-1.226 4.139-.103 4.139 1.893v35.194c0 1.996-2.454 3.119-4.138 1.893l-12.45-9.909H7.898c-1.416 0-2.564-1.074-2.564-2.399V24.818c0-1.325 1.148-2.4 2.564-2.4h10.175zm20.427.163c10.293 10.667 10.293 27.987 0 38.654a2.137 2.137 0 01-3.156-.047c-.86-.942-.84-2.448.044-3.364 8.49-8.799 8.49-23.033 0-31.832-.884-.916-.904-2.422-.044-3.364a2.137 2.137 0 013.156-.047zm-8.492 8.799c5.597 5.8 5.597 15.231 0 21.031a2.136 2.136 0 01-3.156-.046c-.86-.942-.84-2.448.044-3.364 3.794-3.932 3.794-10.279 0-14.211-.884-.916-.904-2.422-.044-3.363a2.136 2.136 0 013.156-.047z",fill:"#000",fillRule:"evenodd"});function ze(e){return t.default.createElement("svg",we({viewBox:"0 0 64 64"},e),Se)}function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var He=t.default.createElement("path",{className:"icon-file-document_svg__fill",d:"M39.414 6.4a2.41 2.41 0 011.71.701l12.642 12.75c.407.41.634.953.634 1.516v29.765c0 3.542-4.342 6.468-8 6.468H16.16c-3.658 0-6.4-2.926-6.4-6.468L9.6 12.868c0-3.542 2.902-6.468 6.56-6.468zm3.331 35.173l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm0-8.533l-21.49.027-.147.005c-1.066.08-1.908 1.014-1.908 2.155 0 1.193.92 2.16 2.055 2.16l21.49-.027.147-.005c1.066-.08 1.908-1.014 1.908-2.155 0-1.193-.92-2.16-2.055-2.16zm-11.807-8.507h-9.6l-.153.006a2.15 2.15 0 00-1.985 2.154c0 1.193.957 2.16 2.138 2.16h9.6l.152-.005a2.152 2.152 0 001.985-2.155c0-1.193-.957-2.16-2.137-2.16z",fill:"#000",fillRule:"evenodd"});function je(e){return t.default.createElement("svg",Me({viewBox:"0 0 64 64"},e),He)}function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Ie=t.default.createElement("path",{className:"icon-freeze_svg__fill",d:"M41.636 3.226l.251.222a2.668 2.668 0 01.222 3.52l-.222.251-7.219 7.218V27.38l11.209-6.472 2.643-9.86a2.667 2.667 0 015.218 1.051l-.067.329-2.237 8.35 8.352 2.24a2.668 2.668 0 011.952 2.938l-.067.328a2.667 2.667 0 01-2.937 1.952l-.329-.066-9.861-2.643L37.334 32l11.209 6.47 9.862-2.64.329-.067a2.667 2.667 0 012.937 1.952l.067.328a2.669 2.669 0 01-1.952 2.938l-8.353 2.237 2.238 8.353.067.329a2.666 2.666 0 01-5.218 1.052l-2.643-9.861-11.209-6.472v12.944l7.219 7.218a2.667 2.667 0 01-3.52 3.993l-.251-.222L32 54.437l-6.114 6.115a2.666 2.666 0 01-3.52.222l-.251-.222a2.666 2.666 0 01-.222-3.52l.222-.251 7.218-7.22V36.62l-11.209 6.47-2.642 9.863a2.666 2.666 0 01-5.218-1.052l.067-.329 2.236-8.351-8.35-2.24a2.665 2.665 0 01-1.953-2.937l.067-.328a2.665 2.665 0 012.937-1.952l.329.066 9.861 2.642L26.667 32l-11.209-6.472-9.86 2.643-.329.066a2.665 2.665 0 01-2.937-1.952l-.067-.328a2.668 2.668 0 011.952-2.938l8.35-2.239-2.235-8.351-.067-.329a2.667 2.667 0 015.218-1.052l2.642 9.862 11.209 6.47V14.439L22.116 7.22a2.665 2.665 0 010-3.771 2.666 2.666 0 013.52-.222l.251.222 6.114 6.112 6.115-6.112a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"});function Pe(e){return t.default.createElement("svg",De({viewBox:"0 0 64 64"},e),Ie)}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Be=t.default.createElement("path",{className:"icon-gif_svg__fill",d:"M16.664 45.333c2.155 0 4.119-.318 5.89-.953 1.772-.636 3.143-1.53 4.113-2.683V31.34h-10.29v3.94h4.902v4.474c-.861.856-2.304 1.283-4.327 1.283-2.011 0-3.538-.695-4.58-2.085-1.04-1.39-1.562-3.446-1.562-6.168v-1.657c.012-2.698.497-4.73 1.455-6.097.958-1.366 2.352-2.05 4.184-2.05 1.437 0 2.565.345 3.385 1.034.82.69 1.35 1.777 1.59 3.262h5.243c-.324-2.804-1.36-4.94-3.107-6.408-1.748-1.468-4.172-2.201-7.273-2.201-2.226 0-4.169.502-5.827 1.506-1.658 1.004-2.927 2.454-3.807 4.35-.88 1.895-1.32 4.138-1.32 6.728v1.765c.024 2.52.5 4.712 1.428 6.578.928 1.865 2.245 3.288 3.95 4.269 1.707.98 3.69 1.47 5.953 1.47zm20.67 0V18.667H32v26.666h5.333zm10.396 0V34.436h9.721v-4.432H47.73v-6.887h10.937v-4.45h-16v26.666h5.063z",fill:"#000",fillRule:"evenodd"});function Ue(e){return t.default.createElement("svg",xe({viewBox:"0 0 64 64"},e),Be)}function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Ve=t.default.createElement("path",{className:"icon-info_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32s10.745 24 24 24 24-10.745 24-24S45.255 8 32 8zm1.667 21.333a1 1 0 011 1v14a1 1 0 01-1 1h-3.334a1 1 0 01-1-1v-14a1 1 0 011-1h3.334zm-1.667-8a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"});function Fe(e){return t.default.createElement("svg",Ge({viewBox:"0 0 64 64"},e),Ve)}function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Ke=t.default.createElement("path",{className:"icon-leave_svg__fill",d:"M32 5.333a2.667 2.667 0 01.311 5.316l-.311.018H10.667a2.67 2.67 0 00-2.65 2.355L8 13.333v37.334a2.667 2.667 0 002.356 2.648l.31.018H32a2.667 2.667 0 01.311 5.316l-.311.018H10.667a8.001 8.001 0 01-7.987-7.53l-.013-.47V13.333a8 8 0 017.53-7.986l.47-.014H32zm17.634 13.893l.252.222 10.666 10.666a2.666 2.666 0 01.222 3.52l-.222.252-10.666 10.666a2.666 2.666 0 01-3.993-3.52l.221-.251 4.78-4.782L20 36a2.667 2.667 0 01-.311-5.315l.311-.018h33.56l-7.446-7.448a2.668 2.668 0 01-.221-3.52l.221-.251a2.666 2.666 0 013.52-.222z",fill:"#000",fillRule:"evenodd"});function ke(e){return t.default.createElement("svg",Ye({viewBox:"0 0 64 64"},e),Ke)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var qe=t.default.createElement("path",{className:"icon-members_svg__fill",d:"M34.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L42.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H13.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L0 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM54 37.765a13.333 13.333 0 019.986 12.297l.014.605V56a2.667 2.667 0 01-5.315.311L58.667 56v-5.331a8 8 0 00-6-7.74A2.667 2.667 0 1154 37.765zM24 5.333c7.364 0 13.333 5.97 13.333 13.334C37.333 26.03 31.363 32 24 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm19.328.43a13.333 13.333 0 010 25.834 2.667 2.667 0 11-1.323-5.167 8 8 0 000-15.5 2.667 2.667 0 111.323-5.167zM24 10.667a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"});function Je(e){return t.default.createElement("svg",We({viewBox:"0 0 64 64"},e),qe)}function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Xe=t.default.createElement("path",{className:"icon-message_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333c-4.455 0-8.679-.993-12.461-2.77l-1.753.58c-5.965 1.912-10.133 2.572-12.504 1.981-2.799-.698-3.351-1.919-1.657-3.663 1.171-1.396 2.147-3.14 2.928-5.234.622-1.668.377-4.001-.737-7A29.15 29.15 0 012.666 32C2.667 15.8 15.8 2.667 32 2.667zM32 8C18.745 8 8 18.745 8 32c0 3.5.747 6.88 2.168 9.978l.405.837.137.271.106.285c1.517 4.085 1.89 7.622.734 10.72l-.382.972-.192.433.235-.05a62.067 62.067 0 004.886-1.363l1.721-.568 2.04-.696 1.95.917A23.882 23.882 0 0032 56c13.255 0 24-10.745 24-24S45.255 8 32 8zM18.667 29.333a2.667 2.667 0 11-.001 5.333 2.667 2.667 0 01.001-5.333zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334zm13.333 0a2.667 2.667 0 110 5.334 2.667 2.667 0 010-5.334z",fill:"#000",fillRule:"evenodd"});function Ze(e){return t.default.createElement("svg",Qe({viewBox:"0 0 64 64"},e),Xe)}function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var et=t.default.createElement("path",{className:"icon-moderations_svg__fill",d:"M18.667 34.667a2.667 2.667 0 01.311 5.316l-.311.017h-5.334v16a2.667 2.667 0 01-5.316.311L8 56V40H2.667a2.667 2.667 0 01-.311-5.315l.31-.018h16zM32 29.333a2.667 2.667 0 012.649 2.356l.018.311v24a2.667 2.667 0 01-5.316.311L29.333 56V32A2.667 2.667 0 0132 29.333zM61.333 40a2.667 2.667 0 01.311 5.315l-.31.018h-5.335L56 56a2.667 2.667 0 01-5.315.311L50.667 56l-.001-10.668-5.333.001a2.667 2.667 0 01-.311-5.316l.311-.017h16zm-8-34.667a2.67 2.67 0 012.65 2.356L56 8v24a2.667 2.667 0 01-5.315.311L50.667 32V8a2.667 2.667 0 012.666-2.667zm-42.666 0a2.667 2.667 0 012.648 2.356l.018.311v18.667a2.667 2.667 0 01-5.316.311L8 26.667V8a2.667 2.667 0 012.667-2.667zm21.333 0a2.667 2.667 0 012.649 2.356l.018.311-.001 10.666H40a2.668 2.668 0 01.311 5.317L40 24H24a2.667 2.667 0 01-.311-5.315l.311-.018h5.333V8A2.667 2.667 0 0132 5.333z",fill:"#000",fillRule:"evenodd"});function tt(e){return t.default.createElement("svg",$e({viewBox:"0 0 64 64"},e),et)}function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var at=t.default.createElement("path",{className:"icon-more_svg__fill",d:"M32 45.333a5.333 5.333 0 110 10.666 5.333 5.333 0 010-10.666zM32 28a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 28zm0-17.333c2.946 0 5.333 2.387 5.333 5.333S34.946 21.333 32 21.333 26.667 18.946 26.667 16s2.387-5.333 5.333-5.333z",fill:"#000",fillRule:"evenodd"});function rt(e){return t.default.createElement("svg",lt({viewBox:"0 0 64 64"},e),at)}function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var ct=t.default.createElement("path",{className:"icon-mute_svg__fill",d:"M55.62 19.616l.067.123A26.552 26.552 0 0158.667 32c0 4.326-1.03 8.41-2.864 12.025-1.012 2.726-1.235 4.847-.67 6.363.71 1.903 1.598 3.49 2.662 4.758 1.54 1.586 1.039 2.696-1.506 3.33-2.09.521-5.716-.027-10.879-1.646l-.488-.155-1.594-.527A26.56 26.56 0 0132 58.667a26.55 26.55 0 01-12.326-3.014l-.059-.03 4-4A21.24 21.24 0 0032 53.333c2.993 0 5.89-.614 8.562-1.786l.498-.226 1.925-.905 3.613 1.196.695.219c.728.225 1.414.423 2.054.595l.472.125.485.121-.167-.42-.2-.594c-.814-2.685-.484-5.681.713-9.065l.154-.425.106-.284.528-1.084a21.188 21.188 0 001.895-8.8 21.24 21.24 0 00-1.71-8.385l3.997-3.999zm2.266-13.502a2.668 2.668 0 01.221 3.52l-.221.252-48 48a2.668 2.668 0 01-3.993-3.52l.221-.252 5.238-5.237a26.563 26.563 0 01-6.015-16.412L5.333 32C5.333 17.272 17.273 5.333 32 5.333a26.55 26.55 0 0116.877 6.02l5.237-5.239a2.668 2.668 0 013.772 0zM32 10.667c-11.782 0-21.333 9.55-21.333 21.333 0 4.836 1.614 9.401 4.48 13.084l29.936-29.938A21.248 21.248 0 0032 10.666z",fill:"#000",fillRule:"evenodd"});function ot(e){return t.default.createElement("svg",nt({viewBox:"0 0 64 64"},e),ct)}function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var ut=t.default.createElement("path",{className:"icon-notifications_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c11.56 0 20.972 9.194 21.323 20.669l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H5.333l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zM32 8c-8.636 0-15.674 6.842-15.989 15.4L16 24v13.333c0 1.562-.336 3.046-.939 4.383l-.275.564-.218.387h34.861l-.215-.387a10.583 10.583 0 01-1.146-3.74l-.055-.674-.013-.533V24c0-8.837-7.163-16-16-16z",fill:"#000",fillRule:"evenodd"});function ft(e){return t.default.createElement("svg",it({viewBox:"0 0 64 64"},e),ut)}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var dt=t.default.createElement("path",{className:"icon-notifications-off-filled_svg__fill",d:"M36.613 53.333c2.056 0 3.338 2.227 2.307 4.005a8 8 0 01-13.84 0c-.98-1.689.129-3.783 2.004-3.988l.303-.017h9.226zM32 2.667c7.173 0 13.52 3.54 17.387 8.97l5.686-5.687a2.105 2.105 0 012.85-.117l.127.117a2.105 2.105 0 010 2.977L8.927 58.05c-.78.781-2.023.82-2.85.117l-.127-.117a2.105 2.105 0 010-2.977L13.023 48h-7.69l-.355-.019c-3.082-.33-3.082-4.965 0-5.296l.753-.033a5.335 5.335 0 004.92-4.9l.016-.419V24c0-11.782 9.55-21.333 21.333-21.333zm20.85 16.795c.271 1.253.433 2.548.473 3.874l.01.664v13.333a5.334 5.334 0 004.936 5.319l.753.033c2.963.318 3.077 4.616.342 5.24l-.342.056-.355.019H24.31l28.54-28.538z",fill:"#000",fillRule:"evenodd"});function vt(e){return t.default.createElement("svg",st({viewBox:"0 0 64 64"},e),dt)}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var ht=t.default.createElement("path",{className:"icon-operator_svg__fill",d:"M29.83 6.45a2.667 2.667 0 014.34 0l11.697 16.374L57 13.918c1.88-1.504 4.573.054 4.32 2.35l-.047.29-8 37.334A2.666 2.666 0 0150.666 56H13.333a2.666 2.666 0 01-2.607-2.108l-8-37.333c-.525-2.452 2.315-4.207 4.273-2.641l11.132 8.906zM32 12.587l-11.163 15.63a2.667 2.667 0 01-3.836.532l-7.497-5.997 5.984 27.915h33.021l5.984-27.915L47 28.749a2.667 2.667 0 01-3.632-.281l-.204-.251L32 12.587zM32 32a5.333 5.333 0 110 10.668A5.333 5.333 0 0132 32z",fill:"#000",fillRule:"evenodd"});function Et(e){return t.default.createElement("svg",pt({viewBox:"0 0 64 64"},e),ht)}function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var mt=t.default.createElement("path",{className:"icon-photo_svg__fill",d:"M50.667 5.333a8 8 0 018 8v37.334a8 8 0 01-8 8H13.333a8 8 0 01-8-8V13.333a8 8 0 018-8zm-8 25.107L19.77 53.332l30.896.001a2.667 2.667 0 002.661-2.498l.005-.168v-9.564L42.666 30.44zm8-19.773H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.119 1.731 2.498L40.781 24.78a2.668 2.668 0 013.52-.222l.251.222 8.78 8.78.001-20.228a2.667 2.667 0 00-2.498-2.661l-.168-.005zm-28 5.333a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667z",fill:"#000",fillRule:"evenodd"});function _t(e){return t.default.createElement("svg",Ot({viewBox:"0 0 64 64"},e),mt)}function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var gt=t.default.createElement("path",{className:"icon-play_svg__fill",d:"M51.908 34.75c1.9-1.233 1.896-3.26.013-4.514L19.376 8.577c-1.893-1.26-3.404-.391-3.376 1.968l.522 42.888c.028 2.347 1.596 3.247 3.493 2.016L51.908 34.75z",fill:"#000",fillRule:"evenodd"});function yt(e){return t.default.createElement("svg",Nt({viewBox:"0 0 64 64"},e),gt)}function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Rt=t.default.createElement("path",{className:"icon-plus_svg__fill",d:"M34.667 29.333h18.666c3.556 0 3.556 5.334 0 5.334H34.667v18.666c0 3.556-5.334 3.556-5.334 0V34.667H10.667c-3.556 0-3.556-5.334 0-5.334h18.666V10.667c0-3.556 5.334-3.556 5.334 0v18.666z",fill:"#000",fillRule:"evenodd"});function At(e){return t.default.createElement("svg",bt({viewBox:"0 0 64 64"},e),Rt)}function Ct(){return(Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Tt=t.default.createElement("path",{className:"icon-question_svg__fill",d:"M32 61.333C15.8 61.333 2.667 48.2 2.667 32S15.8 2.667 32 2.667 61.333 15.8 61.333 32 48.2 61.333 32 61.333zM32 56c13.255 0 24-10.745 24-24S45.255 8 32 8 8 18.745 8 32s10.745 24 24 24zm2.213-18.63a2.667 2.667 0 11-5.333 0v-2.69c0-1.148.734-2.168 1.823-2.53.173-.058.532-.195 1.01-.407.809-.36 1.616-.79 2.354-1.282 1.835-1.223 2.813-2.528 2.813-3.786a5.333 5.333 0 00-10.364-1.777 2.667 2.667 0 01-5.032-1.77 10.668 10.668 0 0120.729 3.551c0 3.413-2.022 6.109-5.187 8.22a21.268 21.268 0 01-2.813 1.578v.893zm-5.333 7.523a2.667 2.667 0 115.333 0v.44a2.667 2.667 0 11-5.333 0v-.44z",fill:"#000",fillRule:"evenodd"});function Lt(e){return t.default.createElement("svg",Ct({viewBox:"0 0 64 64"},e),Tt)}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var St=t.default.createElement("path",{className:"icon-refresh_svg__fill",d:"M46.14 14.43l.562.537 6.631 6.167v-7.8a2.67 2.67 0 012.356-2.65l.311-.017a2.667 2.667 0 012.649 2.355l.018.311v16a2.67 2.67 0 01-2.356 2.65L56 32H40a2.667 2.667 0 01-.311-5.315l.311-.018h11.452l-8.44-7.85c-5.964-5.893-15.168-7.182-22.563-3.156-7.38 4.018-11.172 12.357-9.314 20.455 1.859 8.107 8.935 14.032 17.362 14.518 8.43.487 16.162-4.585 18.967-12.426a2.667 2.667 0 015.022 1.797C48.88 50.082 38.973 56.582 28.19 55.959c-10.785-.623-19.862-8.222-22.254-18.65C3.542 26.872 8.426 16.135 17.9 10.977c9.227-5.024 20.65-3.579 28.241 3.453z",fill:"#000",fillRule:"evenodd"});function zt(e){return t.default.createElement("svg",wt({viewBox:"0 0 64 64"},e),St)}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Ht=t.default.createElement("path",{className:"icon-remove_svg__fill",d:"M32 2.667C48.2 2.667 61.333 15.8 61.333 32S48.2 61.333 32 61.333 2.667 48.2 2.667 32 15.8 2.667 32 2.667zm9.886 19.447a2.668 2.668 0 00-3.772 0L32 28.23l-6.114-6.115-.134-.124a2.667 2.667 0 00-3.638.124l-.124.134a2.667 2.667 0 00.124 3.638L28.23 32l-6.115 6.114-.124.134a2.667 2.667 0 00.124 3.638l.134.124a2.667 2.667 0 003.638-.124L32 35.77l6.114 6.115.134.124a2.667 2.667 0 003.638-.124l.124-.134a2.667 2.667 0 00-.124-3.638L35.77 32l6.115-6.114.124-.134a2.667 2.667 0 00-.124-3.638z",fill:"#000",fillRule:"evenodd"});function jt(e){return t.default.createElement("svg",Mt({viewBox:"0 0 64 64"},e),Ht)}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var It=t.default.createElement("path",{className:"icon-search_svg__fill",d:"M26.667 48C14.885 48 5.333 38.449 5.333 26.667c0-11.782 9.552-21.334 21.334-21.334S48 14.885 48 26.667c0 4.93-1.672 9.469-4.48 13.081l13.67 13.67a2.668 2.668 0 01-3.772 3.772l-13.67-13.67A21.239 21.239 0 0126.667 48zm0-5.333c8.836 0 16-7.164 16-16 0-8.837-7.164-16-16-16-8.837 0-16 7.163-16 16 0 8.836 7.163 16 16 16z",fill:"#000",fillRule:"evenodd"});function Pt(e){return t.default.createElement("svg",Dt({viewBox:"0 0 64 64"},e),It)}function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Bt=t.default.createElement("path",{className:"icon-send_svg__fill",d:"M59.795 29.43L7.329 2.979C4.691 1.802 1.76 4.153 2.932 6.798l6.925 18.609a2 2 0 001.544 1.275l32.273 5.394L11.4 37.47a1.998 1.998 0 00-1.544 1.275L2.932 57.353c-.879 2.645 1.76 4.997 4.397 3.527l52.466-26.453c2.051-.882 2.051-3.82 0-4.996z",fill:"#000",fillRule:"evenodd"});function Ut(e){return t.default.createElement("svg",xt({viewBox:"0 0 64 64"},e),Bt)}function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Vt=t.default.createElement("path",{className:"icon-settings-filled_svg__fill",d:"M32 2.667A5.332 5.332 0 0137.333 8v.24A4.4 4.4 0 0040 12.267a4.4 4.4 0 004.853-.88l.16-.16a5.332 5.332 0 017.547 0 5.333 5.333 0 010 7.546l-.16.16a4.401 4.401 0 00-.88 4.854V24a4.4 4.4 0 004.027 2.667H56c2.946 0 5.333 2.387 5.333 5.333S58.946 37.333 56 37.333h-.24A4.4 4.4 0 0051.733 40a4.4 4.4 0 00.88 4.853l.16.16a5.332 5.332 0 010 7.547 5.333 5.333 0 01-7.546 0l-.16-.16a4.401 4.401 0 00-4.854-.88 4.397 4.397 0 00-2.666 4.027V56a5.333 5.333 0 01-10.667 0v-.24A4.4 4.4 0 0024 51.733a4.4 4.4 0 00-4.853.88l-.16.16a5.332 5.332 0 01-7.547 0 5.333 5.333 0 010-7.546l.16-.16a4.401 4.401 0 00.88-4.854 4.397 4.397 0 00-4.027-2.666H8A5.333 5.333 0 018 26.88h.24A4.4 4.4 0 0012.267 24a4.4 4.4 0 00-.88-4.853l-.16-.16a5.332 5.332 0 010-7.547 5.333 5.333 0 017.546 0l.16.16a4.401 4.401 0 004.854.88H24a4.4 4.4 0 002.667-4.027V8A5.332 5.332 0 0132 2.667zM32 24a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"});function Ft(e){return t.default.createElement("svg",Gt({viewBox:"0 0 64 64"},e),Vt)}function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Kt=t.default.createElement("path",{className:"icon-spinner_svg__fill",d:"M32 61.333C48.2 61.333 61.333 48.2 61.333 32S48.2 2.667 32 2.667 2.667 15.8 2.667 32a2.838 2.838 0 105.678 0C8.344 18.935 18.934 8.344 32 8.344c13.065 0 23.656 10.591 23.656 23.656S45.065 55.656 32 55.656a2.838 2.838 0 100 5.677z",fill:"#000",fillRule:"evenodd"});function kt(e){return t.default.createElement("svg",Yt({viewBox:"0 0 64 64"},e),Kt)}function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var qt=t.default.createElement("path",{className:"icon-supergroup_svg__fill",d:"M36.889 43.013c6.608 0 12.121 4.685 12.43 10.734l.014.537V58a2.667 2.667 0 01-5.316.311L44 58v-3.716c0-3.07-2.87-5.718-6.636-5.925l-.475-.013H27.11c-3.838 0-6.86 2.525-7.096 5.557l-.015.381V58a2.667 2.667 0 01-5.315.311L14.667 58v-3.716c0-6.126 5.324-10.986 11.864-11.26l.58-.011h9.778zm18.578-17.291c.266 0 .53.04.784.118 4.632 1.426 7.518 4.801 7.736 9.688l.013.594v12.8a2.667 2.667 0 01-5.315.311l-.018-.311V36.124c-.002-2.595-1.163-4.171-3.528-5.034l-.104-.037-2.502.002a2.667 2.667 0 01-2.648-2.356l-.018-.31a2.67 2.67 0 012.355-2.65l.311-.017h2.934zm-44 0l.31.018a2.666 2.666 0 012.356 2.648l-.018.311a2.666 2.666 0 01-2.648 2.356l-2.51-.002-.119.042c-2.246.85-3.503 2.574-3.505 5.147v12.68l-.018.31A2.666 2.666 0 010 48.922V36.24l.014-.591c.225-4.874 3.203-8.415 7.712-9.809.255-.078.52-.118.788-.118h2.953zM32 19.958c5.512 0 10 4.409 10 9.871 0 5.463-4.488 9.872-10 9.872s-10-4.41-10-9.872 4.488-9.871 10-9.871zm0 5.333c-2.588 0-4.667 2.043-4.667 4.538 0 2.496 2.08 4.538 4.667 4.538 2.588 0 4.667-2.042 4.667-4.538 0-2.495-2.08-4.538-4.667-4.538zM17.333 2.667c5.513 0 10 4.409 10 9.871 0 5.462-4.487 9.871-10 9.871-5.512 0-10-4.409-10-9.871 0-5.462 4.488-9.871 10-9.871zm29.334 0c5.512 0 10 4.409 10 9.871 0 5.462-4.488 9.871-10 9.871-5.513 0-10-4.409-10-9.871 0-5.462 4.487-9.871 10-9.871zM17.333 8c-2.587 0-4.666 2.042-4.666 4.538 0 2.496 2.079 4.538 4.666 4.538 2.588 0 4.667-2.042 4.667-4.538C22 10.042 19.921 8 17.333 8zm29.334 0C44.079 8 42 10.042 42 12.538c0 2.496 2.079 4.538 4.667 4.538 2.587 0 4.666-2.042 4.666-4.538 0-2.496-2.079-4.538-4.666-4.538z",fill:"#000",fillRule:"evenodd"});function Jt(e){return t.default.createElement("svg",Wt({viewBox:"0 0 64 64"},e),qt)}function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var Xt=t.default.createElement("path",{className:"icon-thumbnail-none_svg__fill",d:"M34.667 5.333a2.667 2.667 0 010 5.334H13.333a2.667 2.667 0 00-2.666 2.666v37.334c0 1.143.72 2.118 1.73 2.497l28.384-28.383a2.667 2.667 0 013.771 0l8.781 8.78v-4.228a2.667 2.667 0 012.498-2.661l.169-.005a2.667 2.667 0 012.667 2.666v21.334a8 8 0 01-8 8H13.33a8 8 0 01-7.998-8V13.333a8 8 0 018-8zm8 25.105L19.77 53.333h30.897a2.667 2.667 0 002.661-2.498l.005-.168v-9.563L42.667 30.438zM22.667 16a6.666 6.666 0 110 13.333 6.666 6.666 0 010-13.333zm0 5.333a1.334 1.334 0 100 2.667 1.334 1.334 0 000-2.667zM56.78 3.448a2.665 2.665 0 013.771 0 2.665 2.665 0 010 3.771l-4.782 4.78 4.782 4.782c.998.998 1.04 2.59.125 3.638l-.125.133a2.665 2.665 0 01-3.771 0l-4.782-4.781-4.78 4.781a2.667 2.667 0 01-3.638.125l-.133-.125a2.665 2.665 0 010-3.771L48.228 12l-4.78-4.781a2.667 2.667 0 01-.125-3.638l.125-.133a2.665 2.665 0 013.771 0l4.78 4.78z",fill:"#000",fillRule:"evenodd"});function Zt(e){return t.default.createElement("svg",Qt({viewBox:"0 0 64 64"},e),Xt)}function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var el=t.default.createElement("g",{fill:"none",fillRule:"evenodd"},t.default.createElement("rect",{className:"icon-toggleoff_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),t.default.createElement("circle",{cx:24,cy:24,r:12,fill:"#FFF"}),t.default.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),t.default.createElement("path",{className:"icon-toggleoff_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}));function tl(e){return t.default.createElement("svg",$t({viewBox:"0 0 88 48"},e),el)}function ll(){return(ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var al=t.default.createElement("g",{fill:"none",fillRule:"evenodd"},t.default.createElement("rect",{className:"icon-toggleon_svg__fill",width:80,height:40,x:4,y:4,fill:"#000",rx:20}),t.default.createElement("circle",{cx:64,cy:24,r:12,fill:"#FFF"}),t.default.createElement("path",{fill:"#FFF",d:"M64 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40zm0 2H24C14.059 6 6 14.059 6 24c0 9.764 7.774 17.712 17.47 17.992L24 42h40c9.941 0 18-8.059 18-18 0-9.764-7.774-17.712-17.47-17.992L64 6z"}),t.default.createElement("path",{className:"icon-toggleon_svg__fill",fill:"#000",d:"M64 0H24C10.745 0 0 10.745 0 24s10.745 24 24 24h40c13.255 0 24-10.745 24-24S77.255 0 64 0zm0 4c11.046 0 20 8.954 20 20s-8.954 20-20 20H24C12.954 44 4 35.046 4 24S12.954 4 24 4h40z"}));function rl(e){return t.default.createElement("svg",ll({viewBox:"0 0 88 48"},e),al)}function nl(){return(nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var cl=t.default.createElement("path",{className:"icon-user_svg__fill",d:"M42.667 37.333c7.17 0 13.018 5.66 13.32 12.755l.013.579V56a2.667 2.667 0 01-5.315.311L50.667 56v-5.333c0-4.26-3.33-7.743-7.53-7.987l-.47-.013H21.333a8 8 0 00-7.986 7.53l-.014.47V56a2.667 2.667 0 01-5.316.311L8 56v-5.333c0-7.17 5.66-13.019 12.755-13.321l.578-.013h21.334zM32 5.333c7.364 0 13.333 5.97 13.333 13.334C45.333 26.03 39.363 32 32 32c-7.364 0-13.333-5.97-13.333-13.333 0-7.364 5.97-13.334 13.333-13.334zm0 5.334a8 8 0 100 16 8 8 0 000-16z",fill:"#000",fillRule:"evenodd"});function ol(e){return t.default.createElement("svg",nl({viewBox:"0 0 64 64"},e),cl)}var il={DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",CONTENT:"CONTENT",CONTENT_INVERSE:"CONTENT_INVERSE",WHITE:"WHITE",SENT:"SENT",READ:"READ",ON_BACKGROUND_1:"ON_BACKGROUND_1",ON_BACKGROUND_2:"ON_BACKGROUND_2",ON_BACKGROUND_3:"ON_BACKGROUND_3",BACKGROUND_3:"BACKGROUND_3",ERROR:"ERROR"};function ul(e){switch(e){case il.PRIMARY:return"sendbird-icon-color--primary";case il.SECONDARY:return"sendbird-icon-color--secondary";case il.CONTENT:return"sendbird-icon-color--content";case il.CONTENT_INVERSE:return"sendbird-icon-color--content-inverse";case il.WHITE:return"sendbird-icon-color--white";case il.SENT:return"sendbird-icon-color--sent";case il.READ:return"sendbird-icon-color--read";case il.ON_BACKGROUND_1:return"sendbird-icon-color--on-background-1";case il.ON_BACKGROUND_2:return"sendbird-icon-color--on-background-2";case il.ON_BACKGROUND_3:return"sendbird-icon-color--on-background-3";case il.BACKGROUND_3:return"sendbird-icon-color--background-3";case il.ERROR:return"sendbird-icon-color--error";default:return""}}function fl(e){switch(e){case o.ADD:return t.default.createElement(f,null);case o.ARROW_LEFT:return t.default.createElement(v,null);case o.ATTACH:return t.default.createElement(E,null);case o.BAN:return t.default.createElement(_,null);case o.BROADCAST:return t.default.createElement(y,null);case o.CAMERA:return t.default.createElement(A,null);case o.CHANNELS:return t.default.createElement(L,null);case o.CHAT:return t.default.createElement(z,null);case o.CHAT_FILLED:return t.default.createElement(j,null);case o.CHEVRON_DOWN:return t.default.createElement(P,null);case o.CHEVRON_RIGHT:return t.default.createElement(U,null);case o.CLOSE:return t.default.createElement(F,null);case o.COLLAPSE:return t.default.createElement(k,null);case o.COPY:return t.default.createElement(J,null);case o.CREATE:return t.default.createElement(Z,null);case o.DELETE:return t.default.createElement(te,null);case o.DISCONNECTED:return t.default.createElement(re,null);case o.DOCUMENT:return t.default.createElement(oe,null);case o.DONE:return t.default.createElement(fe,null);case o.DONE_ALL:return t.default.createElement(ve,null);case o.DOWNLOAD:return t.default.createElement(Ee,null);case o.EDIT:return t.default.createElement(_e,null);case o.EMOJI_MORE:return t.default.createElement(ye,null);case o.ERROR:return t.default.createElement(Ae,null);case o.EXPAND:return t.default.createElement(Le,null);case o.FILE_AUDIO:return t.default.createElement(ze,null);case o.FILE_DOCUMENT:return t.default.createElement(je,null);case o.FREEZE:return t.default.createElement(Pe,null);case o.GIF:return t.default.createElement(Ue,null);case o.INFO:return t.default.createElement(Fe,null);case o.LEAVE:return t.default.createElement(ke,null);case o.MEMBERS:return t.default.createElement(Je,null);case o.MESSAGE:return t.default.createElement(Ze,null);case o.MODERATIONS:return t.default.createElement(tt,null);case o.MORE:return t.default.createElement(rt,null);case o.MUTE:return t.default.createElement(ot,null);case o.NOTIFICATIONS:return t.default.createElement(ft,null);case o.NOTIFICATIONS_OFF_FILLED:return t.default.createElement(vt,null);case o.OPERATOR:return t.default.createElement(Et,null);case o.PHOTO:return t.default.createElement(_t,null);case o.PLAY:return t.default.createElement(yt,null);case o.PLUS:return t.default.createElement(At,null);case o.QUESTION:return t.default.createElement(Lt,null);case o.REFRESH:return t.default.createElement(zt,null);case o.REMOVE:return t.default.createElement(jt,null);case o.SEARCH:return t.default.createElement(Pt,null);case o.SEND:return t.default.createElement(Ut,null);case o.SETTINGS_FILLED:return t.default.createElement(Ft,null);case o.SPINNER:return t.default.createElement(kt,null);case o.SUPERGROUP:return t.default.createElement(Jt,null);case o.THUMBNAIL_NONE:return t.default.createElement(Zt,null);case o.TOGGLE_OFF:return t.default.createElement(tl,null);case o.TOGGLE_ON:return t.default.createElement(rl,null);case o.USER:return t.default.createElement(ol,null);default:return"icon"}}function sl(l){var a=l.type,r=l.width,n=l.height,c=l.children,o=l.className,i=l.onClick,u=l.fillColor,f={width:"string"==typeof r?r:"".concat(r,"px"),minWidth:"string"==typeof r?r:"".concat(r,"px"),height:"string"==typeof n?n:"".concat(n,"px"),minHeight:"string"==typeof n?n:"".concat(n,"px")},s=Array.isArray(o)?o:[o];return t.default.createElement("div",{onClick:i,onKeyDown:i,role:"button",tabIndex:"0",className:[].concat((0,e.c)(s),["sendbird-icon",ul(u)]).join(" "),style:f},c||fl(a))}sl.propTypes={type:l.default.oneOfType([l.default.oneOf(Object.keys(o)),l.default.string]).isRequired,width:l.default.oneOfType([l.default.string,l.default.number]),height:l.default.oneOfType([l.default.string,l.default.number]),onClick:l.default.func,children:l.default.element,className:l.default.oneOfType([l.default.string,l.default.arrayOf(l.default.string)]),fillColor:l.default.oneOf(Object.keys(il))},sl.defaultProps={onClick:function(){},width:26,height:26,children:null,className:"",fillColor:il.DEFAULT};var dl=o;exports.c=dl;var vl=il;exports.d=vl;var pl=function(e){if("number"==typeof e)return e;if("string"==typeof e){var t=Number.parseFloat(e);if(!Number.isNaN(t))return t}return null},hl="sendbird-avatar-img",El=function(e){var l=e.width,a=e.height;return function(){var e=pl(l),r=pl(a);return"number"==typeof e&&(e*=.575),"number"==typeof r&&(r*=.575),t.default.createElement("div",{className:"sendbird-avatar-img--default",style:{width:l,height:a}},t.default.createElement(sl,{type:dl.USER,fillColor:vl.CONTENT,width:e,height:r}))}},Ol=function(l){var a=l.src,r=void 0===a?"":a,n=l.alt,o=void 0===n?"":n,i=l.height,u=l.width;return"string"==typeof r?t.default.createElement(c,{className:hl,url:r,height:i,width:u,alt:o,defaultComponent:El({height:i,width:u})}):r&&r.length?1===r.length?t.default.createElement(c,{className:hl,url:r[0],height:i,width:u,alt:o,defaultComponent:El({height:i,width:u})}):2===r.length?t.default.createElement("div",{className:"sendbird-avatar--inner__two-child"},t.default.createElement(c,{className:hl,url:r[0],height:i,width:u,alt:o,defaultComponent:El({height:i,width:u})}),t.default.createElement(c,{className:hl,url:r[1],height:i,width:u,alt:o,defaultComponent:El({height:i,width:u})})):3===r.length?t.default.createElement(t.default.Fragment,null,t.default.createElement("div",{className:"sendbird-avatar--inner__three-child--upper"},t.default.createElement(c,{className:hl,url:r[0],height:i,width:u,alt:o,defaultComponent:El({height:i,width:u})})),t.default.createElement("div",{className:"sendbird-avatar--inner__three-child--lower"},t.default.createElement(c,{className:hl,url:r[1],height:i,width:u,alt:o,defaultComponent:El({height:i,width:u})}),t.default.createElement(c,{className:hl,url:r[2],height:i,width:u,alt:o,defaultComponent:El({height:i,width:u})}))):t.default.createElement("div",{className:"sendbird-avatar--inner__four-child"},r.slice(0,4).map(function(l){return t.default.createElement(c,{className:hl,url:l,height:i,width:u,alt:o,key:(0,e.u)(),defaultComponent:El({height:i,width:u})})})):t.default.createElement(c,{className:hl,url:"",height:i,width:u,alt:o,defaultComponent:El({height:i,width:u})})};function ml(l,a){var r=l.src,n=void 0===r?"":r,c=l.alt,o=void 0===c?"":c,i=l.width,u=void 0===i?"56px":i,f=l.height,s=void 0===f?"56px":f,d=l.onClick,v=l.className,p=void 0===v?"":v,h=Array.isArray(p)?p:[p];return t.default.createElement("div",{className:(0,e.m)(h,["sendbird-avatar"]).join(" "),ref:a,style:{height:s,width:u},onClick:d,role:"button",tabIndex:0,onKeyDown:d},t.default.createElement(Ol,{src:n,height:s,width:u,alt:o}))}var _l=t.default.forwardRef(ml);exports.A=_l;var Nl={H_1:"H_1",H_2:"H_2",SUBTITLE_1:"SUBTITLE_1",SUBTITLE_2:"SUBTITLE_2",BODY_1:"BODY_1",BODY_2:"BODY_2",BUTTON_1:"BUTTON_1",BUTTON_2:"BUTTON_2",CAPTION_1:"CAPTION_1",CAPTION_2:"CAPTION_2",CAPTION_3:"CAPTION_3"},gl={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONCONTENT_1:"ONCONTENT_1",ONCONTENT_2:"ONCONTENT_2",PRIMARY:"PRIMARY",ERROR:"ERROR",SECONDARY_3:"SECONDARY_3"};function yl(e){switch(e){case Nl.H_1:return"sendbird-label--h-1";case Nl.H_2:return"sendbird-label--h-2";case Nl.SUBTITLE_1:return"sendbird-label--subtitle-1";case Nl.SUBTITLE_2:return"sendbird-label--subtitle-2";case Nl.BODY_1:return"sendbird-label--body-1";case Nl.BODY_2:return"sendbird-label--body-2";case Nl.BUTTON_1:return"sendbird-label--button-1";case Nl.BUTTON_2:return"sendbird-label--button-2";case Nl.CAPTION_1:return"sendbird-label--caption-1";case Nl.CAPTION_2:return"sendbird-label--caption-2";case Nl.CAPTION_3:return"sendbird-label--caption-3";default:return null}}function bl(e){switch(e){case gl.ONBACKGROUND_1:return"sendbird-label--color-onbackground-1";case gl.ONBACKGROUND_2:return"sendbird-label--color-onbackground-2";case gl.ONBACKGROUND_3:return"sendbird-label--color-onbackground-3";case gl.ONCONTENT_1:return"sendbird-label--color-oncontent-1";case gl.ONCONTENT_2:return"sendbird-label--color-oncontent-2";case gl.PRIMARY:return"sendbird-label--color-primary";case gl.ERROR:return"sendbird-label--color-error";case gl.SECONDARY_3:return"sendbird-label--color-secondary-3";default:return null}}var Rl="sendbird-label";function Al(l){var a=l.type,r=l.color,n=l.children,c=l.className,o=Array.isArray(c)?[Rl].concat((0,e.c)(c)):[Rl,c];return a&&o.push(yl(a)),r&&o.push(bl(r)),t.default.createElement("span",{className:o.join(" ")},n)}Al.propTypes={type:l.default.oneOf([].concat((0,e.c)(Object.keys(Nl)),[""])),color:l.default.oneOf([].concat((0,e.c)(Object.keys(gl)),[""])),children:l.default.oneOfType([l.default.string,l.default.number,l.default.element,l.default.any]),className:l.default.oneOfType([l.default.string,l.default.arrayOf(l.default.string)])},Al.defaultProps={type:"",color:"",className:[],children:null};var Cl=Nl;exports.a=Cl;var Tl=gl;exports.b=Tl;var Ll=(0,e.g)("en");function wl(){return{LOADING:"LOADING",NO_CHANNELS:"NO_CHANNELS",NO_MESSAGES:"NO_MESSAGES",WRONG:"WRONG",SEARCH_IN:"SEARCH_IN",SEARCHING:"SEARCHING",NO_RESULTS:"NO_RESULTS"}}exports.e=Ll;var Sl=wl();function zl(l){var a=l.children,r=l.className,n=l.width,c=l.height,o=Array.isArray(r)?r:[r];return t.default.createElement("div",{className:[].concat((0,e.c)(o),["sendbird-loader"]).join(" "),style:{width:"string"==typeof n?n:"".concat(n,"px"),height:"string"==typeof c?c:"".concat(c,"px")}},a)}exports.f=Sl,zl.propTypes={children:l.default.element,className:l.default.oneOfType([l.default.string,l.default.arrayOf(l.default.string)]),width:l.default.oneOfType([l.default.string,l.default.number]),height:l.default.oneOfType([l.default.string,l.default.number])},zl.defaultProps={children:t.default.createElement(sl,{type:dl.SPINNER,width:"26px",height:"26px"}),className:"",width:"26px",height:"26px"};var Ml=Sl;function Hl(l){var a=l.className,r=l.type,n=l.retryToConnect,c=l.searchInString,o=(0,t.useContext)(e.d).stringSet,i=Array.isArray(a)?a:[a];return t.default.createElement("div",{className:[].concat((0,e.c)(i),["sendbird-place-holder"]).join(" ")},r===Ml.LOADING&&t.default.createElement(zl,{width:"48px",height:"48px"},t.default.createElement(sl,{type:dl.SPINNER,fillColor:vl.PRIMARY,width:"48px",height:"48px"})),(r===Ml.NO_CHANNELS||r===Ml.NO_MESSAGES||r===Ml.WRONG)&&t.default.createElement("div",{className:"sendbird-place-holder__body"},r===Ml.NO_CHANNELS&&t.default.createElement(sl,{className:"sendbird-place-holder__body__icon",type:dl.CHAT,fillColor:vl.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===Ml.WRONG&&t.default.createElement(sl,{className:"sendbird-place-holder__body__icon",type:dl.ERROR,fillColor:vl.ON_BACKGROUND_3,width:"64px",height:"64px"}),r===Ml.NO_MESSAGES&&t.default.createElement(sl,{className:"sendbird-place-holder__body__icon",type:dl.MESSAGE,fillColor:vl.ON_BACKGROUND_3,width:"64px",height:"64px"}),t.default.createElement(Al,{className:"sendbird-place-holder__body__text",type:Cl.BODY_1,color:Tl.ONBACKGROUND_2},r===Ml.NO_CHANNELS&&o.PLACE_HOLDER__NO_CHANNEL,r===Ml.WRONG&&o.PLACE_HOLDER__WRONG,r===Ml.NO_MESSAGES&&o.PLACE_HOLDER__NO_MESSAGES),n&&t.default.createElement("div",{className:"sendbird-place-holder__body__reconnect",role:"button",tabIndex:0,onClick:n,onKeyPress:n},t.default.createElement(sl,{className:"sendbird-place-holder__body__reconnect__icon",type:dl.REFRESH,fillColor:vl.PRIMARY,width:"20px",height:"20px"}),t.default.createElement(Al,{className:"sendbird-place-holder__body__reconnect__text",type:Cl.BUTTON_1,color:Tl.PRIMARY},o.PLACE_HOLDER__RETRY_TO_CONNECT))),(r===Ml.NO_RESULTS||r===Ml.SEARCH_IN||r===Ml.SEARCHING)&&t.default.createElement("div",{className:"sendbird-place-holder__body--align-top"},r===Ml.SEARCH_IN&&t.default.createElement("div",{className:"sendbird-place-holder__body--align-top__text"},t.default.createElement(Al,{className:"sendbird-place-holder__body--align-top__text__search-in",type:Cl.BUTTON_2,color:Tl.ONBACKGROUND_2},o.SEARCH_IN),t.default.createElement(Al,{className:"sendbird-place-holder__body--align-top__text__channel-name",type:Cl.BUTTON_2,color:Tl.PRIMARY},"'".concat(c)),t.default.createElement(Al,{className:"sendbird-place-holder__body--align-top__text__quote",type:Cl.BUTTON_2,color:Tl.PRIMARY},"'")),r===Ml.SEARCHING&&t.default.createElement(Al,{className:"sendbird-place-hlder__body--align-top__searching",type:Cl.BODY_1,color:Tl.ONBACKGROUND_2},o.SEARCHING),r===Ml.NO_RESULTS&&t.default.createElement(Al,{className:"sendbird-place-hlder__body--align-top__no-result",type:Cl.BODY_1,color:Tl.ONBACKGROUND_2},o.NO_SEARCHED_MESSAGE)))}exports.i=Ml,Hl.propTypes={className:l.default.oneOfType([l.default.string,l.default.arrayOf(l.default.string)]),type:l.default.oneOfType([l.default.oneOf(Object.keys(Ml)),l.default.string]).isRequired,retryToConnect:l.default.func,searchInString:l.default.string},Hl.defaultProps={className:"",retryToConnect:null,searchInString:""};
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9"}],"zGzG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.B=b,exports.C=he,exports.M=O,exports.a=R,exports.k=N,exports.s=exports.n=exports.m=exports.l=exports.j=exports.i=exports.h=exports.g=exports.f=exports.e=exports.d=exports.c=exports.b=exports.U=exports.T=exports.S=exports.L=exports.I=exports.E=exports.D=void 0;var e=require("./LocalizationContext-12658c38.js"),n=u(require("react")),t=o(require("prop-types")),r=require("./index-ad616be9.js"),a=require("react-dom");function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:n})(e)}function u(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l(n);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var i=n.default.createContext({disableUserProfile:!0,isOpenChannel:!1,renderUserProfile:null});exports.f=i;var s=function(e){var t=e.children,r=e.className;return n.default.createElement(i.Provider,{value:e},n.default.createElement("div",{className:r},t))};exports.e=s,s.propTypes={children:t.default.oneOfType([t.default.element,t.default.arrayOf(t.default.element),t.default.any]).isRequired,isOpenChannel:t.default.bool,disableUserProfile:t.default.bool,renderUserProfile:t.default.func,className:t.default.string},s.defaultProps={className:null,isOpenChannel:!1,disableUserProfile:!1,renderUserProfile:null};var d="sendbird-iconbutton",c=n.default.forwardRef(function(t,r){var a=t.children,o=t.className,l=t.disabled,u=void 0!==l&&l,i=t.type,s=t.height,c=t.width,f=t.onClick,p=t.onBlur,h=t.style,m=(0,n.useState)(""),g=(0,e.b)(m,2),b=g[0],E=g[1],v=Array.isArray(o)?o:[o];return v.unshift(d),n.default.createElement("button",{className:"".concat(v.join(" ")," ").concat(b),disabled:u,ref:r,type:i,style:(0,e.a)({},h,{height:s,width:c}),onClick:function(e){u||(E("sendbird-iconbutton--pressed"),f(e))},onBlur:function(e){E(""),p(e)}},n.default.createElement("span",{className:"sendbird-iconbutton__inner"},a))});exports.I=c,c.propTypes={height:t.default.string,width:t.default.string,className:t.default.oneOfType([t.default.string,t.default.arrayOf(t.default.string)]),children:t.default.oneOfType([t.default.element,t.default.arrayOf(t.default.element),t.default.any]).isRequired,type:t.default.string,disabled:t.default.bool,onClick:t.default.func,onBlur:t.default.func,style:t.default.shape({})},c.defaultProps={height:"56px",width:"56px",className:"",type:"button",disabled:!1,onClick:function(){},onBlur:function(){},style:{}};var f="sendbird-modal-root";exports.m=f;var p={PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",DANGER:"DANGER",DISABLED:"DISABLED"};exports.T=p;var h={BIG:"BIG",SMALL:"SMALL"};function m(e){switch(e){case p.PRIMARY:return"sendbird-button--primary";case p.SECONDARY:return"sendbird-button--secondary";case p.DANGER:return"sendbird-button--danger";case p.DISABLED:return"sendbird-button--disabled";default:return null}}function g(e){switch(e){case h.BIG:return"sendbird-button--big";case h.SMALL:return"sendbird-button--small";default:return null}}function b(t){var a=t.type,o=t.size,l=t.children,u=t.disabled,i=t.onClick,s=t.className,d=["sendbird-button",u?"sendbird-button__disabled":"",m(a),g(o)].concat((0,e.c)(Array.isArray(s)?s:[s])).join(" ");return n.default.createElement("button",{type:"button",className:d,onClick:i,disabled:u},n.default.createElement(r.L,{className:"sendbird-button__text",type:r.a.BUTTON_1,color:r.b.ONCONTENT_1},l))}exports.l=h,b.propTypes={children:t.default.oneOfType([t.default.string,t.default.element,t.default.arrayOf(t.default.element)]),disabled:t.default.bool,type:t.default.oneOf(Object.keys(p)),size:t.default.oneOf(Object.keys(h)),onClick:t.default.func,className:t.default.oneOfType([t.default.string,t.default.arrayOf(t.default.string)])},b.defaultProps={children:"Button",type:p.PRIMARY,disabled:!1,size:h.BIG,onClick:function(){},className:""};var E=function(e){var t=e.titleText;return n.default.createElement("div",{className:"sendbird-modal-header"},n.default.createElement(r.L,{type:r.a.H_1,color:r.b.ONBACKGROUND_1},t))};E.propTypes={titleText:t.default.string.isRequired};var v=function(e){var t=e.children;return n.default.createElement("div",{className:"sendbird-modal-body"},t)};v.propTypes={children:t.default.oneOfType([t.default.element.isRequired,t.default.arrayOf(t.default.element.isRequired)])},v.defaultProps={children:null};var C=function(t){var a=t.onSubmit,o=t.onCancel,l=t.disabled,u=void 0!==l&&l,i=t.submitText,s=t.type,d=(0,n.useContext)(e.d).stringSet;return n.default.createElement("div",{className:"sendbird-modal-footer"},n.default.createElement(b,{type:p.SECONDARY,onClick:o},n.default.createElement(r.L,{type:r.a.BUTTON_1,color:r.b.ONBACKGROUND_1},d.BUTTON__CANCEL)),n.default.createElement(b,{type:s,disabled:u,onClick:a},i))};function O(e){var t=e.children,o=e.onCancel,l=e.onSubmit,u=e.disabled,i=e.submitText,s=e.titleText,d=e.hideFooter,p=e.type;return(0,a.createPortal)(n.default.createElement("div",{className:"sendbird-modal"},n.default.createElement("div",{className:"sendbird-modal-content"},n.default.createElement(E,{titleText:s}),n.default.createElement(v,null,t),!d&&n.default.createElement(C,{disabled:u,onCancel:o,onSubmit:l,submitText:i,type:p}),n.default.createElement("div",{className:"sendbird-modal-close"},n.default.createElement(c,{width:"32px",height:"32px",onClick:o},n.default.createElement(r.I,{type:r.c.CLOSE,fillColor:r.d.DEFAULT,width:"24px",height:"24px"})))),n.default.createElement("div",{className:"sendbird-modal-backdrop"})),document.getElementById(f))}C.propTypes={onCancel:t.default.func.isRequired,onSubmit:t.default.func.isRequired,submitText:t.default.string.isRequired,disabled:t.default.bool,type:t.default.string},C.defaultProps={disabled:!1,type:p.DANGER},O.propTypes={children:t.default.oneOfType([t.default.element,t.default.arrayOf(t.default.element)]),onCancel:t.default.func.isRequired,onSubmit:t.default.func.isRequired,hideFooter:t.default.bool,disabled:t.default.bool,type:t.default.string},O.defaultProps={children:null,hideFooter:!1,disabled:!1,type:p.DANGER};var y={ONBACKGROUND_1:"ONBACKGROUND_1",ONBACKGROUND_2:"ONBACKGROUND_2",ONBACKGROUND_3:"ONBACKGROUND_3",ONBACKGROUND_4:"ONBACKGROUND_4",ONCONTENT_1:"ONCONTENT_1",PRIMARY:"PRIMARY",ERROR:"ERROR"};function N(e){switch(e){case y.ONBACKGROUND_1:return"sendbird-color--onbackground-1";case y.ONBACKGROUND_2:return"sendbird-color--onbackground-2";case y.ONBACKGROUND_3:return"sendbird-color--onbackground-3";case y.ONBACKGROUND_4:return"sendbird-color--onbackground-4";case y.ONCONTENT_1:return"sendbird-color--oncontent-1";case y.PRIMARY:return"sendbird-color--primary";case y.ERROR:return"sendbird-color--error";default:return null}}function R(t){var r=t.color,a=t.children,o=t.disabled,l=t.className,u=t.onClick,i=t.notUnderline,s=Array.isArray(l)?l:[l];return n.default.createElement("div",{role:"button",tabIndex:0,className:[].concat((0,e.c)(s),[N(r),i?"sendbird-textbutton--not-underline":"sendbird-textbutton",o?"sendbird-textbutton--disabled":""]).join(" "),onClick:u,onKeyPress:u},a)}exports.j=y,R.propTypes={color:t.default.string,children:t.default.oneOfType([t.default.string,t.default.element]).isRequired,className:t.default.oneOfType([t.default.string,t.default.arrayOf(t.default.string)]),onClick:t.default.func,notUnderline:t.default.bool,disabled:t.default.bool},R.defaultProps={color:y.ONBACKGROUND_1,className:"",onClick:function(){},notUnderline:!1,disabled:!1};var w="SEND_MESSAGE_START";exports.S=w;var _="SEND_USER_MESSAGE";exports.h=_;var k="SEND_FILE_MESSAGE";exports.i=k;var x="UPDATE_USER_MESSAGE";exports.U=x;var S="DELETE_MESSAGE";exports.D=S;var U="LEAVE_CHANNEL";exports.L=U;var P="CREATE_CHANNEL";exports.d=P;var T=function(e){var n=e.stores,t=(void 0===n?{}:n).sdkStore;return(void 0===t?{}:t).sdk};exports.n=T;var A=function(e){var n=e.config;return(void 0===n?{}:n).pubSub},D=function(e){return function(n,t){return new Promise(function(r,a){var o=T(e);o||a(new Error("Sdk not found")),t?o.connect(n,t).then(function(e){return r(e)}).catch(function(e){return a(e)}):o.connect(n).then(function(e){return r(e)}).catch(function(e){return a(e)})})}},M=function(e){return function(){return new Promise(function(n,t){var r=T(e);r||t(new Error("Sdk not found")),r.disconnect().then(function(e){return n(e)}).catch(function(e){return t(e)})})}},I=function(e){return function(n,t){return new Promise(function(r,a){var o=T(e);o||a(new Error("Sdk not found")),o.updateCurrentUserInfo(n,t).then(function(e){return r(e)}).catch(function(e){return a(e)})})}},B=function(e){return function(n,t){var r=T(e),a=A(e);return new Promise(function(e,o){r||o(new Error("Sdk not found")),r.GroupChannel.getChannel(n).then(function(n){var o,l;e((o=null,(l=new Promise(function(e,l){o=n.sendUserMessage(t,function(t,o){var u=t,i=o;r.getErrorFirstCallback()&&(u=o,i=t),i?l(i):(e(u),a.publish(_,{message:u,channel:n}))}),a.publish(w,{message:o,channel:n})})).get=function(){return o},l))}).catch(o)})}},G=function(e){return function(n,t){var r=T(e),a=A(e);return new Promise(function(e,o){r||o(new Error("Sdk not found")),r.GroupChannel.getChannel(n).then(function(n){var o,l;e((o=null,l=new Promise(function(e,l){o=n.sendFileMessage(t,function(t,o){var u=t,i=o;r.getErrorFirstCallback()&&(u=o,i=t),i?l(i):(e(u),a.publish(k,{message:u,channel:n}))})}),t.file&&(o.localUrl=URL.createObjectURL(t.file)),t.fileUrl&&(o.localUrl=t.fileUrl),o.requestState="pending",a.publish(w,{message:o,channel:n}),l.get=function(){return o},l))}).catch(o)})}},L=function(e){return function(n,t,r){var a=T(e),o=A(e);return new Promise(function(e,l){a||l(new Error("Sdk not found")),a.GroupChannel.getChannel(n).then(function(n){n.updateUserMessage(t,r,function(t,r){var u=t,i=r;a.getErrorFirstCallback()&&(u=r,i=t),i?l(i):(e(u),o.publish(x,{message:u,channel:n,fromSelector:!0}))})}).catch(l)})}},q=function(e){return function(n,t){var r=T(e),a=A(e);return new Promise(function(e,o){r||o(new Error("Sdk not found")),r.GroupChannel.getChannel(n).then(function(n){var l=t.messageId;n.deleteMessage(t,function(u,i){var s=i;r.getErrorFirstCallback()&&(s=u),s?o(s):(e(t),a.publish(S,{messageId:l,channel:n}))})}).catch(o)})}},F=function(e){return function(n,t){var r=T(e),a=A(e);return new Promise(function(e,o){r||o(new Error("Sdk not found")),r.GroupChannel.getChannel(n).then(function(n){n.resendUserMessage(t).then(function(t){e(t),a.publish(_,{message:t,channel:n})}).catch(o)}).catch(o)})}},j=function(e){return function(n,t){var r=T(e),a=A(e);return new Promise(function(e,o){r||o(new Error("Sdk not found")),r.GroupChannel.getChannel(n).then(function(n){n.resendFileMessage(t).then(function(t){e(t),a.publish(k,{message:t,channel:n})}).catch(o)}).catch(o)})}},K=function(e){return function(n){var t=T(e),r=A(e);return new Promise(function(e,a){t||a(new Error("Sdk not found")),t.GroupChannel.createChannel(n).then(function(n){e(n),r.publish(P,{channel:n})}).catch(a)})}},Y=function(e){return function(n){var t=T(e),r=A(e);return new Promise(function(e,a){t||a(new Error("Sdk not found")),t.GroupChannel.getChannel(n).then(function(n){n.leave().then(function(){e(n),r.publish(U,{channel:n})}).catch(a)}).catch(a)})}},W=function(e){return function(n){var t=T(e);return new Promise(function(e,r){t||r(new Error("Sdk not found")),t.GroupChannel.getChannel(n).then(function(n){n.freeze().then(function(){e(n)}).catch(r)}).catch(r)})}},z=function(e){return function(n){var t=T(e);return new Promise(function(e,r){t||r(new Error("Sdk not found")),t.GroupChannel.getChannel(n).then(function(n){n.unfreeze().then(function(){e(n)}).catch(r)}).catch(r)})}},H=function(e){return function(n){var t=T(e);return new Promise(function(e,r){t||r(new Error("Sdk not found")),t.OpenChannel.createChannel(n).then(function(n){e(n)}).catch(r)})}},V=function(e){return function(n){var t=T(e);return new Promise(function(e,r){t||r(new Error("Sdk not found")),t.OpenChannel.getChannel(n,function(n,t){t?r(new Error(t)):n.enter(function(n,a){t?r(new Error(a)):e(n)})})})}},J=function(e){return function(n){var t=T(e);return new Promise(function(e,r){t||r(new Error("Sdk not found")),t.OpenChannel.getChannel(n,function(n,t){t?r(new Error(t)):n.exit(function(n,a){t?r(new Error(a)):e(n)})})})}},Q=function(e){return function(n,t){var r=T(e),a=A(e);return new Promise(function(e,o){r||o(new Error("Sdk not found")),r.OpenChannel.getChannel(n).then(function(n){var o,l;e((o=null,(l=new Promise(function(e,l){o=n.sendUserMessage(t,function(t,o){var u=t,i=o;r.getErrorFirstCallback()&&(u=o,i=t),i?l(i):(e(u),a.publish(_,{message:u,channel:n}))}),a.publish(w,{message:o,channel:n})})).get=function(){return o},l))}).catch(o)})}},X=function(e){return function(n,t){var r=T(e),a=A(e);return new Promise(function(e,o){r||o(new Error("Sdk not found")),r.OpenChannel.getChannel(n).then(function(n){var o,l;e((o=null,l=new Promise(function(e,l){o=n.sendFileMessage(t,function(t,o){var u=t,i=o;r.getErrorFirstCallback()&&(u=o,i=t),i?l(i):(e(u),a.publish(k,{message:u,channel:n}))})}),t.file&&(o.localUrl=URL.createObjectURL(t.file)),t.fileUrl&&(o.localUrl=t.fileUrl),o.requestState="pending",a.publish(w,{message:o,channel:n}),l.get=function(){return o},l))}).catch(o)})}},Z=function(e){return function(n,t,r){var a=T(e),o=A(e);return new Promise(function(e,l){a||l(new Error("Sdk not found")),a.OpenChannel.getChannel(n).then(function(n){n.updateUserMessage(t,r,function(t,r){var u=t,i=r;a.getErrorFirstCallback()&&(u=r,i=t),i?l(i):(e(u),o.publish(x,{message:u,channel:n,fromSelector:!0}))})}).catch(l)})}},$=function(e){return function(n,t){var r=T(e),a=A(e);return new Promise(function(e,o){r||o(new Error("Sdk not found")),r.GroupChannel.getChannel(n).then(function(n){var l=t.messageId;n.deleteMessage(t,function(u,i){var s=i;r.getErrorFirstCallback()&&(s=u),s?o(s):(e(t),a.publish(S,{messageId:l,channel:n}))})}).catch(o)})}},ee=function(e){return function(n,t){var r=T(e),a=A(e);return new Promise(function(e,o){r||o(new Error("Sdk not found")),r.OpenChannel.getChannel(n).then(function(n){n.resendUserMessage(t).then(function(t){e(t),a.publish(_,{message:t,channel:n})}).catch(o)}).catch(o)})}},ne=function(e){return function(n,t){var r=T(e),a=A(e);return new Promise(function(e,o){r||o(new Error("Sdk not found")),r.OpenChannel.getChannel(n).then(function(n){n.resendFileMessage(t).then(function(t){e(t),a.publish(k,{message:t,channel:n})}).catch(o)}).catch(o)})}},te={getSdk:T,getConnect:D,getDisconnect:M,getUpdateUserInfo:I,getSendUserMessage:B,getSendFileMessage:G,getUpdateUserMessage:L,getDeleteMessage:q,getResendUserMessage:F,getResendFileMessage:j,getFreezeChannel:W,getUnFreezeChannel:z,getCreateChannel:K,getLeaveChannel:Y,getCreateOpenChannel:H,getEnterOpenChannel:V,getExitOpenChannel:J,getOpenChannelSendUserMessage:Q,getOpenChannelSendFileMessage:X,getOpenChannelUpdateUserMessage:Z,getOpenChannelDeleteMessage:$,getOpenChannelResendUserMessage:ee,getOpenChannelResendFileMessage:ne};function re(t){var a=t.user,o=t.currentUserId,l=t.sdk,u=t.logger,i=t.disableMessaging,s=void 0!==i&&i,d=t.createChannel,c=t.onSuccess,f=(0,n.useContext)(e.d).stringSet;return n.default.createElement("div",{className:"sendbird__user-profile"},n.default.createElement("section",{className:"sendbird__user-profile-avatar"},n.default.createElement(r.A,{height:"80px",width:"80px",src:a.profileUrl})),n.default.createElement("section",{className:"sendbird__user-profile-name"},n.default.createElement(r.L,{type:r.a.H_2,color:r.b.ONBACKGROUND_1},a.nickname||f.NO_NAME)),a.userId!==o&&!s&&n.default.createElement("section",{className:"sendbird__user-profile-message"},n.default.createElement(b,{type:p.SECONDARY,onClick:function(){var e=new l.GroupChannelParams;e.isDistinct=!0,e.addUserIds([a.userId]),c(),d(e).then(function(e){u.info("UserProfile, channel create",e)})}},f.USER_PROFILE__MESSAGE)),n.default.createElement("div",{className:"sendbird__user-profile-seperator"}),n.default.createElement("section",{className:"sendbird__user-profile-userId"},n.default.createElement(r.L,{className:"sendbird__user-profile-userId--label",type:r.a.CAPTION_2,color:r.b.ONBACKGROUND_2},f.USER_PROFILE__USER_ID),n.default.createElement(r.L,{className:"sendbird__user-profile-userId--value",type:r.a.BODY_1,color:r.b.ONBACKGROUND_1},a.userId)))}exports.s=te;var ae=function(e){return{sdk:T(e),createChannel:K(e),logger:e.config.logger,pubsub:e.config.pubSub}},oe=(0,e.w)(re,ae);exports.g=oe;var le=function(t){function r(t){var a;return(0,e.h)(this,r),a=(0,e.i)(this,(0,e.j)(r).call(this,t)),(0,e.k)((0,e.l)(a),"showParent",function(){var e=a.props.parentContainRef,n=void 0===e?{}:e,t=n.current;n&&t&&t.classList.add("sendbird-icon--pressed")}),(0,e.k)((0,e.l)(a),"hideParent",function(){var e=a.props.parentContainRef,n=void 0===e?{}:e,t=n.current;n&&t&&t.classList.remove("sendbird-icon--pressed")}),(0,e.k)((0,e.l)(a),"setupEvents",function(){var n=a.props.closeDropdown,t=(0,e.l)(a).menuRef,r=function(e){t.current&&!t.current.contains(e.target)&&n()};a.setState({handleClickOutside:r}),document.addEventListener("mousedown",r)}),(0,e.k)((0,e.l)(a),"cleanUpEvents",function(){var e=a.state.handleClickOutside;document.removeEventListener("mousedown",e)}),(0,e.k)((0,e.l)(a),"getMenuPosition",function(){var e=a.props,n=e.parentRef,t=e.openLeft,r=n.current.getBoundingClientRect(),o=r.x||r.left,l=r.y||r.top,u={top:l,left:o};if(!a.menuRef.current)return u;var i=window,s=i.innerWidth,d=i.innerHeight,c=a.menuRef.current.getBoundingClientRect();if(l+c.height>d&&(u.top-=c.height),o+c.width>s&&!t&&(u.left-=c.width),u.top<0&&(u.top=c.height<d?(d-c.height)/2:0),u.left<0&&(u.left=c.width<s?(s-c.width)/2:0),u.top+=32,t){var f=Number.isNaN(c.width-30)?108:c.width-30;u.left-=f}return a.setState({menuStyle:u})}),a.menuRef=n.default.createRef(),a.state={menuStyle:{},handleClickOutside:function(){}},a}return(0,e.e)(r,t),(0,e.f)(r,[{key:"componentDidMount",value:function(){this.setupEvents(),this.getMenuPosition(),this.showParent()}},{key:"componentWillUnmount",value:function(){this.cleanUpEvents(),this.hideParent()}},{key:"render",value:function(){var t=this.state.menuStyle,r=this.props,o=r.children,l=r.style;return(0,a.createPortal)(n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),n.default.createElement("ul",{className:"sendbird-dropdown__menu",ref:this.menuRef,style:(0,e.a)({display:"inline-block",position:"fixed",left:"".concat(Math.round(t.left),"px"),top:"".concat(Math.round(t.top),"px")},l)},o)),document.getElementById("sendbird-dropdown-portal"))}}]),r}(n.Component);le.propTypes={closeDropdown:t.default.func.isRequired,children:t.default.oneOfType([t.default.element,t.default.arrayOf(t.default.element)]).isRequired,style:t.default.shape({}),parentRef:t.default.oneOfType([t.default.func,t.default.shape({current:t.default.instanceOf(Element)})]).isRequired,parentContainRef:t.default.oneOfType([t.default.func,t.default.shape({current:t.default.instanceOf(Element)})]).isRequired,openLeft:t.default.bool},le.defaultProps={style:{},openLeft:!1};var ue="sendbird-sort-by-row";function ie(e){var t=e.className,r=e.maxItemCount,a=e.itemWidth,o=e.itemHeight,l=e.children,u=Array.isArray(t)?t:[t];if(u.unshift(ue),l.length>r){for(var i=[],s=0;s<l.length;s+=r)i.push(n.default.createElement("div",{className:u.join(" "),style:{width:a*r,height:o},key:t+s},l.slice(s,s+r)));return i}return n.default.createElement("div",{className:u.join(" "),style:{width:a*l.length,height:o}},l)}ie.propTypes={className:t.default.oneOfType([t.default.string,t.default.arrayOf(t.default.string)]),maxItemCount:t.default.number.isRequired,itemWidth:t.default.number.isRequired,itemHeight:t.default.number.isRequired,children:t.default.oneOfType([t.default.element,t.default.arrayOf(t.default.element),t.default.string,t.default.arrayOf(t.default.string)]).isRequired},ie.defaultProps={className:""};var se=function(t){function r(t){var a;return(0,e.h)(this,r),a=(0,e.i)(this,(0,e.j)(r).call(this,t)),(0,e.k)((0,e.l)(a),"showParent",function(){var e=a.props.parentContainRef,n=void 0===e?{}:e,t=n.current;n&&t&&t.classList.add("sendbird-reactions--pressed")}),(0,e.k)((0,e.l)(a),"hideParent",function(){var e=a.props.parentContainRef,n=void 0===e?{}:e,t=n.current;n&&t&&t.classList.remove("sendbird-reactions--pressed")}),(0,e.k)((0,e.l)(a),"setupEvents",function(){var n=a.props.closeDropdown,t=(0,e.l)(a).reactionRef,r=function(e){t.current&&!t.current.contains(e.target)&&n()};a.setState({handleClickOutside:r}),document.addEventListener("mousedown",r)}),(0,e.k)((0,e.l)(a),"cleanUpEvents",function(){var e=a.state.handleClickOutside;document.removeEventListener("mousedown",e)}),(0,e.k)((0,e.l)(a),"getBarPosition",function(){var e=a.props,n=e.parentRef,t=e.spaceFromTrigger,r=t.x||0,o=t.y||0,l=n.current.getBoundingClientRect(),u=l.x||l.left,i={top:l.y||l.top,left:u};if(!a.reactionRef.current)return i;var s=a.reactionRef.current.getBoundingClientRect();i.top<s.height?(i.top+=l.height,i.top+=o):(i.top-=s.height,i.top-=o),i.left-=s.width/2,i.left+=l.height/2-2,i.left+=r;var d=window.innerWidth-s.width;return d<i.left&&(i.left=d),i.left<0&&(i.left=0),a.setState({reactionStyle:i})}),a.reactionRef=n.default.createRef(),a.state={reactionStyle:{},handleClickOutside:function(){}},a}return(0,e.e)(r,t),(0,e.f)(r,[{key:"componentDidMount",value:function(){this.setupEvents(),this.getBarPosition(),this.showParent()}},{key:"componentWillUnmount",value:function(){this.cleanUpEvents(),this.hideParent()}},{key:"render",value:function(){var e=this.state.reactionStyle,t=this.props.children;return(0,a.createPortal)(n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"sendbird-dropdown__menu-backdrop"}),n.default.createElement("ul",{className:"sendbird-dropdown__reaction-bar",ref:this.reactionRef,style:{display:"inline-block",position:"fixed",left:"".concat(Math.round(e.left),"px"),top:"".concat(Math.round(e.top),"px")}},n.default.createElement(ie,{className:"sendbird-dropdown__reaction-bar__row",maxItemCount:8,itemWidth:44,itemHeight:40},t))),document.getElementById("sendbird-emoji-list-portal"))}}]),r}(n.Component);se.propTypes={closeDropdown:t.default.func.isRequired,children:t.default.oneOfType([t.default.element,t.default.arrayOf(t.default.element)]).isRequired,parentRef:t.default.oneOfType([t.default.func,t.default.shape({current:t.default.instanceOf(Element)})]).isRequired,parentContainRef:t.default.oneOfType([t.default.func,t.default.shape({current:t.default.instanceOf(Element)})]).isRequired,spaceFromTrigger:t.default.shape({x:t.default.number,y:t.default.number})},se.defaultProps={spaceFromTrigger:{}};var de=13,ce=le;exports.b=ce;var fe=se;exports.E=fe;var pe=function(t){var a=t.children,o=t.onClick,l=t.className,u=Array.isArray(l)?l:[l];return n.default.createElement("li",{tabIndex:0,className:[].concat((0,e.c)(u),["sendbird-dropdown__menu-item"]).join(" "),onClick:o,onKeyPress:function(e){e.keyCode===de&&o(e)},role:"menuitem"},n.default.createElement(r.L,{type:r.a.SUBTITLE_2,color:r.b.ONBACKGROUND_1,className:"sendbird-dropdown__menu-item__text"},a))};function he(t){var r=t.menuTrigger,a=t.menuItems,o=(0,n.useState)(!1),l=(0,e.b)(o,2),u=l[0],i=l[1];return n.default.createElement("div",{className:"sendbird-context-menu",style:{display:"inline"}},r(function(){return i(!u)}),u&&a(function(){return i(!1)}))}exports.c=pe,pe.propTypes={onClick:t.default.func.isRequired,className:t.default.oneOfType([t.default.string,t.default.arrayOf(t.default.string)]),children:t.default.oneOfType([t.default.string,t.default.element]).isRequired},pe.defaultProps={className:""},he.propTypes={menuTrigger:t.default.func.isRequired,menuItems:t.default.func.isRequired};
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","./index-ad616be9.js":"X2nd","react-dom":"X9zx"}],"j33M":[function(require,module,exports) {
"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"xyyE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../_lib/requiredArgs/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){(0,e.default)(1,arguments);var r=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===r?new Date(t.getTime()):"number"==typeof t||"[object Number]"===r?new Date(t):("string"!=typeof t&&"[object String]"!==r||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}
},{"../_lib/requiredArgs/index.js":"j33M"}],"R5Px":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("../toDate/index.js")),r=t(require("../_lib/requiredArgs/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){(0,r.default)(1,arguments);var u=(0,e.default)(t);return!isNaN(u)}
},{"../toDate/index.js":"xyyE","../_lib/requiredArgs/index.js":"j33M"}],"lFah":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function o(o,t,n){var s;return n=n||{},s="string"==typeof e[o]?e[o]:1===t?e[o].one:e[o].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+s:s+" ago":s}
},{}],"pMHU":[function(require,module,exports) {
"use strict";function t(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"wXNX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../../_lib/buildFormatLongFn/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}var d={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},l={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u={date:(0,e.default)({formats:d,defaultWidth:"full"}),time:(0,e.default)({formats:l,defaultWidth:"full"}),dateTime:(0,e.default)({formats:a,defaultWidth:"full"})},m=u;exports.default=m;
},{"../../../_lib/buildFormatLongFn/index.js":"pMHU"}],"If9E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function t(t,r,a,o){return e[t]}
},{}],"l76a":[function(require,module,exports) {
"use strict";function t(t){return function(e,a){var r,i=a||{};if("formatting"===(i.context?String(i.context):"standalone")&&t.formattingValues){var n=t.defaultFormattingWidth||t.defaultWidth,u=i.width?String(i.width):n;r=t.formattingValues[u]||t.formattingValues[n]}else{var l=t.defaultWidth,d=i.width?String(i.width):t.defaultWidth;r=t.values[d]||t.values[l]}return r[t.argumentCallback?t.argumentCallback(e):e]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"Av0h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=e(require("../../../_lib/buildLocalizeFn/index.js"));function e(n){return n&&n.__esModule?n:{default:n}}var i={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},r={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},a={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},o={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function u(n,e){var i=Number(n),t=i%100;if(t>20||t<10)switch(t%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"}var g={ordinalNumber:u,era:(0,n.default)({values:i,defaultWidth:"wide"}),quarter:(0,n.default)({values:t,defaultWidth:"wide",argumentCallback:function(n){return Number(n)-1}}),month:(0,n.default)({values:r,defaultWidth:"wide"}),day:(0,n.default)({values:a,defaultWidth:"wide"}),dayPeriod:(0,n.default)({values:o,defaultWidth:"wide",formattingValues:d,defaultFormattingWidth:"wide"})},m=g;exports.default=m;
},{"../../../_lib/buildLocalizeFn/index.js":"l76a"}],"UrYh":[function(require,module,exports) {
"use strict";function e(e){return function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.match(e.matchPattern);if(!t)return null;var r=t[0],u=a.match(e.parsePattern);if(!u)return null;var n=e.valueCallback?e.valueCallback(u[0]):u[0];return{value:n=l.valueCallback?l.valueCallback(n):n,rest:a.slice(r.length)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Puz0":[function(require,module,exports) {
"use strict";function t(t){return function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=n.width,l=u&&t.matchPatterns[u]||t.matchPatterns[t.defaultMatchWidth],i=a.match(l);if(!i)return null;var s,c=i[0],f=u&&t.parsePatterns[u]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(f)?r(f,function(t){return t.test(c)}):e(f,function(t){return t.test(c)});return s=t.valueCallback?t.valueCallback(o):o,{value:s=n.valueCallback?n.valueCallback(s):s,rest:a.slice(c.length)}}}function e(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function r(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"nLN0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=e(require("../../../_lib/buildMatchPatternFn/index.js")),i=e(require("../../../_lib/buildMatchFn/index.js"));function e(a){return a&&a.__esModule?a:{default:a}}var t=/^(\d+)(th|st|nd|rd)?/i,n=/\d+/i,r={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d={any:[/^b/i,/^(a|c)/i]},s={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u={any:[/1/i,/2/i,/3/i,/4/i]},o={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},m={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},l={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},c={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b={ordinalNumber:(0,a.default)({matchPattern:t,parsePattern:n,valueCallback:function(a){return parseInt(a,10)}}),era:(0,i.default)({matchPatterns:r,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any"}),quarter:(0,i.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:u,defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:(0,i.default)({matchPatterns:o,defaultMatchWidth:"wide",parsePatterns:m,defaultParseWidth:"any"}),day:(0,i.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),dayPeriod:(0,i.default)({matchPatterns:l,defaultMatchWidth:"any",parsePatterns:c,defaultParseWidth:"any"})},y=b;exports.default=y;
},{"../../../_lib/buildMatchPatternFn/index.js":"UrYh","../../../_lib/buildMatchFn/index.js":"Puz0"}],"QhNd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("./_lib/formatDistance/index.js")),t=l(require("./_lib/formatLong/index.js")),a=l(require("./_lib/formatRelative/index.js")),i=l(require("./_lib/localize/index.js")),r=l(require("./_lib/match/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}var o={code:"en-US",formatDistance:e.default,formatLong:t.default,formatRelative:a.default,localize:i.default,match:r.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=o;exports.default=u;
},{"./_lib/formatDistance/index.js":"lFah","./_lib/formatLong/index.js":"wXNX","./_lib/formatRelative/index.js":"If9E","./_lib/localize/index.js":"Av0h","./_lib/match/index.js":"nLN0"}],"TNzJ":[function(require,module,exports) {
"use strict";function e(e){if(null===e||!0===e||!1===e)return NaN;var r=Number(e);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"TYYo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=u(require("../_lib/toInteger/index.js")),r=u(require("../toDate/index.js")),t=u(require("../_lib/requiredArgs/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}function i(u,i){(0,t.default)(2,arguments);var d=(0,r.default)(u).getTime(),n=(0,e.default)(i);return new Date(d+n)}
},{"../_lib/toInteger/index.js":"TNzJ","../toDate/index.js":"xyyE","../_lib/requiredArgs/index.js":"j33M"}],"BsNM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=u(require("../_lib/toInteger/index.js")),r=u(require("../addMilliseconds/index.js")),t=u(require("../_lib/requiredArgs/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}function d(u,d){(0,t.default)(2,arguments);var i=(0,e.default)(d);return(0,r.default)(u,-i)}
},{"../_lib/toInteger/index.js":"TNzJ","../addMilliseconds/index.js":"TYYo","../_lib/requiredArgs/index.js":"j33M"}],"apeQ":[function(require,module,exports) {
"use strict";function e(e,t){for(var r=e<0?"-":"",o=Math.abs(e).toString();o.length<t;)o="0"+o;return r+o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"DPzD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../addLeadingZeros/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}var a={y:function(t,a){var n=t.getUTCFullYear(),r=n>0?n:1-n;return(0,e.default)("yy"===a?r%100:r,a.length)},M:function(t,a){var n=t.getUTCMonth();return"M"===a?String(n+1):(0,e.default)(n+1,2)},d:function(t,a){return(0,e.default)(t.getUTCDate(),a.length)},a:function(e,t){var a=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return"am"===a?"a.m.":"p.m."}},h:function(t,a){return(0,e.default)(t.getUTCHours()%12||12,a.length)},H:function(t,a){return(0,e.default)(t.getUTCHours(),a.length)},m:function(t,a){return(0,e.default)(t.getUTCMinutes(),a.length)},s:function(t,a){return(0,e.default)(t.getUTCSeconds(),a.length)},S:function(t,a){var n=a.length,r=t.getUTCMilliseconds(),u=Math.floor(r*Math.pow(10,n-3));return(0,e.default)(u,a.length)}},n=a;exports.default=n;
},{"../../addLeadingZeros/index.js":"apeQ"}],"O6s9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=t(require("../../toDate/index.js")),r=t(require("../requiredArgs/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=864e5;function o(t){(0,r.default)(1,arguments);var o=(0,e.default)(t),s=o.getTime();o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0);var a=s-o.getTime();return Math.floor(a/u)+1}
},{"../../toDate/index.js":"xyyE","../requiredArgs/index.js":"j33M"}],"DBuI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("../../toDate/index.js")),t=r(require("../requiredArgs/index.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){(0,t.default)(1,arguments);var u=(0,e.default)(r),s=u.getUTCDay(),a=(s<1?7:0)+s-1;return u.setUTCDate(u.getUTCDate()-a),u.setUTCHours(0,0,0,0),u}
},{"../../toDate/index.js":"xyyE","../requiredArgs/index.js":"j33M"}],"Nwn1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=u(require("../../toDate/index.js")),t=u(require("../startOfUTCISOWeek/index.js")),r=u(require("../requiredArgs/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}function a(u){(0,r.default)(1,arguments);var a=(0,e.default)(u),s=a.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(s+1,0,4),i.setUTCHours(0,0,0,0);var l=(0,t.default)(i),d=new Date(0);d.setUTCFullYear(s,0,4),d.setUTCHours(0,0,0,0);var n=(0,t.default)(d);return a.getTime()>=l.getTime()?s+1:a.getTime()>=n.getTime()?s:s-1}
},{"../../toDate/index.js":"xyyE","../startOfUTCISOWeek/index.js":"DBuI","../requiredArgs/index.js":"j33M"}],"Dlta":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=u(require("../getUTCISOWeekYear/index.js")),r=u(require("../startOfUTCISOWeek/index.js")),t=u(require("../requiredArgs/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}function s(u){(0,t.default)(1,arguments);var s=(0,e.default)(u),a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),(0,r.default)(a)}
},{"../getUTCISOWeekYear/index.js":"Nwn1","../startOfUTCISOWeek/index.js":"DBuI","../requiredArgs/index.js":"j33M"}],"uTDE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=a(require("../../toDate/index.js")),r=a(require("../startOfUTCISOWeek/index.js")),t=a(require("../startOfUTCISOWeekYear/index.js")),u=a(require("../requiredArgs/index.js"));function a(e){return e&&e.__esModule?e:{default:e}}var d=6048e5;function i(a){(0,u.default)(1,arguments);var i=(0,e.default)(a),s=(0,r.default)(i).getTime()-(0,t.default)(i).getTime();return Math.round(s/d)+1}
},{"../../toDate/index.js":"xyyE","../startOfUTCISOWeek/index.js":"DBuI","../startOfUTCISOWeekYear/index.js":"Dlta","../requiredArgs/index.js":"j33M"}],"qj5I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=n(require("../toInteger/index.js")),t=n(require("../../toDate/index.js")),r=n(require("../requiredArgs/index.js"));function n(e){return e&&e.__esModule?e:{default:e}}function u(n,u){(0,r.default)(1,arguments);var a=u||{},s=a.locale,l=s&&s.options&&s.options.weekStartsOn,o=null==l?0:(0,e.default)(l),i=null==a.weekStartsOn?o:(0,e.default)(a.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=(0,t.default)(n),f=d.getUTCDay(),w=(f<i?7:0)+f-i;return d.setUTCDate(d.getUTCDate()-w),d.setUTCHours(0,0,0,0),d}
},{"../toInteger/index.js":"TNzJ","../../toDate/index.js":"xyyE","../requiredArgs/index.js":"j33M"}],"ElY0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=n(require("../toInteger/index.js")),t=n(require("../../toDate/index.js")),r=n(require("../startOfUTCWeek/index.js")),a=n(require("../requiredArgs/index.js"));function n(e){return e&&e.__esModule?e:{default:e}}function i(n,i){(0,a.default)(1,arguments);var s=(0,t.default)(n,i),u=s.getUTCFullYear(),l=i||{},o=l.locale,d=o&&o.options&&o.options.firstWeekContainsDate,f=null==d?1:(0,e.default)(d),C=null==l.firstWeekContainsDate?f:(0,e.default)(l.firstWeekContainsDate);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(u+1,0,C),T.setUTCHours(0,0,0,0);var g=(0,r.default)(T,i),v=new Date(0);v.setUTCFullYear(u,0,C),v.setUTCHours(0,0,0,0);var D=(0,r.default)(v,i);return s.getTime()>=g.getTime()?u+1:s.getTime()>=D.getTime()?u:u-1}
},{"../toInteger/index.js":"TNzJ","../../toDate/index.js":"xyyE","../startOfUTCWeek/index.js":"qj5I","../requiredArgs/index.js":"j33M"}],"rbLI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=n(require("../toInteger/index.js")),t=n(require("../getUTCWeekYear/index.js")),r=n(require("../startOfUTCWeek/index.js")),u=n(require("../requiredArgs/index.js"));function n(e){return e&&e.__esModule?e:{default:e}}function s(n,s){(0,u.default)(1,arguments);var a=s||{},i=a.locale,l=i&&i.options&&i.options.firstWeekContainsDate,o=null==l?1:(0,e.default)(l),d=null==a.firstWeekContainsDate?o:(0,e.default)(a.firstWeekContainsDate),f=(0,t.default)(n,s),C=new Date(0);return C.setUTCFullYear(f,0,d),C.setUTCHours(0,0,0,0),(0,r.default)(C,s)}
},{"../toInteger/index.js":"TNzJ","../getUTCWeekYear/index.js":"ElY0","../startOfUTCWeek/index.js":"qj5I","../requiredArgs/index.js":"j33M"}],"WvUc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=a(require("../../toDate/index.js")),r=a(require("../startOfUTCWeek/index.js")),t=a(require("../startOfUTCWeekYear/index.js")),u=a(require("../requiredArgs/index.js"));function a(e){return e&&e.__esModule?e:{default:e}}var d=6048e5;function i(a,i){(0,u.default)(1,arguments);var s=(0,e.default)(a),n=(0,r.default)(s,i).getTime()-(0,t.default)(s,i).getTime();return Math.round(n/d)+1}
},{"../../toDate/index.js":"xyyE","../startOfUTCWeek/index.js":"qj5I","../startOfUTCWeekYear/index.js":"rbLI","../requiredArgs/index.js":"j33M"}],"uJSs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../lightFormatters/index.js")),e=o(require("../../../_lib/getUTCDayOfYear/index.js")),r=o(require("../../../_lib/getUTCISOWeek/index.js")),a=o(require("../../../_lib/getUTCISOWeekYear/index.js")),n=o(require("../../../_lib/getUTCWeek/index.js")),i=o(require("../../../_lib/getUTCWeekYear/index.js")),u=o(require("../../addLeadingZeros/index.js"));function o(t){return t&&t.__esModule?t:{default:t}}var d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},c={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,r,a){if("yo"===r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return a.ordinalNumber(i,{unit:"year"})}return t.default.y(e,r)},Y:function(t,e,r,a){var n=(0,i.default)(t,a),o=n>0?n:1-n;if("YY"===e){var d=o%100;return(0,u.default)(d,2)}return"Yo"===e?r.ordinalNumber(o,{unit:"year"}):(0,u.default)(o,e.length)},R:function(t,e){var r=(0,a.default)(t);return(0,u.default)(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return(0,u.default)(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return(0,u.default)(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return(0,u.default)(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,a){var n=e.getUTCMonth();switch(r){case"M":case"MM":return t.default.M(e,r);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return(0,u.default)(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var i=(0,n.default)(t,a);return"wo"===e?r.ordinalNumber(i,{unit:"week"}):(0,u.default)(i,e.length)},I:function(t,e,a){var n=(0,r.default)(t);return"Io"===e?a.ordinalNumber(n,{unit:"week"}):(0,u.default)(n,e.length)},d:function(e,r,a){return"do"===r?a.ordinalNumber(e.getUTCDate(),{unit:"date"}):t.default.d(e,r)},D:function(t,r,a){var n=(0,e.default)(t);return"Do"===r?a.ordinalNumber(n,{unit:"dayOfYear"}):(0,u.default)(n,r.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var n=t.getUTCDay(),i=(n-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return(0,u.default)(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var n=t.getUTCDay(),i=(n-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return(0,u.default)(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),n=0===a?7:a;switch(e){case"i":return String(n);case"ii":return(0,u.default)(n,e.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a,n=t.getUTCHours();switch(a=12===n?d.noon:0===n?d.midnight:n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a,n=t.getUTCHours();switch(a=n>=17?d.evening:n>=12?d.afternoon:n>=4?d.morning:d.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,a){if("ho"===r){var n=e.getUTCHours()%12;return 0===n&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return t.default.h(e,r)},H:function(e,r,a){return"Ho"===r?a.ordinalNumber(e.getUTCHours(),{unit:"hour"}):t.default.H(e,r)},K:function(t,e,r){var a=t.getUTCHours()%12;return"Ko"===e?r.ordinalNumber(a,{unit:"hour"}):(0,u.default)(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return 0===a&&(a=24),"ko"===e?r.ordinalNumber(a,{unit:"hour"}):(0,u.default)(a,e.length)},m:function(e,r,a){return"mo"===r?a.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):t.default.m(e,r)},s:function(e,r,a){return"so"===r?a.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):t.default.s(e,r)},S:function(e,r){return t.default.S(e,r)},X:function(t,e,r,a){var n=(a._originalDate||t).getTimezoneOffset();if(0===n)return"Z";switch(e){case"X":return f(n);case"XXXX":case"XX":return l(n);case"XXXXX":case"XXX":default:return l(n,":")}},x:function(t,e,r,a){var n=(a._originalDate||t).getTimezoneOffset();switch(e){case"x":return f(n);case"xxxx":case"xx":return l(n);case"xxxxx":case"xxx":default:return l(n,":")}},O:function(t,e,r,a){var n=(a._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+s(n,":");case"OOOO":default:return"GMT"+l(n,":")}},z:function(t,e,r,a){var n=(a._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+s(n,":");case"zzzz":default:return"GMT"+l(n,":")}},t:function(t,e,r,a){var n=a._originalDate||t,i=Math.floor(n.getTime()/1e3);return(0,u.default)(i,e.length)},T:function(t,e,r,a){var n=(a._originalDate||t).getTime();return(0,u.default)(n,e.length)}};function s(t,e){var r=t>0?"-":"+",a=Math.abs(t),n=Math.floor(a/60),i=a%60;if(0===i)return r+String(n);var o=e||"";return r+String(n)+o+(0,u.default)(i,2)}function f(t,e){return t%60==0?(t>0?"-":"+")+(0,u.default)(Math.abs(t)/60,2):l(t,e)}function l(t,e){var r=e||"",a=t>0?"-":"+",n=Math.abs(t);return a+(0,u.default)(Math.floor(n/60),2)+r+(0,u.default)(n%60,2)}var h=c;exports.default=h;
},{"../lightFormatters/index.js":"DPzD","../../../_lib/getUTCDayOfYear/index.js":"O6s9","../../../_lib/getUTCISOWeek/index.js":"uTDE","../../../_lib/getUTCISOWeekYear/index.js":"Nwn1","../../../_lib/getUTCWeek/index.js":"WvUc","../../../_lib/getUTCWeekYear/index.js":"ElY0","../../addLeadingZeros/index.js":"apeQ"}],"tyqw":[function(require,module,exports) {
"use strict";function e(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function t(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function r(r,a){var i,d=r.match(/(P+)(p+)?/),u=d[1],s=d[2];if(!s)return e(r,a);switch(u){case"P":i=a.dateTime({width:"short"});break;case"PP":i=a.dateTime({width:"medium"});break;case"PPP":i=a.dateTime({width:"long"});break;case"PPPP":default:i=a.dateTime({width:"full"})}return i.replace("{{date}}",e(u,a)).replace("{{time}}",t(s,a))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a={p:t,P:r},i=a;exports.default=i;
},{}],"p0Kq":[function(require,module,exports) {
"use strict";function e(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"KQgJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isProtectedDayOfYearToken=o,exports.isProtectedWeekYearToken=r,exports.throwProtectedError=n;var t=["D","DD"],e=["YY","YYYY"];function o(e){return-1!==t.indexOf(e)}function r(t){return-1!==e.indexOf(t)}function n(t,e,o){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(o,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(o,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(o,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(o,"`; see: https://git.io/fxCyr"))}
},{}],"ZzDw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=g;var e=d(require("../isValid/index.js")),r=d(require("../locale/en-US/index.js")),t=d(require("../subMilliseconds/index.js")),n=d(require("../toDate/index.js")),a=d(require("../_lib/format/formatters/index.js")),i=d(require("../_lib/format/longFormatters/index.js")),o=d(require("../_lib/getTimezoneOffsetInMilliseconds/index.js")),l=require("../_lib/protectedTokens/index.js"),s=d(require("../_lib/toInteger/index.js")),u=d(require("../_lib/requiredArgs/index.js"));function d(e){return e&&e.__esModule?e:{default:e}}var f=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w=/^'([^]*?)'?$/,m=/''/g,p=/[a-zA-Z]/;function g(d,w,m){(0,u.default)(2,arguments);var g=String(w),h=m||{},v=h.locale||r.default,b=v.options&&v.options.firstWeekContainsDate,j=null==b?1:(0,s.default)(b),q=null==h.firstWeekContainsDate?j:(0,s.default)(h.firstWeekContainsDate);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=v.options&&v.options.weekStartsOn,_=null==x?0:(0,s.default)(x),D=null==h.weekStartsOn?_:(0,s.default)(h.weekStartsOn);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!v.localize)throw new RangeError("locale must contain localize property");if(!v.formatLong)throw new RangeError("locale must contain formatLong property");var O=(0,n.default)(d);if(!(0,e.default)(O))throw new RangeError("Invalid time value");var y=(0,o.default)(O),E=(0,t.default)(O,y),P={firstWeekContainsDate:q,weekStartsOn:D,locale:v,_originalDate:O};return g.match(c).map(function(e){var r=e[0];return"p"===r||"P"===r?(0,i.default[r])(e,v.formatLong,P):e}).join("").match(f).map(function(e){if("''"===e)return"'";var r=e[0];if("'"===r)return k(e);var t=a.default[r];if(t)return!h.useAdditionalWeekYearTokens&&(0,l.isProtectedWeekYearToken)(e)&&(0,l.throwProtectedError)(e,w,d),!h.useAdditionalDayOfYearTokens&&(0,l.isProtectedDayOfYearToken)(e)&&(0,l.throwProtectedError)(e,w,d),t(E,e,v.localize,P);if(r.match(p))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return e}).join("")}function k(e){return e.match(w)[1].replace(m,"'")}
},{"../isValid/index.js":"R5Px","../locale/en-US/index.js":"QhNd","../subMilliseconds/index.js":"BsNM","../toDate/index.js":"xyyE","../_lib/format/formatters/index.js":"uJSs","../_lib/format/longFormatters/index.js":"tyqw","../_lib/getTimezoneOffsetInMilliseconds/index.js":"p0Kq","../_lib/protectedTokens/index.js":"KQgJ","../_lib/toInteger/index.js":"TNzJ","../_lib/requiredArgs/index.js":"j33M"}],"DjaK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.u=exports.n=exports.g=exports.d=exports.c=exports.b=exports.a=void 0;var e=r(require("date-fns/format"));function r(e){return e&&e.__esModule?e:{default:e}}var t="https://static.sendbird.com/sample/cover/cover_",n=function(e){if(e&&e.coverUrl)return e.coverUrl};exports.d=n;var o=function(e,r){return e&&e.coverUrl&&!new RegExp("^"+t).test(e.coverUrl)?e.coverUrl:e&&e.members?e.members.filter(function(e){return e.userId!==r}).map(function(e){return e.profileUrl}):[]};exports.g=o;var s=function(e){return!e||!e.coverUrl||!!new RegExp("^"+t).test(e.coverUrl)};exports.u=s;var u=function(){};exports.n=u;var c=function(r){return(0,e.default)(r.createdAt,"p")};exports.a=c;var p=function(e){return e.sender&&(e.sender.friendName||e.sender.nickname||e.sender.userId)};exports.b=p;var i=function(e){return e.sender&&e.sender.profileUrl};exports.c=i;
},{"date-fns/format":"ZzDw"}],"JmLL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.C=i;var e=n(require("react")),t=require("./index-ad616be9.js"),r=require("./utils-53ba1773.js");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=i?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}function i(a){var n=a.channel,i=a.userId,l=a.theme,u=a.height,c=void 0===u?56:u,d=a.width,o=void 0===d?56:d,s=n.isBroadcast,f=(0,e.useMemo)(function(){return s?(0,r.u)(n)?e.default.createElement("div",{className:"sendbird-chat-header__default-avatar",style:{width:o,height:c,display:"flex",justifyContent:"center",alignItems:"center"}},e.default.createElement(t.I,{type:t.c.BROADCAST,fillColor:t.d.CONTENT,width:.575*o,height:.575*c})):e.default.createElement(t.A,{className:"sendbird-chat-header__avatar--broadcast-channel",src:(0,r.g)(n,i),width:o,height:c,alt:n.name}):e.default.createElement(t.A,{className:"sendbird-chat-header__avatar--group-channel",src:(0,r.g)(n,i),width:o+"px",height:c+"px",alt:n.name})},[n.members,n.coverUrl,l]);return e.default.createElement(e.default.Fragment,null,f)}
},{"react":"HdMw","./index-ad616be9.js":"X2nd","./utils-53ba1773.js":"DjaK"}],"YNuJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.M=o,exports.U=p,exports.a=exports.I=void 0;var e=require("./LocalizationContext-12658c38.js"),t=u(require("react")),a=l(require("prop-types")),r=require("./index-711ec843.js"),n=require("./index-ad616be9.js");function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=n?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}var c=function(e){var a=e.children;return t.default.createElement(n.L,{type:n.a.CAPTION_3,color:n.b.ONBACKGROUND_1,className:"sendbird-input-label"},a)};exports.I=c,c.propTypes={children:a.default.string.isRequired};var i=t.default.forwardRef(function(a,r){var l=a.value,d=a.placeHolder,u=a.disabled,c=a.name,i=a.required,o=(0,t.useState)(l),s=(0,e.b)(o,2),f=s[0],p=s[1];return t.default.createElement("div",{className:"sendbird-input"},t.default.createElement("input",{required:i,ref:r,name:c,disabled:u,value:f,className:"sendbird-input--input",onChange:function(e){p(e.target.value)}}),d&&!f&&t.default.createElement(n.L,{className:"sendbird-input--placeholder",type:n.a.BODY_1,color:n.b.ONBACKGROUND_3},d))});function o(e){var a=e.height,r=void 0===a?24:a,l=e.width,d=void 0===l?24:l;return t.default.createElement("div",{className:"sendbird-muted-avatar",style:{height:r+"px",width:d+"px"}},t.default.createElement("div",{className:"sendbird-muted-avatar__icon"},t.default.createElement("div",{className:"sendbird-muted-avatar__bg",style:{height:r+"px",width:d+"px"}}),t.default.createElement(n.I,{type:n.c.MUTE,fillColor:n.d.WHITE,width:r-8+"px",height:d-8+"px"})))}function s(a){var r=a.id,n=a.checked,l=a.onChange,d=(0,t.useState)(n),u=(0,e.b)(d,2),c=u[0],i=u[1];return t.default.createElement("label",{className:"sendbird-checkbox",htmlFor:r},t.default.createElement("input",{id:r,type:"checkbox",checked:c,onClick:function(){return i(!c)},onChange:l}),t.default.createElement("span",{className:"sendbird-checkbox--checkmark"}))}exports.a=i,i.propTypes={value:a.default.string,placeHolder:a.default.string,name:a.default.string.isRequired,disabled:a.default.bool,required:a.default.bool},i.defaultProps={value:"",placeHolder:"",disabled:!1,required:!1},s.propTypes={id:a.default.string,checked:a.default.bool,onChange:a.default.func},s.defaultProps={id:"sendbird-checkbox-input",checked:!1,onChange:function(){}};var f="sendbird-user-list-item";function p(a){var l=a.user,d=a.className,u=a.checkBox,c=a.disableMessaging,i=void 0!==c&&c,p=a.currentUser,m=a.checked,b=a.onChange,h=a.action,g=Array.isArray(d)?d:[d],v=l.userId,N=t.default.useRef(null),_=t.default.useRef(null),y=t.default.useRef(null),x=(0,t.useContext)(r.f),E=x.disableUserProfile,k=x.renderUserProfile,O=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{ref:_,className:[f].concat((0,e.c)(g)).join(" ")},l.isMuted&&t.default.createElement(o,{height:40,width:40}),t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(n.A,{onClick:function(){E||e()},ref:y,className:"".concat(f,"__avatar"),src:l.profileUrl,width:"40px",height:"40px"})},menuItems:function(e){return t.default.createElement(r.b,{openLeft:!0,parentRef:y,parentContainRef:y,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},k?k({user:l,currentUserId:p,close:e}):t.default.createElement(r.g,{disableMessaging:i,user:l,currentUserId:p,onSuccess:e}))}}),t.default.createElement(n.L,{className:"".concat(f,"__title"),type:n.a.SUBTITLE_1,color:n.b.ONBACKGROUND_1},l.nickname||O.NO_NAME,p===l.userId&&" (You)"),!l.nickname&&t.default.createElement(n.L,{className:"".concat(f,"__subtitle"),type:n.a.CAPTION_3,color:n.b.ONBACKGROUND_2},l.userId),u&&t.default.createElement("label",{className:"".concat(f,"__checkbox"),htmlFor:v},t.default.createElement(s,{id:v,checked:m,onChange:function(e){return b(e)}})),"operator"===l.role&&t.default.createElement(n.L,{className:"".concat(f,"__operator"),type:n.a.SUBTITLE_2,color:n.b.ONBACKGROUND_2},"Operator"),h&&t.default.createElement("div",{ref:N,className:"".concat(f,"__action")},h({actionRef:N,parentRef:_})))}p.propTypes={user:a.default.shape({userId:a.default.string,role:a.default.string,isMuted:a.default.bool,nickname:a.default.string,profileUrl:a.default.string}).isRequired,className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),disableMessaging:a.default.bool,currentUser:a.default.string,action:a.default.element,checkBox:a.default.bool,checked:a.default.bool,onChange:a.default.func},p.defaultProps={className:"",currentUser:"",checkBox:!1,disableMessaging:!1,checked:!1,action:null,onChange:function(){}};
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","./index-711ec843.js":"zGzG","./index-ad616be9.js":"X2nd"}],"ZFXd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.B=l,exports.i=exports.c=exports.b=exports.a=exports.L=exports.I=void 0;var e=require("./LocalizationContext-12658c38.js"),t=s(require("react")),r=o(require("prop-types")),a=require("./index-711ec843.js"),n=require("./index-ad616be9.js"),u=require("./index-5788a124.js");function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=n?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(a,u,o):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}function l(r){var a=r.count,u=r.maxLevel,o=r.className,i=(0,t.useContext)(e.d).stringSet,s=parseInt("9".repeat(u>6?6:u),10),l=Array.isArray(o)?o:[o];return t.default.createElement("div",{className:[].concat((0,e.c)(l),["sendbird-badge"]).join(" ")},t.default.createElement("div",{className:"sendbird-badge__text"},t.default.createElement(n.L,{type:n.a.CAPTION_2,color:n.b.ONCONTENT_1},a>s?"".concat(s).concat(i.BADGE__OVER):a)))}l.propTypes={count:r.default.number.isRequired,maxLevel:r.default.number,className:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)])},l.defaultProps={maxLevel:2,className:[]};var c=function(e){return function(t){return e.includes(t)}},d=function(r){var o=r.userQueryCreator,i=r.closeModal,s=r.onSubmit,l=r.submitText,d=r.titleText,f=r.idsToFilter,p=r.swapParams,v=(0,t.useState)([]),b=(0,e.b)(v,2),x=b[0],m=b[1],g=(0,t.useState)({}),y=(0,e.b)(g,2),h=y[0],C=y[1],T=(0,t.useContext)(e.d).stringSet,_=(0,t.useState)({}),O=(0,e.b)(_,2),E=O[0],M=O[1],P=Object.keys(h).length;return(0,t.useEffect)(function(){var e=o();M(e),e.next(function(e,t){var r=e,a=t;p&&(a=r=t),a||m(r)})},[]),t.default.createElement(a.M,{onCancel:i,onSubmit:function(){var e=Object.keys(h);e.length>0&&(s(e),i())},submitText:l,titleText:d,type:a.T.PRIMARY},t.default.createElement("div",null,t.default.createElement(n.L,{color:P>0?n.b.PRIMARY:n.b.ONBACKGROUND_3,type:n.a.CAPTION_1},"".concat(P," ").concat(T.MODAL__INVITE_MEMBER__SELECTEC)),t.default.createElement("div",{className:"sendbird-create-channel--scroll",onScroll:function(t){var r=E.hasNext,a=t.target.clientHeight+t.target.scrollTop===t.target.scrollHeight;r&&a&&E.next(function(t,r){r||m([].concat((0,e.c)(x),(0,e.c)(t)))})}},x.map(function(r){return!c(f)(r.userId)&&t.default.createElement(u.U,{key:r.userId,user:r,checkBox:!0,checked:h[r.userId],onChange:function(t){var r=(0,e.a)({},h,(0,e.k)({},t.target.id,t.target.checked));t.target.checked||delete r[t.target.id],C(r)}})}))))};exports.I=d,d.propTypes={idsToFilter:r.default.arrayOf(r.default.string),swapParams:r.default.bool,userQueryCreator:r.default.func.isRequired,closeModal:r.default.func.isRequired,onSubmit:r.default.func.isRequired,submitText:r.default.string,titleText:r.default.string},d.defaultProps={swapParams:!1,submitText:"create",titleText:"Create new channel",idsToFilter:[]};var f=function(e){var t=e.sdk,r=e.userFilledApplicationUserListQuery,a=void 0===r?{}:r,n=t.createApplicationUserListQuery();return a&&Object.keys(a).forEach(function(e){n[e]=a[e]}),n};exports.c=f;var p=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).appInfo,t=(void 0===e?{}:e).applicationAttributes;return void 0===t?[]:t},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p(e);return!!Array.isArray(t)&&t.includes("allow_broadcast_channel")};exports.i=v;var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p(e);return!!Array.isArray(t)&&t.includes("allow_super_group_channel")};exports.a=b;var x=function(e,t){return"broadcast"===t&&(e.isBroadcast=!0),"supergroup"===t&&(e.isSuper=!0),e},m=function(e,t,r,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"group";return new Promise(function(u,o){if(r){var i=r(t);return x(i,n),void e.GroupChannel.createChannel(i,function(t,r){var a=t,n=r;e.getErrorFirstCallback()&&(a=r,n=t),n&&o(n),u(a)})}var s=new e.GroupChannelParams;s.addUserIds(t),s.isDistinct=!1,a&&(s.operatorUserIds=[a]),x(s,n),e.GroupChannel.createChannel(s,function(t,r){var a=t,n=r;e.getErrorFirstCallback()&&(a=r,n=t),n&&o(n),u(a)})})};exports.b=m;var g=function(e){var r=e.onCloseModal,n=e.onLeaveChannel;return t.default.createElement(a.M,{onCancel:r,onSubmit:n,submitText:"Leave",titleText:"Leave this channel?"})};exports.L=g,g.propTypes={onCloseModal:r.default.func.isRequired,onLeaveChannel:r.default.func.isRequired};
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","./index-711ec843.js":"zGzG","./index-ad616be9.js":"X2nd","./index-5788a124.js":"YNuJ"}],"xS82":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("../toDate/index.js")),r=t(require("../_lib/requiredArgs/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){(0,r.default)(1,arguments);var u=(0,e.default)(t);return u.setHours(0,0,0,0),u}
},{"../toDate/index.js":"xyyE","../_lib/requiredArgs/index.js":"j33M"}],"UmhB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("../startOfDay/index.js")),r=t(require("../_lib/requiredArgs/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u){(0,r.default)(2,arguments);var i=(0,e.default)(t),d=(0,e.default)(u);return i.getTime()===d.getTime()}
},{"../startOfDay/index.js":"xS82","../_lib/requiredArgs/index.js":"j33M"}],"YrnY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("../isSameDay/index.js")),r=t(require("../_lib/requiredArgs/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){return(0,r.default)(1,arguments),(0,e.default)(t,Date.now())}
},{"../isSameDay/index.js":"UmhB","../_lib/requiredArgs/index.js":"j33M"}],"g6MI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=u(require("../_lib/toInteger/index.js")),t=u(require("../toDate/index.js")),r=u(require("../_lib/requiredArgs/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}function a(u,a){(0,r.default)(2,arguments);var i=(0,t.default)(u),d=(0,e.default)(a);return isNaN(d)?new Date(NaN):d?(i.setDate(i.getDate()+d),i):i}
},{"../_lib/toInteger/index.js":"TNzJ","../toDate/index.js":"xyyE","../_lib/requiredArgs/index.js":"j33M"}],"z4CO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=u(require("../_lib/toInteger/index.js")),r=u(require("../addDays/index.js")),t=u(require("../_lib/requiredArgs/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}function d(u,d){(0,t.default)(2,arguments);var i=(0,e.default)(d);return(0,r.default)(u,-i)}
},{"../_lib/toInteger/index.js":"TNzJ","../addDays/index.js":"g6MI","../_lib/requiredArgs/index.js":"j33M"}],"LqHY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=t(require("../isSameDay/index.js")),r=t(require("../subDays/index.js")),u=t(require("../_lib/requiredArgs/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}function i(t){return(0,u.default)(1,arguments),(0,e.default)(t,(0,r.default)(Date.now(),1))}
},{"../isSameDay/index.js":"UmhB","../subDays/index.js":"z4CO","../_lib/requiredArgs/index.js":"j33M"}],"xJ4h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.M=void 0;var E={PENDING:"PENDING",SENT:"SENT",DELIVERED:"DELIVERED",READ:"READ",FAILED:"FAILED"};exports.M=E;
},{}],"ILLV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.t=exports.g=void 0;var t=require("./type-0296584d.js"),e=function(t,e){if(null==t)return"";if(t.length<=e)return t;var r=e-"...".length,n=Math.ceil(r/2),s=Math.floor(r/2);return t.substr(0,n)+"..."+t.substr(t.length-s)};exports.t=e;var r=function(e){return e===t.M.SENT||e===t.M.DELIVERED||e===t.M.READ};exports.g=r;
},{"./type-0296584d.js":"xJ4h"}],"W94N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./LocalizationContext-12658c38.js"),n=_(require("react")),t=p(require("prop-types")),a=require("./actionTypes-a85c0eaa.js"),l=require("./index-711ec843.js"),r=require("./index-4eb938ab.js"),i=require("./index-ad616be9.js"),u=require("./utils-53ba1773.js"),s=require("./LeaveChannel-2c2f8e8e.js"),d=p(require("date-fns/isToday")),o=p(require("date-fns/format")),c=p(require("date-fns/isYesterday"));require("./type-0296584d.js");var f=require("./utils-cfdeb084.js");require("react-dom");var h=require("./index-5788a124.js");function p(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(C=function(e){return e?t:n})(e)}function _(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=C(n);if(t&&t.has(e))return t.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=l?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,t&&t.set(e,a),a}var m="RESET_CHANNEL_LIST",E="CREATE_CHANNEL",y="LEAVE_CHANNEL_SUCCESS",g="SET_CURRENT_CHANNEL",b="SHOW_CHANNEL_SETTINGS",L="HIDE_CHANNEL_SETTINGS",v="FETCH_CHANNELS_START",N="FETCH_CHANNELS_SUCCESS",I="FETCH_CHANNELS_FAILURE",T="INIT_CHANNELS_START",A="INIT_CHANNELS_SUCCESS",S="INIT_CHANNELS_FAILURE",O="ON_USER_JOINED",R="ON_CHANNEL_DELETED",U="ON_LAST_MESSAGE_UPDATED",w="ON_USER_LEFT",P="ON_CHANNEL_CHANGED",D="ON_CHANNEL_ARCHIVED",k="ON_CHANNEL_FROZEN",F="ON_CHANNEL_UNFROZEN",H="ON_READ_RECEIPT_UPDATED",x="ON_DELIVERY_RECEIPT_UPDATED",M="CHANNEL_REPLACED_TO_TOP",B={initialized:!1,loading:!1,allChannels:[],currentChannel:null,showSettings:!1};function q(n,t){switch(t.type){case T:return(0,e.a)({},n,{loading:!0});case m:return B;case A:return(0,e.a)({},n,{initialized:!0,loading:!1,allChannels:t.payload,currentChannel:t.payload&&t.payload.length&&t.payload.length>0?t.payload[0].url:null});case N:var a=n.allChannels.map(function(e){return e.url}),l=t.payload.filter(function(e){var n=e.url;return!a.find(function(e){return e===n})});return(0,e.a)({},n,{allChannels:[].concat((0,e.c)(n.allChannels),(0,e.c)(l))});case E:return(0,e.a)({},n,{allChannels:[t.payload].concat((0,e.c)(n.allChannels.filter(function(e){return e.url!==t.payload.url}))),currentChannel:t.payload.url});case D:case y:case R:var r=t.payload,i=n.currentChannel===r,u=n.allChannels.filter(function(e){return e.url!==r}),s=i?u.length>0?u[0].url:"":n.currentChannel;return(0,e.a)({},n,{currentChannel:s,allChannels:u});case w:var d=t.payload,o=d.channel,c=d.isMe,f=o.url;if(c){var h=f===n.currentChannel,p=n.allChannels.filter(function(e){return e.url!==f}),C=h?p.length>0?p[0].url:"":n.currentChannel;return(0,e.a)({},n,{currentChannel:C,allChannels:p})}var _=n.allChannels.map(function(e){return e.url===f?o:e});return(0,e.a)({},n,{allChannels:_});case O:case P:case H:case x:var v=n.allChannels,I=void 0===v?[]:v,S=t.payload.unreadMessageCount,q=t.payload;if(!q.lastMessage)return n;if(0===S){var G=I.find(function(e){return e.url===q.url});if(0===(G&&G.unreadMessageCount))return(0,e.a)({},n,{allChannels:I.map(function(e){return e.url===q.url?q:e})})}return(0,e.a)({},n,{allChannels:[t.payload].concat((0,e.c)(n.allChannels.filter(function(e){return e.url!==t.payload.url})))});case g:return(0,e.a)({},n,{currentChannel:t.payload});case b:return(0,e.a)({},n,{showSettings:!0});case L:return(0,e.a)({},n,{showSettings:!1});case U:return(0,e.a)({},n,{allChannels:n.allChannels.map(function(e){return e.url===t.payload.url?t.payload:e})});case k:return(0,e.a)({},n,{allChannels:n.allChannels.map(function(e){return e.url===t.payload.url?(e.isFrozen=!0,e):e})});case F:return(0,e.a)({},n,{allChannels:n.allChannels.map(function(e){return e.url===t.payload.url?(e.isFrozen=!1,e):e})});case M:return(0,e.a)({},n,{allChannels:[t.payload].concat((0,e.c)(n.allChannels.filter(function(e){return e.url!==t.payload.url})))});default:return n}}var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.e;return e&&(e.name||e.members)?e.name&&"Group Channel"!==e.name?e.name:1===e.members.length?t.NO_MEMBERS:e.members.filter(function(e){return e.userId!==n}).map(function(e){return e.nickname||t.NO_NAME}).join(", "):t.NO_TITLE},Q=function(e){if(!e||!e.lastMessage)return"";var n=e.lastMessage.createdAt;return(0,d.default)(n)?(0,o.default)(n,"p"):(0,c.default)(n)?"Yesterday":(0,o.default)(n,"MMM dd")},j=function(e){return e&&e.memberCount?e.memberCount:0},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.messageType,t=e.name;return"file"===n?(0,f.t)(t,30):e.message},z=function(e){return e&&e.lastMessage?K(e.lastMessage):""},Y=function(e){return e&&e.unreadMessageCount?e.unreadMessageCount:0};function V(t){var a=t.channel,l=t.isActive,u=t.ChannelAction,d=t.theme,o=t.onClick,c=t.tabIndex,f=t.currentUser.userId,h=a.isBroadcast,p=a.isFrozen,C=(0,n.useContext)(e.d).stringSet;return n.default.createElement("div",{role:"link",tabIndex:c,onClick:o,onKeyPress:o,className:"\n        sendbird-channel-preview\n        ".concat(l?"sendbird-channel-preview--active":null,"\n      ")},n.default.createElement("div",{className:"sendbird-channel-preview__avatar"},n.default.createElement(r.C,{channel:a,userId:f,theme:d})),n.default.createElement("div",{className:"sendbird-channel-preview__content"},n.default.createElement("div",{className:"sendbird-channel-preview__content__upper"},n.default.createElement("div",{className:"sendbird-channel-preview__content__upper__header"},h&&n.default.createElement("div",{className:"sendbird-channel-preview__broadcast-icon"},n.default.createElement(i.I,{type:i.c.BROADCAST,fillColor:i.d.SECONDARY,height:"16px",width:"16px"})),n.default.createElement(i.L,{className:"sendbird-channel-preview__content__upper__header__channel-name",type:i.a.SUBTITLE_2,color:i.b.ONBACKGROUND_1},G(a,f,C)),n.default.createElement(i.L,{className:"sendbird-channel-preview__content__upper__header__total-members",type:i.a.CAPTION_2,color:i.b.ONBACKGROUND_2},j(a)),p&&n.default.createElement("div",{title:"Frozen",className:"sendbird-channel-preview__frozen-icon"},n.default.createElement(i.I,{type:i.c.FREEZE,fillColor:i.d.PRIMARY,height:12,width:12}))),n.default.createElement(i.L,{className:"sendbird-channel-preview__content__upper__last-message-at",type:i.a.CAPTION_3,color:i.b.ONBACKGROUND_2},Q(a))),n.default.createElement("div",{className:"sendbird-channel-preview__content__lower"},n.default.createElement(i.L,{className:"sendbird-channel-preview__content__lower__last-message",type:i.a.BODY_2,color:i.b.ONBACKGROUND_3},z(a)),n.default.createElement("div",{className:"sendbird-channel-preview__content__lower__unread-message-count"},Y(a)?n.default.createElement(s.B,{count:Y(a)}):null))),n.default.createElement("div",{className:"sendbird-channel-preview__action"},u))}function W(t){var a=t.user,l=t.iconButton,r=t.onEdit,u=t.renderHeader,s=t.allowProfileEdit,d=(0,n.useContext)(e.d).stringSet;return n.default.createElement("div",{className:"\n        ".concat(s&&"sendbird-channel-header--allow-edit","\n        sendbird-channel-header\n      ")},u?u():n.default.createElement("div",{className:"sendbird-channel-header__title",role:"button",onKeyDown:r,onClick:r,tabIndex:"0"},n.default.createElement("div",{className:"sendbird-channel-header__title--left"},n.default.createElement(i.A,{height:"32px",width:"32px",src:a.profileUrl,alt:a.nickname})),n.default.createElement("div",{className:"sendbird-channel-header__title--right"},n.default.createElement(i.L,{className:"sendbird-channel-header__title--name",type:i.a.SUBTITLE_2,color:i.b.ONBACKGROUND_1},a.nickname||d.NO_NAME),n.default.createElement(i.L,{className:"sendbird-channel-header__title--user-id",type:i.a.BODY_2,color:i.b.ONBACKGROUND_2},a.userId))),n.default.createElement("div",{className:"sendbird-channel-header__right-icon"},l))}function J(t){var a=t.user,r=t.onCancel,s=t.onSubmit,d=t.onThemeChange,o=void 0===d?null:d,c=t.theme,f=void 0===c?"light":c,p=t.changeTheme,C=void 0===p?u.n:p,_=(0,n.useRef)(null),m=(0,n.useRef)(null),E=(0,n.useRef)(null),y=(0,n.useContext)(e.d).stringSet,g=(0,n.useState)(null),b=g[0],L=g[1],v=(0,n.useState)(null),N=v[0],I=v[1];return n.default.createElement(l.M,{titleText:y.EDIT_PROFILE__TITLE,submitText:y.BUTTON__SAVE,onCancel:r,onSubmit:function(){""===a.nickname||m.current.value?(s(m.current.value,N),r()):E.current.reportValidity&&E.current.reportValidity()},type:l.T.PRIMARY},n.default.createElement("form",{className:"sendbird__edit-user-profile",ref:E,onSubmit:function(e){e.preventDefault()}},n.default.createElement("section",{className:"sendbird__edit-user-profile__img"},n.default.createElement(h.I,null,y.EDIT_PROFILE__IMAGE_LABEL),n.default.createElement("div",{className:"sendbird__edit-user__avatar"},n.default.createElement(i.A,{height:"80px",width:"80px",src:b||a.profileUrl})),n.default.createElement("input",{ref:_,type:"file",accept:"image/gif, image/jpeg, image/png",style:{display:"none"},onChange:function(e){L(URL.createObjectURL(e.target.files[0])),I(e.target.files[0]),_.current.value=""}}),n.default.createElement(l.a,{className:"sendbird__edit-user__avatar-button",onClick:function(){return _.current.click()},notUnderline:!0},n.default.createElement(i.L,{type:i.a.BUTTON_1,color:i.b.PRIMARY},y.EDIT_PROFILE__IMAGE_UPLOAD))),n.default.createElement("section",{className:"sendbird__edit-user__name"},n.default.createElement(h.I,null,y.EDIT_PROFILE__NICKNAME_LABEL),n.default.createElement(h.a,{required:""!==a.nickname,name:"sendbird__edit-user__name",ref:m,value:a.nickname,placeHolder:y.EDIT_PROFILE__NICKNAME_PLACEHOLDER})),n.default.createElement("section",{className:"sendbird__edit-user__userid"},n.default.createElement(h.I,null,y.EDIT_PROFILE__USERID_LABEL),n.default.createElement(h.a,{disabled:!0,name:"sendbird__edit-user__userid",value:a.userId})),n.default.createElement("section",{className:"sendbird__edit-user__theme"},n.default.createElement(h.I,null,y.EDIT_PROFILE__THEME_LABEL),n.default.createElement("div",{className:"sendbird__edit-user__theme-icon"},"dark"===f?n.default.createElement(i.I,{onClick:function(){C("light"),o&&"function"==typeof o&&o("light")},type:i.c.TOGGLE_ON,width:44,height:24}):n.default.createElement(i.I,{onClick:function(){C("dark"),o&&"function"==typeof o&&o("dark")},type:i.c.TOGGLE_OFF,width:44,height:24})))))}V.propTypes={isActive:t.default.bool,theme:t.default.string,channel:t.default.shape({members:t.default.arrayOf(t.default.shape({})),coverUrl:t.default.string,isBroadcast:t.default.bool,isFrozen:t.default.bool}),ChannelAction:t.default.element.isRequired,onClick:t.default.func,tabIndex:t.default.number,currentUser:t.default.shape({userId:t.default.string})},V.defaultProps={channel:{},isActive:!1,theme:"light",onClick:function(){},tabIndex:0,currentUser:{}},W.propTypes={user:t.default.shape({profileUrl:t.default.string,nickname:t.default.string,userId:t.default.string}),renderHeader:t.default.func,allowProfileEdit:t.default.bool,onEdit:t.default.func.isRequired,iconButton:t.default.oneOfType([t.default.element,t.default.instanceOf(l.I)])},W.defaultProps={user:{},renderHeader:null,allowProfileEdit:!1,iconButton:null};var Z=function(e){return{theme:e.config.theme,changeTheme:e.config.setCurrenttheme}},X=(0,e.w)(J,Z);function $(t){var a=t.sdk,r=t.disabled,u=t.channelListDispatcher,d=t.onBeforeCreateChannel,o=t.userId,c=t.userFilledApplicationUserListQuery,f=t.userListQuery,h=(0,n.useState)(!1),p=(0,e.b)(h,2),C=p[0],_=p[1],m=(0,n.useState)(0),y=(0,e.b)(m,2),g=y[0],b=y[1],L=(0,n.useState)("group"),v=(0,e.b)(L,2),N=v[0],I=v[1],T=(0,n.useContext)(e.d).stringSet;if(!a||!a.createApplicationUserListQuery)return null;var A=(0,s.i)(a),S=(0,s.a)(a);return n.default.createElement(n.default.Fragment,null,n.default.createElement(l.I,{height:"32px",width:"32px",onClick:function(){_(!0)},disabled:r},n.default.createElement(i.I,{type:i.c.CREATE,fillColor:i.d.PRIMARY,width:"24px",height:"24px"})),C&&0===g&&n.default.createElement(l.M,{titleText:"New channel",hideFooter:!0,onCancel:function(){_(!1)},onSubmit:function(){}},n.default.createElement("div",{className:"sendbird-add-channel__rectangle-wrap"},n.default.createElement("div",{className:"sendbird-add-channel__rectangle",onClick:function(){I("group"),b(1)},role:"button",tabIndex:0,onKeyDown:function(){I("group"),b(1)}},n.default.createElement(i.I,{className:"sendbird-add-channel__rectangle__chat-icon",type:i.c.CHAT,fillColor:i.d.PRIMARY,width:"28px",height:"28px"}),n.default.createElement(i.L,{type:i.a.SUBTITLE_1,color:i.b.ONBACKGROUND_1},"Group")),S&&n.default.createElement("div",{className:"sendbird-add-channel__rectangle",onClick:function(){I("supergroup"),b(1)},role:"button",tabIndex:0,onKeyDown:function(){I("supergroup"),b(1)}},n.default.createElement(i.I,{className:"sendbird-add-channel__rectangle__supergroup-icon",type:i.c.SUPERGROUP,fillColor:i.d.PRIMARY,width:"28px",height:"28px"}),n.default.createElement(i.L,{type:i.a.SUBTITLE_1,color:i.b.ONBACKGROUND_1},"Super group")),A&&n.default.createElement("div",{className:"sendbird-add-channel__rectangle",onClick:function(){I("broadcast"),b(1)},role:"button",tabIndex:0,onKeyDown:function(){I("broadcast"),b(1)}},n.default.createElement(i.I,{className:"sendbird-add-channel__rectangle__broadcast-icon",type:i.c.BROADCAST,fillColor:i.d.PRIMARY,width:"28px",height:"28px"}),n.default.createElement(i.L,{type:i.a.SUBTITLE_1,color:i.b.ONBACKGROUND_1},"Broadcast")))),C&&1===g&&n.default.createElement(s.I,{swapParams:a&&a.getErrorFirstCallback&&a.getErrorFirstCallback(),titleText:T.MODAL__CREATE_CHANNEL__TITLE,submitText:T.BUTTON__CREATE,closeModal:function(){b(0),_(!1)},idsToFilter:[o],userQueryCreator:function(){return f&&"function"==typeof f?f():(0,s.c)({sdk:a,userFilledApplicationUserListQuery:c})},onSubmit:function(e){return(0,s.b)(a,e,d,o,N).then(function(e){u({type:E,payload:e})})}}))}function ee(t){var a=t.disabled,r=t.onLeaveChannel,u=(0,n.useRef)(null),d=(0,n.useState)(!1),o=(0,e.b)(d,2),c=o[0],f=o[1],h=(0,n.useContext)(e.d).stringSet;return n.default.createElement("div",{role:"button",style:{display:"inline-block"},onKeyDown:function(e){e.stopPropagation()},tabIndex:0,onClick:function(e){e.stopPropagation()}},n.default.createElement(l.C,{menuTrigger:function(e){return n.default.createElement(l.I,{ref:u,onClick:e,height:"32px",width:"32px"},n.default.createElement(i.I,{type:i.c.MORE,fillColor:i.d.PRIMARY,width:"24px",height:"24px"}))},menuItems:function(e){return n.default.createElement(l.b,{parentRef:u,parentContainRef:u,closeDropdown:e},n.default.createElement(l.c,{onClick:function(){a||(f(!0),e())}},h.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE))}}),c&&n.default.createElement(s.L,{onCloseModal:function(){return f(!1)},onLeaveChannel:r}))}function ne(e){var t=e.type;return n.default.createElement("div",{className:"sendbird-channel-list"},n.default.createElement(i.P,{type:t}))}$.propTypes={sdk:t.default.shape({getErrorFirstCallback:t.default.func,createApplicationUserListQuery:t.default.func}).isRequired,disabled:t.default.bool,channelListDispatcher:t.default.func.isRequired,userFilledApplicationUserListQuery:t.default.shape({}),onBeforeCreateChannel:t.default.func,userId:t.default.string.isRequired,userListQuery:t.default.func},$.defaultProps={disabled:!1,userFilledApplicationUserListQuery:{},onBeforeCreateChannel:null,userListQuery:null},ee.propTypes={disabled:t.default.bool,onLeaveChannel:t.default.func.isRequired},ee.defaultProps={disabled:!1},ne.propTypes={type:t.default.string.isRequired};var te=function(e){var n=e.sdk,t=e.sdkChannelHandlerId,a=e.channelListDispatcher,l=e.logger,r=new n.ChannelHandler;r.onChannelChanged=function(e){l.info("ChannelList: onChannelChanged",e),a({type:P,payload:e})},r.onChannelDeleted=function(e){l.info("ChannelList: onChannelDeleted",e),a({type:R,payload:e})},r.onUserJoined=function(e){l.info("ChannelList: onUserJoined",e),e.lastMessage&&a({type:O,payload:e})},r.onUserBanned=function(e,t){var r=n.currentUser;l.info("Channel | useHandleChannelEvents: onUserBanned",e),t.userId===r.userId?a({type:w,payload:{channel:e,isMe:!0}}):a({type:w,payload:{channel:e,isMe:!1}})},r.onUserLeft=function(e,t){var r=n.currentUser.userId===t.userId;l.info("ChannelList: onUserLeft",e),a({type:w,payload:{channel:e,isMe:r}})},r.onReadStatus=function(e){l.info("ChannelList: onReadStatus",e),a({type:H,payload:e})},r.onDeliveryReceiptUpdated=function(e){l.info("ChannelList: onDeliveryReceiptUpdated",e),e.lastMessage&&a({type:x,payload:e})},r.onMessageUpdated=function(e,n){e.lastMessage.isEqual(n)&&(l.info("ChannelList: onMessageUpdated",e),a({type:U,payload:e}))},r.onChannelHidden=function(e){l.info("ChannelList: onChannelHidden",e),a({type:D,payload:e.url})},r.onChannelFrozen=function(e){l.info("ChannelList: onChannelFrozen",e),a({type:k,payload:e})},r.onChannelUnfrozen=function(e){l.info("ChannelList: onChannelUnfrozen",e),a({type:F,payload:e})},l.info("ChannelList: Added channelHandler"),n.addChannelHandler(t,r)},ae=function(e){var n=e.sdk,t=e.userFilledChannelListQuery,a=void 0===t?{}:t,l=n.GroupChannel.createMyGroupChannelListQuery();return l.includeEmpty=!1,l.order="latest_last_message",l.limit=20,a&&Object.keys(a).forEach(function(e){l[e]=a[e]}),l};function le(e){var n=e.sdk,t=e.sdkChannelHandlerId,a=e.channelListDispatcher,l=e.setChannelSource,r=e.onChannelSelect,i=e.userFilledChannelListQuery,u=e.logger,s=e.sortChannelList;te({sdk:n,channelListDispatcher:a,sdkChannelHandlerId:t,logger:u}),u.info("ChannelList - creating query",{userFilledChannelListQuery:i});var d=ae({sdk:n,userFilledChannelListQuery:i});u.info("ChannelList - created query",d),l(d),a({type:T}),u.info("ChannelList - fetching channels"),d.hasNext?d.next(function(e,t){var l=e,i=t;if(n.getErrorFirstCallback()&&(l=t,i=e),u.info("ChannelList - fetched channels",l),i)return u.error("ChannelList - couldnt fetch channels",i),void a({type:S});u.info("ChannelList - highlight channel",l[0]);var d=l;s&&"function"==typeof s&&(d=s(l),u.info("ChannelList - channel list sorted",d)),r(d[0]),a({type:A,payload:d}),l&&"function"==typeof l.forEach&&(u.info("ChannelList - mark all channels as delivered"),l.forEach(function(e){return e.markAsDelivered()}))}):u.warning("ChannelList - there are no more channels")}var re=function(e){e.forEach(function(e){try{e.remove()}catch(n){}})},ie=function(e,n){var t=new Map;return e?(t.set(l.d,e.subscribe(l.d,function(e){var t=e.channel;n({type:"CREATE_CHANNEL",payload:t})})),t.set(l.U,e.subscribe(l.U,function(e){var t=e.channel,a=e.message,l=t;l.lastMessage=a,t&&n({type:U,payload:l})})),t.set(l.L,e.subscribe(l.L,function(e){var t=e.channel;n({type:y,payload:t.url})})),t.set(l.S,e.subscribe(l.S,function(e){var t=e.channel;n({type:M,payload:t})})),t):t},ue=function(){};function se(t){var r=t.stores,u=r.sdkStore,s=void 0===u?{}:u,d=r.userStore,o=void 0===d?{}:d,c=t.config,f=c.userId,h=c.isOnline,p=c.userListQuery,C=c.logger,_=c.pubSub,E=c.theme,b=t.dispatchers.userDispatcher,L=t.queries,T=void 0===L?{}:L,A=t.renderChannelPreview,S=t.renderHeader,O=t.renderUserProfile,R=t.disableUserProfile,U=t.allowProfileEdit,w=t.sortChannelList,P=t.onProfileEditSuccess,D=t.onThemeChange,k=t.onBeforeCreateChannel,F=t.onChannelSelect,H=t.config,x=void 0===H?{}:H,M=U||x.allowProfileEdit,G=R||x.disableUserProfile,Q=O||x.renderUserProfile,j=s.sdk,K=void 0===j?{}:j,z=T.channelListQuery,Y=T.applicationUserListQuery,J=s.error,Z=(0,n.useState)({}),te=(0,e.b)(Z,2),ae=te[0],ue=te[1];(0,n.useEffect)(function(){ue(o.user)},[o.user]);var se=s.initialized,de=(0,n.useReducer)(q,B),oe=(0,e.b)(de,2),ce=oe[0],fe=oe[1],he=(0,n.useState)({}),pe=(0,e.b)(he,2),Ce=pe[0],_e=pe[1],me=(0,n.useState)(null),Ee=(0,e.b)(me,2),ye=Ee[0],ge=Ee[1],be=(0,n.useState)(!1),Le=(0,e.b)(be,2),ve=Le[0],Ne=Le[1],Ie=ce.loading,Te=ce.currentChannel;(0,n.useEffect)(function(){var e=ie(_,fe);return function(){re(e)}},[se]),(0,n.useEffect)(function(){return ge(e.u),se?(C.info("ChannelList: Setup channelHandlers"),le({sdk:K,sdkChannelHandlerId:ye,channelListDispatcher:fe,setChannelSource:_e,onChannelSelect:F,userFilledChannelListQuery:z,logger:C,sortChannelList:w})):(C.info("ChannelList: Removing channelHandlers"),K&&K.removeChannelHandler&&K.removeChannelHandler(ye),_e({}),fe({type:m})),function(){C.info("ChannelList: Removing channelHandlers"),K&&K.removeChannelHandler&&K.removeChannelHandler(ye)}},[se,z,w]);var Ae=ce.allChannels,Se=w&&"function"==typeof w?w(Ae):Ae;if(Se.length!==Ae.length){var Oe="ChannelList: You have removed/added extra channels on sortChannelList\n      this could cause unexpected problems";console.warn(Oe,{before:Ae,after:Se}),C.warning(Oe,{before:Ae,after:Se})}return(0,n.useEffect)(function(){K&&K.GroupChannel&&K.GroupChannel.getChannel(Te,function(e){F(e||null)})},[Te]),n.default.createElement(l.e,{disableUserProfile:G,renderUserProfile:Q,className:"sendbird-channel-list"},n.default.createElement("div",{className:"sendbird-channel-list__header"},n.default.createElement(W,{renderHeader:S,user:ae,onEdit:function(){M&&Ne(!0)},allowProfileEdit:M,iconButton:n.default.createElement($,{disabled:!h,userListQuery:p,sdk:K,channelListDispatcher:fe,userId:f,userFilledApplicationUserListQuery:Y,onBeforeCreateChannel:k})})),ve&&n.default.createElement(X,{onThemeChange:D,user:ae,onCancel:function(){Ne(!1)},onSubmit:function(e,n){K.updateCurrentUserInfoWithProfileImage(e,n,function(e){b({type:a.U,payload:e}),P&&"function"==typeof P&&P(e)})}}),n.default.createElement("div",{className:"sendbird-channel-list__body",onScroll:function(e){e.target.clientHeight+e.target.scrollTop===e.target.scrollHeight&&Ce.hasNext&&(C.info("ChannelList: Fetching more channels"),fe({type:v}),Ce.next(function(e,n){var t=e,a=n;if(K.getErrorFirstCallback()&&(t=n,a=e),a)return C.info("ChannelList: Fetching channels failed",a),void fe({type:I,payload:t});C.info("ChannelList: Fetching channels successful",t),fe({type:N,payload:t}),t&&"function"==typeof t.forEach&&(C.info("ChannelList: Marking all channels as read"),t.forEach(function(e){return e.markAsDelivered()}))}))}},J&&n.default.createElement(ne,{type:i.f.WRONG}),n.default.createElement("div",null,Se&&Se.map(function(e,t){var a=function(n,t){C.info("ChannelList: Leaving channel",n),n.leave().then(function(n){C.info("ChannelList: Leaving channel success",n),t&&"function"==typeof t&&t(n,null),fe({type:y,payload:e.url})}).catch(function(e){C.error("ChannelList: Leaving channel failed",e),t&&"function"==typeof t&&t(null,e)})},l=function(){h&&(C.info("ChannelList: Clicked on channel:",e),fe({type:g,payload:e.url}))};return A?n.default.createElement("div",{key:e.url,onClick:l},A({channel:e,onLeaveChannel:a})):n.default.createElement(V,{key:e.url,tabIndex:t,onClick:l,channel:e,currentUser:ae,theme:E,isActive:e.url===Te,ChannelAction:n.default.createElement(ee,{disabled:!h,onLeaveChannel:function(){return a(e)}})})})),(!se||Ie)&&n.default.createElement(ne,{type:i.f.LOADING}),(!Ae||0===Ae.length)&&n.default.createElement(ne,{type:i.f.NO_CHANNELS})))}se.propTypes={stores:t.default.shape({sdkStore:t.default.shape({initialized:t.default.bool}),userStore:t.default.shape({user:t.default.shape({})})}).isRequired,dispatchers:t.default.shape({userDispatcher:t.default.func}).isRequired,config:t.default.shape({userId:t.default.string.isRequired,userListQuery:t.default.func,theme:t.default.string,isOnline:t.default.bool,logger:t.default.shape({info:t.default.func,error:t.default.func,warning:t.default.func}),pubSub:t.default.shape({subscribe:t.default.func,publish:t.default.func})}).isRequired,queries:t.default.shape({channelListQuery:t.default.shape({channelNameContainsFilter:t.default.string,channelUrlsFilter:t.default.arrayOf(t.default.string),customTypesFilter:t.default.arrayOf(t.default.string),customTypeStartsWithFilter:t.default.string,hiddenChannelFilter:t.default.string,includeEmpty:t.default.bool,limit:t.default.number,memberStateFilter:t.default.string,metadataOrderKeyFilter:t.default.string,nicknameContainsFilter:t.default.string,order:t.default.string,publicChannelFilter:t.default.string,superChannelFilter:t.default.string,unreadChannelFilter:t.default.string,userIdsExactFilter:t.default.arrayOf(t.default.string),userIdsIncludeFilter:t.default.arrayOf(t.default.string),userIdsIncludeFilterQueryType:t.default.string}),applicationUserListQuery:t.default.shape({limit:t.default.number,userIdsFilter:t.default.arrayOf(t.default.string),metaDataKeyFilter:t.default.string,metaDataValuesFilter:t.default.arrayOf(t.default.string)})}),onBeforeCreateChannel:t.default.func,renderChannelPreview:t.default.oneOfType([t.default.element,t.default.func]),disableUserProfile:t.default.bool,renderUserProfile:t.default.func,allowProfileEdit:t.default.bool,sortChannelList:t.default.func,onThemeChange:t.default.func,onProfileEditSuccess:t.default.func,renderHeader:t.default.oneOfType([t.default.element,t.default.func]),onChannelSelect:t.default.func},se.defaultProps={onBeforeCreateChannel:null,renderChannelPreview:null,renderHeader:null,disableUserProfile:!1,renderUserProfile:null,allowProfileEdit:!1,onThemeChange:null,sortChannelList:null,onProfileEditSuccess:null,queries:{},onChannelSelect:ue};var de=(0,e.w)(se),oe=de;exports.default=oe;
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","./actionTypes-a85c0eaa.js":"kvwx","./index-711ec843.js":"zGzG","./index-4eb938ab.js":"JmLL","./index-ad616be9.js":"X2nd","./utils-53ba1773.js":"DjaK","./LeaveChannel-2c2f8e8e.js":"ZFXd","date-fns/isToday":"YrnY","date-fns/format":"ZzDw","date-fns/isYesterday":"LqHY","./type-0296584d.js":"xJ4h","./utils-cfdeb084.js":"ILLV","react-dom":"X9zx","./index-5788a124.js":"YNuJ"}],"QCm6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.D=g,exports.F=N,exports.L=C,exports.c=m,exports.u=exports.i=exports.a=exports.M=void 0;var e=require("./LocalizationContext-12658c38.js"),t=s(require("react")),a=i(require("prop-types")),r=require("./index-711ec843.js"),n=require("./index-ad616be9.js"),l=require("react-dom");function i(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}var o={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/svg+xml","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},u=function(e){return o.IMAGE.indexOf(e)>=0};exports.i=u;var c=function(e){return o.VIDEO.indexOf(e)>=0};exports.a=c;var f=function(e){return!(u(e)||c(e))};exports.u=f;var p=function(e){return null==e};function m(e,t){return!p(e)&&!p(t)&&e.toString()===t.toString()}function g(a){var n=a.className,l=a.children,i=a.separatorColor,d=Array.isArray(n)?n:[n];return t.default.createElement("div",{className:[].concat((0,e.c)(d),["sendbird-separator"]).join(" ")},t.default.createElement("div",{className:["".concat((0,r.k)(i),"--background-color"),"sendbird-separator__left"].join(" ")}),t.default.createElement("div",{className:"sendbird-separator__text"},l),t.default.createElement("div",{className:["".concat((0,r.k)(i),"--background-color"),"sendbird-separator__right"].join(" ")}))}g.propTypes={className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),children:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string),a.default.element]),separatorColor:a.default.string},g.defaultProps={className:"",children:t.default.createElement(n.L,{type:n.a.CAPTION_2,color:n.b.ONBACKGROUND_2},"Date Separator"),separatorColor:r.j.ONBACKGROUND_4};var h=76,y=function(){},_={SHIFT:16,ENTER:13},v=function(e){return function(t){t.target.files&&t.target.files[0]&&e(t.target.files[0]),t.target.value=""}},b=t.default.forwardRef(function(a,l){var i=a.isEdit,d=a.disabled,s=a.value,o=a.name,u=a.placeholder,c=a.maxLength,f=a.onFileUpload,p=a.onSendMessage,m=a.onCancelEdit,g=a.onStartTyping,y=(0,t.useContext)(e.d).stringSet,b=(0,t.useRef)(null),E=(0,t.useState)(s),N=(0,e.b)(E,2),O=N[0],x=N[1],C=(0,t.useState)(!1),w=(0,e.b)(C,2),T=w[0],R=w[1],k=function(){try{var e=l.current,t=.6*window.document.body.offsetHeight;e&&e.scrollHeight>=h?t<e.scrollHeight?(e.style.height="auto",e.style.height="".concat(t,"px")):(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")):e.style.height=""}catch(a){}};(0,t.useEffect)(function(){return k(),k},[O]);var A=function(){if(O&&O.trim().length>0){var e=O.trim();i?p(o,e,function(){m()}):(p(e),x(""))}};return t.default.createElement("form",{className:"\n        ".concat(i?"sendbird-message-input__edit":"","\n        ").concat(d?"sendbird-message-input-form__disabled":"","\n      ")},t.default.createElement("div",{className:"\n          sendbird-message-input\n          ".concat(d?"sendbird-message-input__disabled":"","\n        ")},t.default.createElement("textarea",{disabled:d,ref:l,name:o,value:O,className:"sendbird-message-input--textarea",maxLength:c,onChange:function(e){x(e.target.value),g()},onKeyDown:function(e){e.keyCode===_.SHIFT&&R(!0),T||e.keyCode!==_.ENTER||(e.preventDefault(),A())},onKeyUp:function(e){e.keyCode===_.SHIFT&&R(!1)}}),!O&&t.default.createElement(n.L,{type:n.a.BODY_1,color:n.b.ONBACKGROUND_3,className:"sendbird-message-input--placeholder"},u||y.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER),!i&&O&&O.trim().length>0&&t.default.createElement(r.I,{className:"sendbird-message-input--send",height:"32px",width:"32px",onClick:A},t.default.createElement(n.I,{type:n.c.SEND,fillColor:n.d.PRIMARY,width:"20px",height:"20px"})),!i&&(!O||!(O.trim().length>0))&&t.default.createElement(r.I,{className:"sendbird-message-input--attach",height:"32px",width:"32px",onClick:function(){b.current.click()}},t.default.createElement(n.I,{type:n.c.ATTACH,fillColor:n.d.CONTENT_INVERSE,width:"20px",height:"20px"}),t.default.createElement("input",{type:"file",ref:b,onChange:v(f),className:"sendbird-message-input--attach-input"}))),i&&t.default.createElement("div",{className:"sendbird-message-input--edit-action"},t.default.createElement(r.B,{className:"sendbird-message-input--edit-action__cancel",type:r.T.SECONDARY,size:r.l.SMALL,onClick:m},y.BUTTON__CANCEL),t.default.createElement(r.B,{className:"sendbird-message-input--edit-action__save",type:r.T.PRIMARY,size:r.l.SMALL,onClick:function(){if(O){var e=O.trim();p(o,e,function(){m()})}}},y.BUTTON__SAVE)))});exports.M=b,b.propTypes={placeholder:a.default.oneOfType([a.default.string,a.default.bool]),isEdit:a.default.bool,name:a.default.oneOfType([a.default.string,a.default.number]),value:a.default.string,disabled:a.default.bool,maxLength:a.default.number,onFileUpload:a.default.func,onSendMessage:a.default.func,onStartTyping:a.default.func,onCancelEdit:a.default.func},b.defaultProps={value:"",onSendMessage:y,name:"sendbird-message-input",isEdit:!1,disabled:!1,placeholder:"",maxLength:5e3,onFileUpload:y,onCancelEdit:y,onStartTyping:y};var E=function(e){var a=e.profileUrl,r=e.nickname,l=e.type,i=e.url,d=e.name,s=e.onClose,o=e.onDelete,p=e.isByMe;return t.default.createElement("div",{className:"sendbird-fileviewer"},t.default.createElement("div",{className:"sendbird-fileviewer__header"},t.default.createElement("div",{className:"sendbird-fileviewer__header-left"},t.default.createElement("div",{className:"sendbird-fileviewer__header-avatar"},t.default.createElement(n.A,{height:"32px",width:"32px",src:a})),t.default.createElement(n.L,{className:"sendbird-fileviewer__header-filename",type:n.a.H_2,color:n.b.ONBACKGROUND_1},d),t.default.createElement(n.L,{className:"sendbird-fileviewer__header-sendername",type:n.a.BODY_1,color:n.b.ONBACKGROUND_2},r)),t.default.createElement("div",{className:"sendbird-fileviewer__header-right"},!f(l)&&t.default.createElement("div",{className:"sendbird-fileviewer__header-actions"},t.default.createElement("a",{href:i,rel:"noopener noreferrer",target:"_blank",className:"sendbird-fileviewer__header-download"},t.default.createElement(n.I,{type:n.c.DOWNLOAD,height:"24px",width:"24px"})),o&&p&&t.default.createElement("div",{className:"sendbird-fileviewer__header-delete"},t.default.createElement(n.I,{type:n.c.DELETE,height:"24px",width:"24px",onClick:o}))),t.default.createElement("div",{className:"sendbird-fileviewer__header-close"},t.default.createElement(n.I,{type:n.c.CLOSE,height:"24px",width:"24px",onClick:s})))),t.default.createElement("div",{className:"sendbird-fileviewer__content"},c(l)&&t.default.createElement("video",{controls:!0,className:"sendbird-fileviewer__video"},t.default.createElement("source",{src:i,type:l})),u(l)&&t.default.createElement("img",{src:i,alt:d,className:"sendbird-fileviewer__img"}),f(l)&&t.default.createElement("div",{className:"sendbird-fileviewer__unsupported"},t.default.createElement(n.L,{type:n.a.H_1,color:n.b.ONBACKGROUND_1},"Unsupoprted message"))))};function N(e){var a=e.onClose,n=e.message,i=e.onDelete,d=e.isByMe,s=n.sender,o=n.type,u=n.url,c=n.name,f=void 0===c?"":c,p=s.profileUrl,m=s.nickname,g=void 0===m?"":m;return(0,l.createPortal)(t.default.createElement(E,{profileUrl:p,nickname:g,type:o,url:u,name:f,onClose:a,onDelete:i,isByMe:d}),document.getElementById(r.m))}E.propTypes={profileUrl:a.default.string.isRequired,nickname:a.default.string.isRequired,type:a.default.string.isRequired,url:a.default.string.isRequired,name:a.default.string.isRequired,onClose:a.default.func.isRequired,onDelete:a.default.func.isRequired,isByMe:a.default.bool},E.defaultProps={isByMe:!0},N.propTypes={onClose:a.default.func.isRequired,message:a.default.shape({sender:a.default.shape({profileUrl:a.default.string,nickname:a.default.string}),type:a.default.string,url:a.default.string,name:a.default.string}).isRequired,onDelete:a.default.func.isRequired,isByMe:a.default.bool},N.defaultProps={isByMe:!0};var O="sendbird-link-label",x=/https?:\/\//;function C(e){var a=e.className,r=e.src,l=e.type,i=e.color,d=e.children,s=Array.isArray(a)?a:[a];i&&s.push((0,n.j)(i));var o=x.test(r)?r:"http://".concat(r);return t.default.createElement("a",{className:"".concat(O," ").concat(s.join(" ")),href:o,target:"_blank",rel:"noopener noreferrer"},t.default.createElement(n.L,{type:l,color:i,className:"".concat(O,"__label")},d))}C.propTypes={className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),children:a.default.oneOfType([a.default.string,a.default.element,a.default.arrayOf(a.default.string),a.default.arrayOf(a.default.element)]).isRequired,src:a.default.string.isRequired,type:a.default.oneOf(Object.keys(n.a)).isRequired,color:a.default.oneOf(Object.keys(n.b)).isRequired},C.defaultProps={className:""};
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","./index-711ec843.js":"zGzG","./index-ad616be9.js":"X2nd","react-dom":"X9zx"}],"WXy6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.g=exports.d=exports.c=exports.b=exports.a=void 0;var e=t(require("date-fns/format")),r=require("./type-0296584d.js");function t(e){return e&&e.__esModule?e:{default:e}}var n=function(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var r=document.createElement("textarea");r.textContent=e,r.style.position="fixed",document.body.appendChild(r),r.select();try{return document.execCommand("copy")}catch(t){return!1}finally{document.body.removeChild(r)}}return!1};exports.c=n;var o=function(r){return(0,e.default)(r.createdAt||0,"p")};exports.b=o;var d=function(e){return e.sender&&(e.sender.friendName||e.sender.nickname||e.sender.userId)};exports.a=d;var a=function(e){return e.sender&&e.sender.profileUrl};exports.g=a;var u=function(e){return e===r.M.SENT||e===r.M.DELIVERED||e===r.M.READ};exports.d=u;
},{"date-fns/format":"ZzDw","./type-0296584d.js":"xJ4h"}],"geIU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("../toDate/index.js")),t=r(require("../_lib/requiredArgs/index.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r,u){(0,t.default)(2,arguments);var i=(0,e.default)(r),d=(0,e.default)(u),a=i.getTime()-d.getTime();return a<0?-1:a>0?1:a}
},{"../toDate/index.js":"xyyE","../_lib/requiredArgs/index.js":"j33M"}],"FgDT":[function(require,module,exports) {
"use strict";function e(e,r){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in r=r||{})Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"tlYS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../assign/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return(0,e.default)({},t)}
},{"../assign/index.js":"FgDT"}],"MS4M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=i(require("../_lib/getTimezoneOffsetInMilliseconds/index.js")),r=i(require("../compareAsc/index.js")),t=i(require("../toDate/index.js")),n=i(require("../_lib/cloneObject/index.js")),a=i(require("../locale/en-US/index.js")),o=i(require("../_lib/requiredArgs/index.js"));function i(e){return e&&e.__esModule?e:{default:e}}var u=6e4,d=1440,l=30*d,f=365*d;function s(i,s){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.default)(2,arguments);var m=c.locale||a.default;if(!m.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var h=(0,r.default)(i,s);if(isNaN(h))throw new RangeError("Invalid time value");var v,x,g=(0,n.default)(c);g.addSuffix=Boolean(c.addSuffix),g.comparison=h,h>0?(v=(0,t.default)(s),x=(0,t.default)(i)):(v=(0,t.default)(i),x=(0,t.default)(s));var D,M=null==c.roundingMethod?"round":String(c.roundingMethod);if("floor"===M)D=Math.floor;else if("ceil"===M)D=Math.ceil;else{if("round"!==M)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");D=Math.round}var y,j=x.getTime()-v.getTime(),w=j/u,b=(j-((0,e.default)(x)-(0,e.default)(v)))/u;if("second"===(y=null==c.unit?w<1?"second":w<60?"minute":w<d?"hour":b<l?"day":b<f?"month":"year":String(c.unit))){var p=D(j/1e3);return m.formatDistance("xSeconds",p,g)}if("minute"===y){var q=D(w);return m.formatDistance("xMinutes",q,g)}if("hour"===y){var _=D(w/60);return m.formatDistance("xHours",_,g)}if("day"===y){var S=D(b/d);return m.formatDistance("xDays",S,g)}if("month"===y){var E=D(b/l);return 12===E&&"month"!==c.unit?m.formatDistance("xYears",1,g):m.formatDistance("xMonths",E,g)}if("year"===y){var R=D(b/f);return m.formatDistance("xYears",R,g)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}
},{"../_lib/getTimezoneOffsetInMilliseconds/index.js":"p0Kq","../compareAsc/index.js":"geIU","../toDate/index.js":"xyyE","../_lib/cloneObject/index.js":"tlYS","../locale/en-US/index.js":"QhNd","../_lib/requiredArgs/index.js":"j33M"}],"xP96":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("../formatDistanceStrict/index.js")),r=t(require("../_lib/requiredArgs/index.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u){return(0,r.default)(1,arguments),(0,e.default)(t,Date.now(),u)}
},{"../formatDistanceStrict/index.js":"MS4M","../_lib/requiredArgs/index.js":"j33M"}],"OmmJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEmojisFromEmojiContainer=exports.getEmojiCategoriesFromEmojiContainer=exports.getAllEmojisFromEmojiContainer=exports.ConversationPanel=exports.default=void 0;var e=require("./LocalizationContext-12658c38.js"),t=h(require("react")),a=g(require("prop-types")),n=require("./index-711ec843.js"),s=require("./index-4eb938ab.js"),l=require("./index-ad616be9.js"),r=require("./utils-53ba1773.js"),o=g(require("date-fns/format")),i=require("./type-0296584d.js"),u=require("./utils-cfdeb084.js");require("react-dom");var d=require("./index-aeef4ba5.js"),c=g(require("date-fns/isSameDay")),f=require("./utils-d7f59026.js"),m=g(require("date-fns/formatDistanceToNowStrict"));function g(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=s?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(n,l,r):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}var E="RESET_MESSAGES",_="RESET_STATE",b="CLEAR_SENT_MESSAGES",M="GET_PREV_MESSAGES_START",N="GET_PREV_MESSAGES_SUCESS",C="GET_NEXT_MESSAGES_SUCESS",R="GET_NEXT_MESSAGES_FAILURE",y="SEND_MESSAGEGE_START",v="SEND_MESSAGEGE_SUCESS",T="SEND_MESSAGEGE_FAILURE",I="RESEND_MESSAGEGE_START",O="ON_MESSAGE_RECEIVED",S="UPDATE_UNREAD_COUNT",A="ON_MESSAGE_UPDATED",D="ON_MESSAGE_DELETED",w="ON_MESSAGE_DELETED_BY_REQ_ID",x="SET_CURRENT_CHANNEL",j="SET_CHANNEL_INVALID",L="MARK_AS_READ",B="ON_REACTION_UPDATED",U="SET_EMOJI_CONTAINER",k="SET_READ_STATUS",G={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG"},q={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},P=function(e){return e.isUserMessage&&e.isUserMessage()||"user"===e.messageType?e.ogMetaData?G.OG:G.USER:e.isAdminMessage&&e.isAdminMessage()?G.ADMIN:e.isFileMessage&&e.isFileMessage()||"file"===e.messageType?(0,d.i)(e.type)||(0,d.a)(e.type)?G.THUMBNAIL:G.FILE:""},F="undefined",z=q.SUCCEEDED,H=q.FAILED,K=q.PENDING,Y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!(t>10))try{var a=document.querySelector(".sendbird-conversation__scroll-container");a.scrollTop=a.scrollHeight}catch(n){setTimeout(function(){e(t+1)},500*t)}},W=function(e){e.forEach(function(e){try{e.remove()}catch(t){}})},V=function(e,t,a){var s=new Map;return t&&t.subscribe?(s.set(n.h,t.subscribe(n.h,function(t){var n=t.channel,s=t.message;Y(),n&&e===n.url&&a({type:v,payload:s})})),s.set(n.S,t.subscribe(n.S,function(t){var n=t.channel,s=t.message;n&&e===n.url&&a({type:y,payload:s})})),s.set(n.i,t.subscribe(n.i,function(t){var n=t.channel,s=t.message;Y(),n&&e===n.url&&a({type:v,payload:s})})),s.set(n.U,t.subscribe(n.U,function(t){var n=t.channel,s=t.message;t.fromSelector&&n&&e===n.url&&a({type:A,payload:{channel:n,message:s}})})),s.set(n.D,t.subscribe(n.D,function(t){var n=t.channel,s=t.messageId;n&&e===n.url&&a({type:D,payload:s})})),s):s},Q=function(e,t){return e.requestState===H?i.M.FAILED:e.requestState===K?i.M.PENDING:e.requestState===z?t?0===t.getReadReceipt(e)?i.M.READ:0===t.getDeliveryReceipt(e)?i.M.DELIVERED:i.M.SENT:i.M.SENT:null},J=function(){return"operator"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).myRole},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.isFrozen&&!J(e)},Z=function(){return"muted"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).myMutedState},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.emojiCategories?e.emojiCategories:[]},ee=function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).emojiCategories,t=void 0===e?[]:e,a=[],n=0;n<t.length;n+=1)for(var s=t[n].emojis,l=0;l<s.length;l+=1)a.push(s[l]);return a},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.emojiCategories?e.emojiCategories.filter(function(e){return e.id===t})[0].emojis:[]},ae=function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).emojiCategories,t=void 0===e?[]:e,a=new Map,n=0;n<t.length;n+=1)for(var s=t[n].emojis,l=0;l<s.length;l+=1){var r=s[l],o=r.key,i=r.url;a.set(o,i)}return a},ne=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Map,a=0;a<e.length;a+=1){var n=e[a],s=n.userId,l=n.nickname;t.set(s,l)}return t},se=function(e){return(0,o.default)(e.createdAt,"p")},le=function(e,t){return!!(e&&t&&e.sender&&t.sender&&e.createdAt&&t.createdAt&&e.sender.userId&&t.sender.userId)&&(e.sendingStatus===t.sendingStatus&&e.sender.userId===t.sender.userId&&se(e)===se(t))},re=function(e,t,a){return[le(e,t),le(t,a)]},oe=function(e){return function(t){return!!(t&&t.hasOwnProperty&&t.hasOwnProperty(e))}},ie=function(t,a){var n=a.sendingStatus,s=void 0===n?F:n;if(s===z||s===K){var l=t.map(function(e){return e.sendingStatus||(e.isAdminMessage&&e.isAdminMessage()?z:F)}).lastIndexOf(z);if(l+1<t.length){var r=(0,e.c)(t);return r.splice(l+1,0,a),r}}return[].concat((0,e.c)(t),[a])},ue=function(e){if("number"==typeof e)return e;if("string"==typeof e){var t=Number.parseFloat(e);if(!Number.isNaN(t))return t}return null},de={initialized:!1,loading:!1,allMessages:[],currentGroupChannel:{members:[]},hasMore:!1,lastMessageTimeStamp:0,hasMoreToBottom:!1,latestFetchedMessageTimeStamp:0,emojiContainer:{},readStatus:{},unreadCount:0,unreadSince:null,isInvalid:!1},ce=q.SUCCEEDED,fe=q.FAILED,me=q.PENDING;function ge(t,a){switch(a.type){case _:return de;case E:return(0,e.a)({},t,{hasMore:!1,allMessages:[]});case M:return(0,e.a)({},t,{loading:!0});case b:return(0,e.a)({},t,{allMessages:(0,e.c)(t.allMessages.filter(function(e){return e.sendingStatus!==ce}))});case N:var n=a.payload.messages||[],s=a.payload.currentGroupChannel,l=void 0===s?{}:s,r=(t.currentGroupChannel||{}).url;if(l.url!==r)return t;var i=t.allMessages.filter(function(e){return!n.find(function(t){var a=t.messageId;return(0,d.c)(a,e.messageId)})}),u=oe("hasMoreToBottom")(a.payload),c=oe("latestFetchedMessageTimeStamp")(a.payload);return(0,e.a)({},t,{loading:!1,initialized:!0,hasMore:a.payload.hasMore,lastMessageTimeStamp:a.payload.lastMessageTimeStamp},u&&{hasMoreToBottom:a.payload.hasMoreToBottom},{},c&&{latestFetchedMessageTimeStamp:a.payload.latestFetchedMessageTimeStamp},{allMessages:[].concat((0,e.c)(n),(0,e.c)(i))});case C:var f=a.payload.messages||[],m=a.payload.currentGroupChannel,g=void 0===m?{}:m,p=(t.currentGroupChannel||{}).url;if(g.url!==p)return t;var h=t.allMessages.filter(function(e){return!f.find(function(t){var a=t.messageId;return(0,d.c)(a,e.messageId)})});return(0,e.a)({},t,{loading:!1,initialized:!0,hasMore:a.payload.hasMore,lastMessageTimeStamp:a.payload.lastMessageTimeStamp,hasMoreToBottom:a.payload.hasMoreToBottom,latestFetchedMessageTimeStamp:a.payload.latestFetchedMessageTimeStamp,allMessages:[].concat((0,e.c)(h),(0,e.c)(f))});case R:return(0,e.a)({},t);case y:return(0,e.a)({},t,{allMessages:[].concat((0,e.c)(t.allMessages),[(0,e.a)({},a.payload)])});case v:var G=t.allMessages.map(function(e){return(0,d.c)(e.reqId,a.payload.reqId)?a.payload:e});return(0,e.c)(G).sort(function(e,t){return e.sendingStatus&&t.sendingStatus&&e.sendingStatus===ce&&(t.sendingStatus===me||t.sendingStatus===fe)?-1:1}),(0,e.a)({},t,{allMessages:G});case T:return a.payload.failed=!0,(0,e.a)({},t,{allMessages:t.allMessages.map(function(e){return(0,d.c)(e.reqId,a.payload.reqId)?a.payload:e})});case x:return(0,e.a)({},t,{currentGroupChannel:a.payload,isInvalid:!1});case j:return(0,e.a)({},t,{isInvalid:!0});case S:var q=a.payload.channel,P=t.currentGroupChannel,F=void 0===P?{}:P,z=t.unreadCount,H=F.url;return(0,d.c)(q.url,H)?(0,e.a)({},t,{unreadSince:z+1}):t;case O:var K=a.payload,Y=K.channel,W=K.message,V=K.scrollToEnd,Q=0,J=t.currentGroupChannel,X=void 0===J?{}:J,Z=t.unreadSince,$=X.url;return(0,d.c)(Y.url,$)&&t.allMessages.map(function(e){return e.messageId}).indexOf(W.messageId)<0?(Q=t.unreadCount+1,V&&(Q=0),W.isAdminMessage&&W.isAdminMessage()?(0,e.a)({},t,{allMessages:ie(t.allMessages,W)}):(0,e.a)({},t,{unreadCount:Q,unreadSince:1===Q?(0,o.default)(new Date,"p MMM dd"):Z,allMessages:ie(t.allMessages,W)})):t;case A:return(0,e.a)({},t,{allMessages:t.allMessages.map(function(e){return(0,d.c)(e.messageId,a.payload.message.messageId)?a.payload.message:e})});case I:return(0,e.a)({},t,{allMessages:t.allMessages.map(function(e){return(0,d.c)(e.reqId,a.payload.reqId)?a.payload:e})});case L:return(0,e.a)({},t,{unreadCount:0,unreadSince:null});case D:return(0,e.a)({},t,{allMessages:t.allMessages.filter(function(e){return!(0,d.c)(e.messageId,a.payload)})});case w:return(0,e.a)({},t,{allMessages:t.allMessages.filter(function(e){return!(0,d.c)(e.reqId,a.payload)})});case U:return(0,e.a)({},t,{emojiContainer:a.payload});case k:return(0,e.a)({},t,{readStatus:a.payload});case B:return(0,e.a)({},t,{allMessages:t.allMessages.map(function(e){return(0,d.c)(e.messageId,a.payload.messageId)?(e.applyReactionEvent&&"function"==typeof e.applyReactionEvent&&e.applyReactionEvent(a.payload),e):e})});default:return t}}function pe(a,n){var s=a.currentGroupChannel,l=a.sdkInit,r=a.hasMoreToBottom,o=n.messagesDispatcher,i=n.sdk,u=n.logger,c=n.scrollRef,f=s&&s.url;(0,t.useEffect)(function(){var t=(0,e.u)();if(f&&i&&i.ChannelHandler){var a=new i.ChannelHandler;u.info("Channel | useHandleChannelEvents: Setup event handler",t),a.onMessageReceived=function(e,t){if((0,d.c)(e.url,s.url)&&!r){var a=!1;try{var n=c.current;a=n.offsetHeight+n.scrollTop>=n.scrollHeight}catch(l){}if(u.info("Channel | useHandleChannelEvents: onMessageReceived",t),o({type:O,payload:{channel:e,message:t,scrollToEnd:a}}),a)try{setTimeout(function(){s.markAsRead(),Y()})}catch(l){u.warning("Channel | onMessageReceived | scroll to end failed")}}(0,d.c)(e.url,s.url)&&r&&o({type:S,payload:{channel:e}})},a.onMessageUpdated=function(e,t){u.info("Channel | useHandleChannelEvents: onMessageUpdated",t),o({type:A,payload:{channel:e,message:t}})},a.onMessageDeleted=function(e,t){u.info("Channel | useHandleChannelEvents: onMessageDeleted",t),o({type:D,payload:t})},a.onReactionUpdated=function(e,t){u.info("Channel | useHandleChannelEvents: onReactionUpdated",t),o({type:B,payload:t})},a.onChannelChanged=function(e){(0,d.c)(e.url,s.url)&&(u.info("Channel | useHandleChannelEvents: onChannelChanged",e),o({type:x,payload:e}))},a.onChannelFrozen=function(e){(0,d.c)(e.url,s.url)&&(u.info("Channel | useHandleChannelEvents: onChannelFrozen",e),o({type:x,payload:e}))},a.onChannelUnfrozen=function(e){(0,d.c)(e.url,s.url)&&(u.info("Channel | useHandleChannelEvents: onChannelUnFrozen",e),o({type:x,payload:e}))},a.onUserMuted=function(e){(0,d.c)(e.url,s.url)&&(u.info("Channel | useHandleChannelEvents: onUserMuted",e),o({type:x,payload:e}))},a.onUserUnmuted=function(e){(0,d.c)(e.url,s.url)&&(u.info("Channel | useHandleChannelEvents: onUserUnmuted",e),o({type:x,payload:e}))},a.onUserBanned=function(e){(0,d.c)(e.url,s.url)&&(u.info("Channel | useHandleChannelEvents: onUserBanned",e),o({type:x,payload:e}))},a.onOperatorUpdated=function(e){(0,d.c)(e.url,s.url)&&(u.info("Channel | useHandleChannelEvents: onOperatorUpdated",e),o({type:x,payload:e}))},i.addChannelHandler(t,a)}return function(){i&&i.removeChannelHandler&&(u.info("Channel | useHandleChannelEvents: Removing message reciver handler",t),i.removeChannelHandler(t))}},[f,l])}function he(e,a){var n=e.channelUrl,s=e.sdkInit,l=a.messagesDispatcher,r=a.sdk,o=a.logger;(0,t.useEffect)(function(){n&&s&&r&&r.GroupChannel&&(o.info("Channel | useSetChannel fetching channel",n),r.GroupChannel.getChannel(n).then(function(e){o.info("Channel | useSetChannel fetched channel",e),l({type:x,payload:e}),o.info("Channel: Mark as read",e),e.markAsRead()}).catch(function(e){o.warning("Channel | useSetChannel fetch channel failed",{channelUrl:n,e:e}),l({type:j})}),r.getAllEmoji(function(e,t){t?o.error("Channel: Getting emojis failed",t):(o.info("Channel: Getting emojis success",e),l({type:U,payload:e}))}))},[n,s])}var Ee=30,_e=10,be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[e.length-1];return t&&t.createdAt||null};function Me(e,a){var n=e.currentGroupChannel,s=e.userFilledMessageListQuery,l=e.intialTimeStamp,r=a.sdk,o=a.logger,i=a.messagesDispatcher,u=n&&n.url;(0,t.useEffect)(function(){if(o.info("Channel useInitialMessagesFetch: Setup started",n),i({type:E}),r&&r.MessageListParams&&n&&n.getMessagesByMessageId){var e=new r.MessageListParams;e.prevResultSize=Ee,e.isInclusive=!0,e.includeReplies=!1,e.includeReaction=!0,s&&Object.keys(s).forEach(function(t){e[t]=s[t]}),o.info("Channel: Fetching messages",{currentGroupChannel:n,userFilledMessageListQuery:s}),i({type:M}),l?(e.nextResultSize=_e,n.getMessagesByTimestamp(l,e).then(function(e){var t=e&&e.length>0,a=t?e[0].createdAt:null,s=be(e),l=new r.MessageListParams;l.nextResultSize=_e,n.getMessagesByTimestamp(s||(new Date).getTime(),l).then(function(l){i({type:N,payload:{messages:e,hasMore:t,lastMessageTimeStamp:a,currentGroupChannel:n,latestFetchedMessageTimeStamp:s,hasMoreToBottom:l&&l.length>0}})})}).catch(function(e){o.error("Channel: Fetching messages failed",e),i({type:N,payload:{messages:[],hasMore:!1,lastMessageTimeStamp:0,currentGroupChannel:n}})}).finally(function(){l||setTimeout(function(){return Y()}),n.markAsRead()})):n.getMessagesByTimestamp((new Date).getTime(),e).then(function(e){var t=e&&e.length>0,a=t?e[0].createdAt:null,s=be(e);i({type:N,payload:{messages:e,hasMore:t,lastMessageTimeStamp:a,currentGroupChannel:n,latestFetchedMessageTimeStamp:s,hasMoreToBottom:!1}})}).catch(function(e){o.error("Channel: Fetching messages failed",e),i({type:N,payload:{messages:[],hasMore:!1,lastMessageTimeStamp:0,currentGroupChannel:n}})}).finally(function(){l||setTimeout(function(){return Y()}),n.markAsRead()})}},[u,s,l])}function Ne(e,a){var n=e.isOnline,s=a.logger,l=a.sdk,r=a.currentGroupChannel,o=a.messagesDispatcher,i=a.userFilledMessageListQuery;(0,t.useEffect)(function(){var e=!n;return function(){if(e){s.info("Refreshing conversation state");var t=l.appInfo,a=(void 0===t?{}:t).isUsingReaction||!1,n=new l.MessageListParams;n.prevResultSize=30,n.includeReplies=!1,n.includeReaction=a,i&&Object.keys(i).forEach(function(e){n[e]=i[e]}),s.info("Channel: Fetching messages",{currentGroupChannel:r,userFilledMessageListQuery:i}),o({type:M}),l.GroupChannel.getChannel(r.url).then(function(e){var t=(new Date).getTime();e.getMessagesByTimestamp(t,n).then(function(e){o({type:b});var t=e&&e.length>0,a=t?e[0].createdAt:null;o({type:N,payload:{messages:e,hasMore:t,lastMessageTimeStamp:a,currentGroupChannel:r}}),setTimeout(function(){return Y()})}).catch(function(e){s.error("Channel: Fetching messages failed",e)}).finally(function(){r.markAsRead()})})}}},[n])}function Ce(e,a){var n=e.currentGroupChannel,s=e.lastMessageTimeStamp,l=e.userFilledMessageListQuery,r=a.hasMore,o=a.logger,i=a.messagesDispatcher,u=a.sdk;return(0,t.useCallback)(function(e){if(r){var t=new u.MessageListParams;t.prevResultSize=30,t.includeReplies=!1,t.includeReaction=!0,l&&Object.keys(l).forEach(function(e){t[e]=l[e]}),o.info("Channel: Fetching messages",{currentGroupChannel:n,userFilledMessageListQuery:l}),n.getMessagesByTimestamp(s||(new Date).getTime(),t).then(function(t){var a=t&&t.length>0,s=a?t[0].createdAt:null;i({type:N,payload:{messages:t,hasMore:a,lastMessageTimeStamp:s,currentGroupChannel:n}}),e([t,null])}).catch(function(t){o.error("Channel: Fetching messages failed",t),i({type:N,payload:{messages:[],hasMore:!1,lastMessageTimeStamp:0,currentGroupChannel:n}}),e([null,t])}).finally(function(){n.markAsRead()})}},[n,s])}var Re=30;function ye(e,a){var n=e.currentGroupChannel,s=e.latestFetchedMessageTimeStamp,l=e.userFilledMessageListQuery,r=e.hasMoreToBottom,o=a.logger,i=a.messagesDispatcher,u=a.sdk;return(0,t.useCallback)(function(e){if(r){var t=new u.MessageListParams;t.nextResultSize=Re,t.includeReplies=!1,t.includeReaction=!0,l&&Object.keys(l).forEach(function(e){t[e]=l[e]}),o.info("Channel: Fetching later messages",{currentGroupChannel:n,userFilledMessageListQuery:l}),n.getMessagesByTimestamp(s||(new Date).getTime(),t).then(function(a){var s=a&&a.length||0,l=s>0&&t.nextResultSize===s,r=l?a[a.length-1].createdAt:null;i({type:C,payload:{messages:a,hasMoreToBottom:l,latestFetchedMessageTimeStamp:r,currentGroupChannel:n}}),e([a,null])}).catch(function(t){o.error("Channel: Fetching later messages failed",t),i({type:R,payload:{messages:[],hasMoreToBottom:!1,latestFetchedMessageTimeStamp:0,currentGroupChannel:n}}),e([null,t])}).finally(function(){n.markAsRead()})}},[n,s,r])}function ve(e,a){var n=e.currentGroupChannel,s=e.messagesDispatcher,l=a.logger;return(0,t.useCallback)(function(e,t){l.info("Channel | useDeleteMessageCallback: Deleting message",e);var a=e.requestState;if(l.info("Channel | useDeleteMessageCallback: Deleting message requestState:",a),"failed"===a||"pending"===a)return l.info("Channel | useDeleteMessageCallback: Deleted message from local:",e),s({type:w,payload:e.reqId}),void(t&&t());n.deleteMessage(e,function(n){l.info("Channel | useDeleteMessageCallback: Deleting message from remote:",a),t&&t(n),n?l.warning("Channel | useDeleteMessageCallback: Deleting message failed!",n):(l.info("Channel | useDeleteMessageCallback: Deleting message success!",e),s({type:D,payload:e.messageId}))})},[n,s])}function Te(e,a){var s=e.currentGroupChannel,l=e.messagesDispatcher,r=e.onBeforeUpdateUserMessage,o=a.logger,i=a.pubSub,u=a.sdk;return(0,t.useCallback)(function(e,t,a){r&&"function"==typeof r&&o.info("Channel: creating params using onBeforeUpdateUserMessage",r);var d=r?r(t):function(e){var t=new u.UserMessageParams;return t.message=e,t}(t);s.updateUserMessage(e,d,function(e,t){o.info("Channel: Updating message!",d);var r=e,c=t;u.getErrorFirstCallback()&&(r=t,c=e),a&&a(c,r),c?o.warning("Channel: Updating message failed!",c):(o.info("Channel: Updating message success!",r),l({type:A,payload:{channel:s,message:r}}),i.publish(n.U,{message:r,channel:s}))})},[s.url,l,r])}function Ie(e,a){var n=e.currentGroupChannel,s=e.messagesDispatcher,l=a.logger;return(0,t.useCallback)(function(e){l.info("Channel: Resending message has started",e);var t=e.messageType,a=e.file;if(e&&"function"==typeof e.isResendable&&e.isResendable()){if(e.requestState="pending",s({type:I,payload:e}),"user"===t)return n.resendUserMessage(e).then(function(e){l.info("Channel: Resending message success!",{message:e}),s({type:v,payload:e})}).catch(function(t){l.warning("Channel: Resending message failed!",{e:t}),e.requestState="failed",s({type:T,payload:e})}),e.requestState="pending",void s({type:I,payload:e});"file"===t&&(n.resendFileMessage(e,a).then(function(e){l.info("Channel: Resending file message success!",{message:e}),s({type:v,payload:e})}).catch(function(t){l.warning("Channel: Resending file message failed!",{e:t}),e.requestState="failed",s({type:T,payload:e})}),e.requestState="pending",s({type:I,payload:e}))}else console.error("Message is not resendable"),l.warning("Message is not resendable",e)},[n,s])}function Oe(e,a){var s=e.currentGroupChannel,l=e.onBeforeSendUserMessage,r=a.sdk,o=a.logger,i=a.pubSub,u=a.messagesDispatcher,d=(0,t.useRef)(null),c=(0,t.useCallback)(function(){var e=d.current.value;l&&"function"==typeof l&&o.info("Channel: creating params using onBeforeSendUserMessage",l);var t=l?l(e):function(e){var t="string"==typeof e?e.trim():e,a=new r.UserMessageParams;return a.message=t,a}(e);o.info("Channel: Sending message has started",t);var a=s.sendUserMessage(t,function(e,t){var a=e,n=t;if(r.getErrorFirstCallback()&&(a=t,n=e),n)return o.warning("Channel: Sending message failed!",{message:a}),void u({type:T,payload:a});o.info("Channel: Sending message success!",a),u({type:v,payload:a})});i.publish(n.S,{message:a,channel:s}),setTimeout(function(){return Y()})},[s,l]);return[d,c]}function Se(a,s){var l=a.currentGroupChannel,r=a.onBeforeSendFileMessage,o=a.imageCompression,i=void 0===o?{}:o,u=s.sdk,d=s.logger,c=s.pubSub,f=s.messagesDispatcher;return[(0,t.useCallback)(function(t){var a=i.compressionRate,s=i.resizingWidth,o=i.resizingHeight,m=r&&"function"==typeof r,g="image/jpg"===t.type||"image/png"===t.type||"image/jpeg"===t.type,p=a>0&&a<1,h=ue(s)||ue(o),E=function(e){var t=new u.FileMessageParams;return t.file=e,t};if(g&&(p||h))try{var _=document.createElement("img");_.src=URL.createObjectURL(t),_.onload=function(){URL.revokeObjectURL(_.src);var i=document.createElement("canvas"),g=_.naturalWidth||_.width,p=_.naturalHeight||_.height,b=ue(s)||g,M=ue(o)||p;"image/png"!==t.type||h||(b*=a,M*=a),i.width=b,i.height=M;var N=i.getContext("2d");N.drawImage(_,0,0,b,M),N.canvas.toBlob(function(a){var s=new File([a],t.name,{type:t.type});m&&d.info("Channel: Creating params using onBeforeSendFileMessage",r);var o=m?r(s):E(s);d.info("Channel: Uploading file message start!",o);var i=l.sendFileMessage(o,function(t,a){var n=u.getErrorFirstCallback()?[a,t]:[t,a],l=(0,e.b)(n,2),r=l[0];if(l[1])return d.error("Channel: Sending file message failed!",r),r.localUrl=URL.createObjectURL(s),r.file=s,void f({type:T,payload:r});d.info("Channel: Sending file message success!",r),f({type:v,payload:r})});c.publish(n.S,{message:(0,e.a)({},i,{url:URL.createObjectURL(s),requestState:"pending"}),channel:l}),setTimeout(function(){return Y()},1e3)},t.type,a)}}catch(N){d.error("Channel: Sending file message failed!")}else{m&&d.info("Channel: creating params using onBeforeSendFileMessage",r);var b=r?r(t):E(t);d.info("Channel: Uploading file message start!",b);var M=l.sendFileMessage(b,function(a,n){var s=u.getErrorFirstCallback()?[n,a]:[a,n],l=(0,e.b)(s,2),r=l[0];if(l[1])return d.error("Channel: Sending file message failed!",r),r.localUrl=URL.createObjectURL(t),r.file=t,void f({type:T,payload:r});d.info("Channel: Sending message success!",r),f({type:v,payload:r})});c.publish(n.S,{message:(0,e.a)({},M,{url:URL.createObjectURL(t),requestState:"pending"}),channel:l}),setTimeout(function(){return Y()},1e3)}},[l,r,i])]}function Ae(a,n){var s=a.allMessages,l=a.currentGroupChannel,r=n.messagesDispatcher,o=n.sdk,i=n.logger;(0,t.useEffect)(function(){if(!o.ChannelHandler||!l.url)return function(){};var t=function(){var t=s.reduce(function(t,a){return 0!==a.messageId?(0,e.a)({},t,(0,e.k)({},a.messageId,Q(a,l))):t},{});r({type:k,payload:t})};s.length>0&&t();var a=l.url,n=new o.ChannelHandler,u=function(e){a===e.url&&t()};n.onDeliveryReceiptUpdated=u,n.onReadReceiptUpdated=u;var d=(0,e.u)();return i.info("Channel | useSetReadStatus: Removing message reciver handler",d),o.addChannelHandler(d,n),function(){o&&o.removeChannelHandler&&(i.info("Channel | useSetReadStatus: Removing message reciver handler",d),o.removeChannelHandler(d))}},[s,l])}var De=t.default.forwardRef(function(e,a){var n=e.children,s=e.width,l=e.height,r=e.onClick,o=e.selected,i=e.className,u=Array.isArray(i)?i:[i];return t.default.createElement("div",{ref:a,className:"sendbird-reaction-button".concat(o?"--selected":""," ").concat(u.join(" ")),style:{width:"".concat("string"==typeof s?s.slice(0,-2)-2:s-2,"px"),height:"".concat("string"==typeof l?l.slice(0,-2)-2:l-2,"px")},onClick:function(e){return r(e)},role:"button",onKeyDown:function(e){return r(e)},tabIndex:0},t.default.createElement("div",{className:"sendbird-reaction-button__inner"},n))});function we(e,a){var s=e.emojiContainer,r=e.toggleReaction,o=a.useReaction,i=a.logger,u=a.userId,d=a.emojiAllList;return(0,t.useMemo)(function(){return function(e){var a=e.parentRef,s=e.parentContainRef,c=e.message,f=e.closeDropdown,m=e.spaceFromTrigger,g=void 0===m?{}:m;return o&&(a||s||c||f)?t.default.createElement(n.E,{parentRef:a,parentContainRef:s,closeDropdown:f,spaceFromTrigger:g},d.map(function(e){var a=c.reactions.filter(function(t){return t.key===e.key})[0],n=!!a&&!(a.userIds.indexOf(u)<0);return t.default.createElement(De,{key:e.key,width:"36px",height:"36px",selected:n,onClick:function(){f(),r(c,e.key,n)}},t.default.createElement(l.g,{url:e.url,width:"28px",height:"28px",defaultComponent:t.default.createElement(l.I,{width:"28px",height:"28px",type:l.c.QUESTION})}))})):(i.warning("Channel: Invalid Params in memoizedEmojiListItems"),null)}},[s,r])}function xe(e,a){var n=e.currentGroupChannel,s=a.logger;return(0,t.useCallback)(function(e,t,a){a?n.deleteReaction(e,t).then(function(e){s.info("Delete reaction success",e)}).catch(function(e){s.warning("Delete reaction failed",e)}):n.addReaction(e,t).then(function(e){s.info("Add reaction success",e)}).catch(function(e){s.warning("Add reaction failed",e)})},[n])}function je(a){var n=a.message,s=a.status,o=a.className,u=Array.isArray(o)?o:[o],d={PENDING:t.default.createElement(l.h,{className:"sendbird-message-status__icon",width:"16px",height:"16px"},t.default.createElement(l.I,{type:l.c.SPINNER,width:"16px",height:"16px",fillColor:l.d.PRIMARY})),SENT:t.default.createElement(l.I,{className:"sendbird-message-status__icon",width:"16px",height:"16px",type:l.c.DONE,fillColor:l.d.SENT}),DELIVERED:t.default.createElement(l.I,{className:"sendbird-message-status__icon",width:"16px",height:"16px",type:l.c.DONE_ALL,fillColor:l.d.SENT}),READ:t.default.createElement(l.I,{className:"sendbird-message-status__icon",width:"16px",height:"16px",type:l.c.DONE_ALL,fillColor:l.d.READ}),FAILED:t.default.createElement(l.I,{className:"sendbird-message-status__icon",width:"16px",height:"16px",type:l.c.ERROR,fillColor:l.d.ERROR})};return t.default.createElement("div",{className:[].concat((0,e.c)(u),["sendbird-message-status"]).join(" ")},d[s],t.default.createElement("br",null),function(){switch(s){case i.M.FAILED:case i.M.PENDING:return null;case i.M.SENT:case i.M.DELIVERED:case i.M.READ:return t.default.createElement(l.L,{className:"sendbird-message-status__text",type:l.a.CAPTION_3,color:l.b.ONBACKGROUND_2},(0,r.a)(n));default:return null}}())}De.propTypes={children:a.default.element.isRequired,onClick:a.default.func,selected:a.default.bool,width:a.default.oneOfType([a.default.number,a.default.string]),height:a.default.oneOfType([a.default.number,a.default.string]),className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)])},De.defaultProps={selected:!1,width:"36px",height:"36px",onClick:function(){},className:""},je.propTypes={message:a.default.objectOf(a.default.oneOfType([a.default.string,a.default.number,a.default.bool,a.default.array,a.default.object])),status:a.default.string,className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)])},je.defaultProps={message:null,status:"",className:""};var Le=t.default.forwardRef(function(e,a){var n=e.className,s=e.children,r=e.count,o=e.selected,i=e.isAdd,u=e.onClick,d=Array.isArray(n)?n:[n];return o&&!i?d.unshift("sendbird-reaction-badge--selected"):i?d.push("sendbird-reaction-badge--is-add"):d.unshift("sendbird-reaction-badge"),t.default.createElement("div",{ref:a,tabIndex:0,role:"button",className:d.join(" "),onClick:u,onKeyDown:u},t.default.createElement("div",{className:"sendbird-reaction-badge__inner"},t.default.createElement("div",{className:"sendbird-reaction-badge__inner__icon"},s),t.default.createElement(l.L,{className:s&&r?"sendbird-reaction-badge__inner__count":"",type:l.a.CAPTION_3,color:l.b.ONBACKGROUND_1},r)))});Le.propTypes={children:a.default.element.isRequired,count:a.default.oneOfType([a.default.number,a.default.string]),selected:a.default.bool,className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),isAdd:a.default.bool,onClick:a.default.func},Le.defaultProps={className:"",count:"",selected:!1,isAdd:!1,onClick:function(){}};var Be="sendbird-tooltip";function Ue(e){var a=e.className,n=e.children,s=Array.isArray(a)?a:[a];return s.unshift(Be),t.default.createElement("div",{className:s.join(" ")},t.default.createElement(l.L,{className:"".concat(Be,"__text")},n))}Ue.propTypes={className:a.default.string,children:a.default.oneOfType([a.default.element,a.default.arrayOf(a.default.string),a.default.string])},Ue.defaultProps={className:"",children:""};var ke="sendbird-tooltip-wrapper",Ge=8;function qe(a){var n=a.className,s=a.children,l=a.hoverTooltip,r=Array.isArray(n)?[ke].concat((0,e.c)(n)):[ke,n],o=(0,t.useState)(!1),i=(0,e.b)(o,2),u=i[0],d=i[1],c=(0,t.useRef)(null);return t.default.createElement("div",{className:r.join(" "),onMouseOver:function(){d(!0)},onFocus:function(){d(!0)},onMouseOut:function(){d(!1)},onBlur:function(){d(!1)}},t.default.createElement("div",{className:"".concat(ke,"__children"),ref:c},s),u&&t.default.createElement("div",{className:"".concat(ke,"__hover-tooltip"),style:{bottom:"calc(100% + ".concat(Ge,"px)")}},t.default.createElement("div",{className:"".concat(ke,"__hover-tooltip__inner")},t.default.createElement("div",{className:"".concat(ke,"__hover-tooltip__inner__tooltip-container"),style:{left:c.current&&"calc(".concat(c.current.offsetWidth/2,"px - 50%)")}},l))))}function Pe(a){var s=a.className,r=a.userId,o=a.message,i=a.emojiAllMap,u=a.membersMap,d=a.toggleReaction,c=a.memoizedEmojiListItems,f=Array.isArray(s)?s:[s];f.unshift("sendbird-emoji-reactions");var m=c,g=(0,t.useRef)(null),p=o.reactions,h=void 0===p?[]:p,E=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{className:f.join(" ")},t.default.createElement("div",{className:"sendbird-emoji-reactions--inner"},h&&h.map(function(e){var a=e.userIds,n=void 0===a?[]:a,s=i.get(e.key)||"",c=n.length,f=!(n.indexOf(r)<0),m=n.filter(function(e){return e!==r}).map(function(e){return u.get(e)||E.TOOLTIP__UNKOWN_USER}),g=m.length>0?E.TOOLTIP__AND_YOU:E.TOOLTIP__YOU;return t.default.createElement(qe,{className:"sendbird-emoji-reactions__emoji-reaction",key:e.key,hoverTooltip:n.length>0&&t.default.createElement(Ue,null,t.default.createElement(t.default.Fragment,null,"".concat(m.join(", ")).concat(f?g:"")))},t.default.createElement(Le,{count:c,selected:f,onClick:function(){return d(o,e.key,f)}},t.default.createElement(l.g,{circle:!0,url:s,width:"20px",height:"20px",defaultComponent:t.default.createElement(l.I,{width:"20px",height:"20px",type:l.c.QUESTION})})))}),h.length<i.size&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(Le,{isAdd:!0,onClick:e,className:"sendbird-emoji-reactions__emoji-reaction-add",ref:g},t.default.createElement(l.I,{width:"20px",height:"20px",fillColor:l.d.ON_BACKGROUND_3,type:l.c.EMOJI_MORE}))},menuItems:function(e){return t.default.createElement(m,{message:o,parentRef:g,parentContainRef:g,closeDropdown:e,spaceFromTrigger:{y:4}})}})))}function Fe(a){var n=a.message,s=a.updatedAt,r=a.className,o=a.incoming,i=(0,t.useContext)(e.d).stringSet,u=l.a.BODY_1,d=o?l.b.ONBACKGROUND_2:l.b.ONCONTENT_2;return(0,t.useMemo)(function(){return function(){var a=n.split(/\r/).map(function(e){return""!==e?e:t.default.createElement("br",null)});return s>0&&a.push(t.default.createElement(l.L,{key:(0,e.u)(),className:r,type:u,color:d}," ".concat(i.MESSAGE_EDITED," "))),a}},[n,s,r])}qe.propTypes={className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),children:a.default.element.isRequired,hoverTooltip:a.default.oneOfType([a.default.element,a.default.func]).isRequired},qe.defaultProps={className:""},Pe.propTypes={userId:a.default.string,className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),message:a.default.shape({reactions:a.default.arrayOf(a.default.shape({}))}).isRequired,emojiAllMap:a.default.instanceOf(Map).isRequired,membersMap:a.default.instanceOf(Map),toggleReaction:a.default.func,memoizedEmojiListItems:a.default.func},Pe.defaultProps={className:"",membersMap:new Map,userId:"",toggleReaction:function(){},memoizedEmojiListItems:function(){return""}};var ze="mouseenter",He="mouseleave",Ke=function(e){var a=e.ref,n=e.setHover,s=function(){a.current&&n(!0)},l=function(){a.current&&n(!1)};(0,t.useEffect)(function(){var e=a.current;return e.addEventListener(ze,s),e.addEventListener(He,l),function(){e.removeEventListener(ze,s),e.removeEventListener(He,l)}})},Ye=function(){},We="1px",Ve="8px";function Qe(a){var n=a.isByMe,s=a.userId,l=a.message,r=a.className,o=a.resendMessage,i=a.disabled,u=a.showEdit,d=a.showRemove,c=a.status,f=a.useReaction,m=a.emojiAllMap,g=a.membersMap,p=a.toggleReaction,h=a.memoizedEmojiListItems,E=a.chainTop,_=a.chainBottom;if(!l)return null;var b=Array.isArray(r)?r:[r];b.push("sendbird-message".concat(n?"--outgoing":"--incoming"));var M=Fe({message:l.message,updatedAt:l.updatedAt,className:"sendbird-user-message-word"}),N=Fe({message:l.message,updatedAt:l.updatedAt,className:"sendbird-user-message-word",incoming:!0});return t.default.createElement("div",{className:[].concat((0,e.c)(b),["sendbird-message"]).join(" ")},n?t.default.createElement(Je,{userId:s,message:l,resendMessage:o,disabled:i,showEdit:u,showRemove:d,status:c,useReaction:f,emojiAllMap:m,membersMap:g,toggleReaction:p,memoizedMessageText:M,memoizedEmojiListItems:h,chainTop:E,chainBottom:_}):t.default.createElement(Xe,{userId:s,message:l,useReaction:f,emojiAllMap:m,membersMap:g,toggleReaction:p,memoizedMessageText:N,memoizedEmojiListItems:h,chainTop:E,chainBottom:_}))}function Je(a){var s=a.userId,r=a.message,o=a.showEdit,i=a.disabled,u=a.showRemove,d=a.status,c=a.resendMessage,m=a.useReaction,g=a.emojiAllMap,p=a.membersMap,h=a.toggleReaction,E=a.memoizedMessageText,_=a.memoizedEmojiListItems,b=a.chainTop,M=a.chainBottom,N=E,C=_,R=(0,t.useRef)(null),y=(0,t.useRef)(null),v=(0,t.useRef)(null),T=(0,t.useRef)(null),I=(0,f.d)(d),O=(0,t.useState)(!1),S=(0,e.b)(O,2),A=S[0],D=S[1],w=(0,t.useState)(!1),x=(0,e.b)(w,2),j=x[0],L=x[1],B=(0,t.useState)(!1),U=(0,e.b)(B,2),k=U[0],G=U[1],q=function(){L(!0)},P=function(){L(!1)};return Ke({ref:R,setHover:D}),t.default.createElement("div",{className:"sendbird-user-message--outgoing",ref:R,style:{paddingTop:b?We:Ve,paddingBottom:M?We:Ve}},t.default.createElement("div",{className:"sendbird-user-message--inner"},t.default.createElement("div",{className:"sendbird-user-message__left-padding"},t.default.createElement("div",{className:"sendbird-user-message__more",ref:T},t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{className:"sendbird-user-message__more__menu",ref:v,width:"32px",height:"32px",onClick:function(){e(),q(),G(!0)},onBlur:function(){P()}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){var a=function(){e(),G(!1)};return t.default.createElement(n.b,{parentRef:v,parentContainRef:T,closeDropdown:a,openLeft:!0},I&&t.default.createElement(n.c,{className:"sendbird-user-message--copy",onClick:function(){(0,f.c)(r.message),a()}},"Copy"),I&&t.default.createElement(n.c,{onClick:function(){i||(o(!0),a())}},"Edit"),r&&r.isResendable&&r.isResendable()&&t.default.createElement(n.c,{onClick:function(){c(r),a()}},"Resend"),t.default.createElement(n.c,{onClick:function(){i||(u(!0),a())}},"Delete"))}}),I&&m&&g.size>0&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{className:"sendbird-user-message__more__add-reaction",ref:y,width:"32px",height:"32px",onClick:function(){e(),q(),G(!0)},onBlur:function(){P()}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.EMOJI_MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){return t.default.createElement(C,{message:r,parentRef:y,parentContainRef:T,closeDropdown:function(){e(),G(!1)},spaceFromTrigger:{y:2}})}})),!M&&!(A||j||k)&&t.default.createElement("div",{className:"sendbird-user-message__status"},t.default.createElement(je,{message:r,status:d}))),t.default.createElement("div",{className:"sendbird-user-message__text-balloon"},t.default.createElement("div",{className:"sendbird-user-message__text-balloon__inner"},t.default.createElement("div",{className:"sendbird-user-message__text-balloon__inner__text-place"},t.default.createElement(l.L,{className:"sendbird-user-message__text-balloon__inner__text-place__text",type:l.a.BODY_1,color:l.b.ONCONTENT_1},t.default.createElement(N,null))),m&&r.reactions&&r.reactions.length>0&&t.default.createElement(Pe,{className:"sendbird-user-message__text-balloon__inner__emoji-reactions",userId:s,message:r,emojiAllMap:g,membersMap:p,toggleReaction:h,memoizedEmojiListItems:_})))))}function Xe(a){var s=a.userId,r=a.message,o=a.useReaction,i=a.emojiAllMap,u=a.membersMap,d=a.toggleReaction,c=a.memoizedMessageText,m=a.memoizedEmojiListItems,g=a.chainTop,p=a.chainBottom,h=c,E=m,_=(0,t.useRef)(null),b=(0,t.useRef)(null),M=(0,t.useRef)(null),N=(0,t.useRef)(null),C=(0,t.useRef)(null),R=t.default.useContext(n.f),y=R.disableUserProfile,v=R.renderUserProfile,T=(0,t.useState)(!1),I=(0,e.b)(T,2),O=I[0],S=I[1],A=(0,t.useState)(!1),D=(0,e.b)(A,2),w=D[0],x=D[1],j=(0,t.useState)(!1),L=(0,e.b)(j,2),B=L[0],U=L[1],k=o&&i&&i.size>0,G=o&&r.reactions&&r.reactions.length>0,q=function(){x(!0)},P=function(){x(!1)};return Ke({ref:_,setHover:S}),t.default.createElement("div",{ref:_,className:"sendbird-user-message--incoming",style:{paddingTop:g?We:Ve,paddingBottom:p?We:Ve}},t.default.createElement("div",{className:"sendbird-user-message--inner"},t.default.createElement("div",{className:"sendbird-user-message--body"},!p&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(l.A,{ref:C,onClick:function(){y||e()},className:"sendbird-user-message__avatar",src:(0,f.g)(r),width:"28px",height:"28px"})},menuItems:function(e){return t.default.createElement(n.b,{parentRef:C,parentContainRef:C,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},v?v({user:r.sender,close:e}):t.default.createElement(n.g,{user:r.sender,onSuccess:e}))}}),!g&&t.default.createElement(l.L,{className:"sendbird-user-message__sender-name",type:l.a.CAPTION_2,color:l.b.ONBACKGROUND_2},(0,f.a)(r)),t.default.createElement("div",{className:"sendbird-user-message__text-balloon"},t.default.createElement("div",{className:"sendbird-user-message__text-balloon__inner"},t.default.createElement("div",{className:"sendbird-user-message__text-balloon__inner__text-place"},t.default.createElement(l.L,{className:"sendbird-user-message__text-balloon__inner__text-place__text",type:l.a.BODY_1,color:l.b.ONBACKGROUND_1},t.default.createElement(h,null))),G&&t.default.createElement(Pe,{className:"sendbird-user-message__text-balloon__inner__emoji-reactions",userId:s,message:r,emojiAllMap:i,membersMap:u,toggleReaction:d,memoizedEmojiListItems:m})))),t.default.createElement("div",{className:"sendbird-user-message__right-padding"},t.default.createElement("div",{className:"sendbird-user-message__more",ref:N,style:{top:g?"6px":"22px"}},k&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{ref:b,width:"32px",height:"32px",onClick:function(){e(),q(),U(!0)},onBlur:function(){P()}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.EMOJI_MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){return t.default.createElement(E,{parentRef:b,parentContainRef:N,closeDropdown:function(){e(),U(!1)},message:r,spaceFromTrigger:{y:2}})}}),t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{ref:M,width:"32px",height:"32px",onClick:function(){e(),q(),U(!0)},onBlur:function(){P()}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){var a=function(){e(),U(!1)};return t.default.createElement(n.b,{parentRef:M,parentContainRef:N,closeDropdown:a},t.default.createElement(n.c,{className:"sendbird-user-message--copy",onClick:function(){(0,f.c)(r.message),a()}},"Copy"))}})),!p&&!(O||w||B)&&t.default.createElement(l.L,{className:"sendbird-user-message__sent-at",type:l.a.CAPTION_3,color:l.b.ONBACKGROUND_2},(0,f.b)(r)))))}function Ze(a){var n=a.className,s=a.message;if(!s.messageType||"admin"!==s.messageType)return null;var r=Array.isArray(n)?n:[n];return t.default.createElement("div",{className:[].concat((0,e.c)(r),["sendbird-admin-message"]).join(" ")},t.default.createElement(l.L,{className:"sendbird-admin-message__text",type:l.a.CAPTION_2,color:l.b.ONBACKGROUND_2},s.message))}Qe.propTypes={isByMe:a.default.bool,disabled:a.default.bool,userId:a.default.string,message:a.default.objectOf(a.default.oneOfType([a.default.string,a.default.number,a.default.bool,a.default.array,a.default.object])).isRequired,className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),showEdit:a.default.func,status:a.default.string,showRemove:a.default.func,resendMessage:a.default.func,useReaction:a.default.bool.isRequired,emojiAllMap:a.default.instanceOf(Map),membersMap:a.default.instanceOf(Map),toggleReaction:a.default.func,memoizedEmojiListItems:a.default.func,chainTop:a.default.bool,chainBottom:a.default.bool},Qe.defaultProps={isByMe:!1,disabled:!1,userId:"",resendMessage:Ye,className:"",showEdit:Ye,showRemove:Ye,status:"",emojiAllMap:new Map,membersMap:new Map,toggleReaction:Ye,memoizedEmojiListItems:function(){return""},chainTop:!1,chainBottom:!1},Xe.propTypes={userId:a.default.string.isRequired,message:a.default.objectOf(a.default.oneOfType([a.default.string,a.default.number,a.default.bool,a.default.array,a.default.object])),useReaction:a.default.bool.isRequired,emojiAllMap:a.default.instanceOf(Map),membersMap:a.default.instanceOf(Map),toggleReaction:a.default.func,memoizedMessageText:a.default.func.isRequired,memoizedEmojiListItems:a.default.func,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired},Xe.defaultProps={message:{},emojiAllMap:new Map,membersMap:new Map,toggleReaction:Ye,memoizedEmojiListItems:function(){return""}},Je.propTypes={userId:a.default.string.isRequired,message:a.default.objectOf(a.default.oneOfType([a.default.string,a.default.number,a.default.bool,a.default.array,a.default.object])),showEdit:a.default.func,showRemove:a.default.func,disabled:a.default.bool,resendMessage:a.default.func,status:a.default.string.isRequired,useReaction:a.default.bool.isRequired,emojiAllMap:a.default.instanceOf(Map),membersMap:a.default.instanceOf(Map),toggleReaction:a.default.func,memoizedMessageText:a.default.func.isRequired,memoizedEmojiListItems:a.default.func,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired},Je.defaultProps={message:{},resendMessage:Ye,showEdit:Ye,showRemove:Ye,disabled:!1,emojiAllMap:new Map,membersMap:new Map,toggleReaction:Ye,memoizedEmojiListItems:function(){return""}},Ze.propTypes={message:a.default.objectOf(a.default.oneOfType([a.default.string,a.default.number,a.default.bool,a.default.array,a.default.object])),className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)])},Ze.defaultProps={message:{},className:""};var $e=function(e){return(0,o.default)(e.createdAt,"p")},et=function(e){return e===i.M.SENT||e===i.M.DELIVERED||e===i.M.READ},tt=function(){},at="sendbird-outgoing-thumbnail-message",nt="sendbird-incoming-thumbnail-message",st="1px",lt="8px";function rt(e){var a=e.message,n=void 0===a?{}:a,s=e.userId,l=e.disabled,r=e.isByMe,o=e.onClick,i=e.showRemove,u=e.status,d=e.resendMessage,c=e.useReaction,f=e.emojiAllMap,m=e.membersMap,g=e.toggleReaction,p=e.memoizedEmojiListItems,h=e.chainTop,E=e.chainBottom;return r?t.default.createElement(ot,{userId:s,status:u,message:n,onClick:o,disabled:l,chainTop:h,showRemove:i,membersMap:m,chainBottom:E,useReaction:c,emojiAllMap:f,resendMessage:d,toggleReaction:g,memoizedEmojiListItems:p}):t.default.createElement(it,{userId:s,status:u,message:n,onClick:o,chainTop:h,membersMap:m,chainBottom:E,useReaction:c,emojiAllMap:f,toggleReaction:g,memoizedEmojiListItems:p})}function ot(a){var s=a.message,r=void 0===s?{}:s,o=a.userId,i=a.disabled,u=a.onClick,c=a.showRemove,f=a.status,m=a.resendMessage,g=a.useReaction,p=a.emojiAllMap,h=a.membersMap,E=a.toggleReaction,_=a.memoizedEmojiListItems,b=a.chainTop,M=a.chainBottom,N=r.type,C=r.url,R=r.localUrl,y=r.thumbnails,v=y&&y.length>0&&y[0].url||null,T=(0,t.useContext)(e.d).stringSet,I=(0,t.useRef)(null),O=(0,t.useRef)(null),S=(0,t.useRef)(null),A=(0,t.useRef)(null),D=(0,t.useState)(!1),w=(0,e.b)(D,2),x=w[0],j=w[1],L=(0,t.useState)(!1),B=(0,e.b)(L,2),U=B[0],k=B[1],G=(0,t.useState)(!1),q=(0,e.b)(G,2),P=q[0],F=q[1],z=g&&p&&p.size>0,H=_,K=et(f),Y=function(){k(!0)},W=function(){k(!1)};return Ke({ref:I,setHover:j}),t.default.createElement("div",{className:at,ref:I,style:{paddingTop:b?st:lt,paddingBottom:M?st:lt}},t.default.createElement("div",{className:"".concat(at,"--inner")},t.default.createElement("div",{className:"".concat(at,"__left-padding")},t.default.createElement("div",{className:"".concat(at,"-left-padding__more"),ref:O},t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{ref:S,width:"32px",height:"32px",onClick:function(){e(),Y(),F(!0)},onBlur:function(){W()}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){var a=function(){e(),F(!1)};return t.default.createElement(n.b,{parentRef:S,parentContainRef:O,closeDropdown:a,openLeft:!0},r&&r.isResendable&&r.isResendable()&&t.default.createElement(n.c,{onClick:function(){m(r),a()}},T.CONTEXT_MENU_DROPDOWN__RESEND),t.default.createElement(n.c,{onClick:function(){i||(c(!0),a())}},T.CONTEXT_MENU_DROPDOWN__DELETE))}}),K&&z&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{ref:A,width:"32px",height:"32px",onClick:function(){e(),Y(),F(!0)},onBlur:function(){W()}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.EMOJI_MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){return t.default.createElement(H,{message:r,parentRef:A,parentContainRef:O,closeDropdown:function(){e(),F(!1)},spaceFromTrigger:{y:2}})}})),!M&&!(x||U||P)&&t.default.createElement(je,{message:r,status:f,className:"".concat(at,"-left-padding__status")})),t.default.createElement("div",{className:"".concat(at,"__body")},t.default.createElement("div",{className:"".concat(at,"-body__wrap")},t.default.createElement("div",{className:"".concat(at,"-body__wrap--inner"),onClick:K?function(){return u(!0)}:function(){},onKeyDown:K?function(){return u(!0)}:function(){},tabIndex:0,role:"button"},(0,d.a)(N)&&t.default.createElement(t.default.Fragment,null,v?t.default.createElement(l.g,{className:"".concat(at,"-body__video"),url:v,alt:"video/thumbnail",width:"404px",height:"280px",defaultComponent:t.default.createElement("div",{className:"".concat(at,"__thumbnail-placeholder--video")},t.default.createElement(l.I,{type:l.c.PLAY,fillColor:l.d.ON_BACKGROUND_2,width:"56px",height:"56px"}))}):t.default.createElement("video",{className:"".concat(at,"-body__video")},t.default.createElement("source",{src:C||R,type:N})),t.default.createElement(l.I,{className:"".concat(at,"-body__video-icon"),type:l.c.PLAY,width:"56px",height:"56px"})),(0,d.i)(N)&&t.default.createElement(l.g,{className:"".concat(at,"-body__img"),url:v||C||R,alt:"image/thumbnail",width:"404px",height:"280px",defaultComponent:t.default.createElement("div",{className:"".concat(at,"__thumbnail-placeholder--video")},t.default.createElement(l.I,{type:l.c.PHOTO,fillColor:l.d.ON_BACKGROUND_2,width:"56px",height:"56px"}))}),(0,d.u)(N)&&t.default.createElement("div",{className:"".concat(at,"-body__other")},T.UNKNOWN__UNKNOWN_MESSAGE_TYPE),t.default.createElement("div",{className:"".concat(at,"-body__wrap__overlay")})),g&&r.reactions&&r.reactions.length>0&&t.default.createElement(Pe,{className:"".concat(at,"-body__wrap__emoji-reactions"),userId:o,message:r,emojiAllMap:p,membersMap:h,toggleReaction:E,memoizedEmojiListItems:_})))))}function it(a){var s=a.message,o=void 0===s?{}:s,i=a.userId,u=a.onClick,c=a.status,f=a.useReaction,m=a.emojiAllMap,g=a.membersMap,p=a.toggleReaction,h=a.memoizedEmojiListItems,E=a.chainTop,_=a.chainBottom,b=o.type,M=o.url,N=o.localUrl,C=o.thumbnails,R=C&&C.length>0&&C[0].url||null,y=t.default.useContext(n.f),v=y.disableUserProfile,T=y.renderUserProfile,I=(0,t.useContext)(e.d).stringSet,O=(0,t.useRef)(null),S=(0,t.useRef)(null),A=(0,t.useRef)(null),D=(0,t.useRef)(null),w=(0,t.useState)(!1),x=(0,e.b)(w,2),j=x[0],L=x[1],B=(0,t.useState)(!1),U=(0,e.b)(B,2),k=U[0],G=U[1],q=(0,t.useState)(!1),P=(0,e.b)(q,2),F=P[0],z=P[1],H=f&&m&&m.size>0,K=h,Y=et(c);return Ke({ref:O,setHover:L}),t.default.createElement("div",{className:nt,ref:O,style:{paddingTop:E?st:lt,paddingBottom:_?st:lt}},!E&&t.default.createElement(l.L,{className:"".concat(nt,"__sender-name"),type:l.a.CAPTION_2,color:l.b.ONBACKGROUND_2},(0,r.b)(o)||""),t.default.createElement("div",{className:"".concat(nt,"--inner")},t.default.createElement("div",{className:"".concat(nt,"__body")},t.default.createElement("div",{className:"".concat(nt,"-body__wrap")},!_&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(l.A,{ref:D,onClick:function(){v||e()},className:"".concat(nt,"__avatar"),src:(0,r.c)(o),width:"28px",height:"28px"})},menuItems:function(e){return t.default.createElement(n.b,{parentRef:D,parentContainRef:D,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},T?T({user:o.sender,close:e}):t.default.createElement(n.g,{user:o.sender,onSuccess:e}))}}),t.default.createElement("div",{className:"".concat(nt,"-body__wrap--inner"),role:"button",tabIndex:0,onClick:Y?function(){return u(!0)}:function(){},onKeyDown:Y?function(){return u(!0)}:function(){}},(0,d.a)(b)&&t.default.createElement(t.default.Fragment,null,R?t.default.createElement(l.g,{className:"".concat(nt,"__video"),url:R,alt:"video/thumbnail",width:"404px",height:"280px",defaultComponent:t.default.createElement("div",{className:"".concat(nt,"__thumbnail-placeholder--video")},t.default.createElement(l.I,{type:l.c.PLAY,fillColor:l.d.ON_BACKGROUND_2,width:"56px",height:"56px"}))}):t.default.createElement("video",{className:"".concat(nt,"__video")},t.default.createElement("source",{src:M||N,type:b})),t.default.createElement(l.I,{className:"".concat(nt,"__video-icon"),type:l.c.PLAY,width:"56px",height:"56px"})),(0,d.i)(b)&&t.default.createElement(l.g,{className:"".concat(nt,"__img"),url:R||M||N,alt:"image/thumbnail",width:"404px",height:"280px",defaultComponent:t.default.createElement("div",{className:"".concat(nt,"__thumbnail-placeholder--image")},t.default.createElement(l.I,{type:l.c.PHOTO,fillColor:l.d.ON_BACKGROUND_2,width:"56px",height:"56px"}))}),(0,d.u)(b)&&t.default.createElement("div",{className:"".concat(nt,"__other")},I.UNKNOWN__UNKNOWN_MESSAGE_TYPE),t.default.createElement("div",{className:"".concat(nt,"-body__wrap-overlay")})),f&&o.reactions&&o.reactions.length>0&&t.default.createElement(Pe,{className:"".concat(nt,"__wrap__emoji-reactions"),userId:i,message:o,emojiAllMap:m,membersMap:g,toggleReaction:p,memoizedEmojiListItems:h}))),t.default.createElement("div",{className:"".concat(nt,"__right-padding")},!_&&!(j||k||F)&&t.default.createElement(l.L,{className:"".concat(nt,"__sent-at"),type:l.a.CAPTION_3,color:l.b.ONBACKGROUND_2},$e(o)),t.default.createElement("div",{className:"".concat(nt,"__more"),ref:S},H&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{ref:A,width:"32px",height:"32px",onClick:function(){e(),G(!0),z(!0)},onBlur:function(){G(!1)}},t.default.createElement(l.I,{type:l.c.EMOJI_MORE,fillColor:l.d.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(e){return t.default.createElement(K,{message:o,parentRef:A,parentContainRef:S,closeDropdown:function(){e(),z(!1)},spaceFromTrigger:{y:2}})}})))))}rt.propTypes={message:a.default.shape({type:a.default.string,url:a.default.string,localUrl:a.default.string}).isRequired,userId:a.default.string,resendMessage:a.default.func,status:a.default.string,isByMe:a.default.bool,disabled:a.default.bool,onClick:a.default.func,showRemove:a.default.func,useReaction:a.default.bool.isRequired,emojiAllMap:a.default.instanceOf(Map),membersMap:a.default.instanceOf(Map),toggleReaction:a.default.func,memoizedEmojiListItems:a.default.func,chainTop:a.default.bool,chainBottom:a.default.bool},rt.defaultProps={isByMe:!1,disabled:!1,resendMessage:tt,onClick:tt,showRemove:tt,status:"",userId:"",emojiAllMap:new Map,membersMap:new Map,toggleReaction:tt,memoizedEmojiListItems:function(){return""},chainTop:!1,chainBottom:!1},ot.propTypes={message:a.default.shape({type:a.default.string,url:a.default.string,localUrl:a.default.string}).isRequired,userId:a.default.string.isRequired,disabled:a.default.bool.isRequired,resendMessage:a.default.func.isRequired,status:a.default.string,onClick:a.default.func.isRequired,showRemove:a.default.func.isRequired,useReaction:a.default.bool.isRequired,emojiAllMap:a.default.instanceOf(Map).isRequired,membersMap:a.default.instanceOf(Map).isRequired,toggleReaction:a.default.func.isRequired,memoizedEmojiListItems:a.default.func.isRequired,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired},ot.defaultProps={status:""},it.propTypes={message:a.default.shape({type:a.default.string,url:a.default.string,localUrl:a.default.string}).isRequired,userId:a.default.string.isRequired,onClick:a.default.func.isRequired,status:a.default.string,useReaction:a.default.bool.isRequired,emojiAllMap:a.default.instanceOf(Map).isRequired,membersMap:a.default.instanceOf(Map).isRequired,toggleReaction:a.default.func.isRequired,memoizedEmojiListItems:a.default.func.isRequired,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired},it.defaultProps={status:""};var ut=40,dt="1px",ct="8px",ft=function(){};function mt(e){var t=null;return/(\.gif|\.jpg|\.jpeg|\.txt|\.pdf)$/i.test(e)?t=l.c.FILE_DOCUMENT:/(\.mp3)$/i.test(e)&&(t=l.c.FILE_AUDIO),t}function gt(a){var s=a.message,r=a.userId,o=a.status,i=a.showRemove,d=a.disabled,c=a.resendMessage,f=a.useReaction,m=a.emojiAllMap,g=a.membersMap,p=a.toggleReaction,h=a.memoizedEmojiListItems,E=a.chainTop,_=a.chainBottom,b=s.plainUrl||s.url,M=(0,t.useRef)(null),N=(0,t.useRef)(null),C=(0,t.useRef)(null),R=(0,t.useRef)(null),y=(0,t.useState)(!1),v=(0,e.b)(y,2),T=v[0],I=v[1],O=(0,t.useState)(!1),S=(0,e.b)(O,2),A=S[0],D=S[1],w=(0,t.useState)(!1),x=(0,e.b)(w,2),j=x[0],L=x[1],B=f&&m&&m.size>0,U=h,k=(0,u.g)(o)&&f&&s.reactions&&s.reactions.length>0,G=function(){D(!0)},q=function(){D(!1)};return Ke({ref:M,setHover:I}),t.default.createElement("div",{className:"sendbird-file-message__outgoing",ref:M,style:{paddingTop:E?dt:ct,paddingBottom:_?dt:ct}},t.default.createElement("div",{className:"sendbird-file-message--inner"},t.default.createElement("div",{className:"sendbird-file-message__left-padding"},t.default.createElement("div",{className:"sendbird-file-message__more",ref:N},t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{ref:C,width:"32px",height:"32px",onClick:function(){e(),G(),L(!0)},onBlur:function(){q()}},t.default.createElement(l.I,{type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE,width:"24px",height:"24px"}))},menuItems:function(e){var a=function(){e(),L(!1)};return t.default.createElement(n.b,{parentRef:C,parentContainRef:N,closeDropdown:a,openLeft:!0},s&&s.isResendable&&s.isResendable()&&t.default.createElement(n.c,{onClick:function(){c(s),a()}},"Resend"),t.default.createElement(n.c,{onClick:function(){d||(i(!0),a())}},"Delete"))}}),B&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{ref:R,width:"32px",height:"32px",onClick:function(){e(),G(),L(!0)},onBlur:function(){q()}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.EMOJI_MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){return t.default.createElement(U,{message:s,parentRef:R,parentContainRef:N,closeDropdown:function(){e(),L(!1)},spaceFromTrigger:{y:2}})}})),!_&&!(T||A||j)&&t.default.createElement("div",{className:"sendbird-file-message__status"},t.default.createElement(je,{message:s,status:o}))),t.default.createElement("div",{className:"sendbird-file-message__tooltip"},t.default.createElement("div",{className:"sendbird-file-message__tooltip__inner"},mt(b)?t.default.createElement("div",{className:"sendbird-file-message__tooltip__icon-box"},t.default.createElement(l.I,{className:"sendbird-file-message__tooltip__icon-box__icon",type:mt(b),fillColor:l.d.PRIMARY,width:"24px",height:"24px"})):null,t.default.createElement(n.a,{className:"sendbird-file-message__tooltip__text",onClick:function(){window.open(b)},color:l.b.ONCONTENT_1},t.default.createElement(l.L,{type:l.a.BODY_1,color:l.b.ONCONTENT_1},(0,u.t)(s.name||s.url,ut)))),k&&t.default.createElement(Pe,{className:"sendbird-file-message__tooltip__emoji-reactions",userId:r,message:s,emojiAllMap:m,membersMap:g,toggleReaction:p,memoizedEmojiListItems:h}))))}function pt(a){var s=a.message,o=a.userId,i=a.useReaction,d=a.emojiAllMap,c=a.membersMap,f=a.toggleReaction,m=a.memoizedEmojiListItems,g=a.chainTop,p=a.chainBottom,h=(0,t.useRef)(null),E=t.default.useContext(n.f),_=E.disableUserProfile,b=E.renderUserProfile,M=(0,t.useRef)(null),N=(0,t.useRef)(null),C=(0,t.useRef)(null),R=(0,t.useState)(!1),y=(0,e.b)(R,2),v=y[0],T=y[1],I=(0,t.useState)(!1),O=(0,e.b)(I,2),S=O[0],A=O[1],D=(0,t.useState)(!1),w=(0,e.b)(D,2),x=w[0],j=w[1],L=i&&d&&d.size>0,B=m;return Ke({ref:h,setHover:T}),t.default.createElement("div",{className:"sendbird-file-message__incoming",ref:h,style:{paddingTop:g?dt:ct,paddingBottom:p?dt:ct}},t.default.createElement("div",{className:"sendbird-file-message--inner"},t.default.createElement("div",{className:"sendbird-file-message__body"},!p&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(l.A,{ref:N,onClick:function(){_||e()},className:"sendbird-file-message__avatar",src:(0,r.c)(s),width:"28px",height:"28px"})},menuItems:function(e){return t.default.createElement(n.b,{parentRef:N,parentContainRef:N,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},b?b({user:s.sender,close:e}):t.default.createElement(n.g,{user:s.sender,onSuccess:e}))}}),!g&&t.default.createElement(l.L,{className:"sendbird-file-message__sender-name",type:l.a.CAPTION_2,color:l.b.ONBACKGROUND_2},(0,r.b)(s)),t.default.createElement("div",{className:"sendbird-file-message__tooltip"},t.default.createElement("div",{className:"sendbird-file-message__tooltip__inner"},mt(s.url)?t.default.createElement("div",{className:"sendbird-file-message__tooltip__icon-box"},t.default.createElement(l.I,{className:"sendbird-file-message__tooltip__icon-box__icon",type:mt(s.url),fillColor:l.d.PRIMARY,width:"24px",height:"24px"})):null,t.default.createElement(n.a,{className:"sendbird-file-message__tooltip__text",onClick:function(){window.open(s.url)}},t.default.createElement(l.L,{type:l.a.BODY_1,color:l.b.ONBACKGROUND_1},(0,u.t)(s.name||s.url,ut)))),i&&s.reactions&&s.reactions.length>0&&t.default.createElement(Pe,{className:"sendbird-file-message__tooltip__emoji-reactions",userId:o,message:s,emojiAllMap:d,membersMap:c,toggleReaction:f,memoizedEmojiListItems:m}))),t.default.createElement("div",{className:"sendbird-file-message__right-padding"},t.default.createElement("div",{className:"sendbird-file-message__more",ref:M},L&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{ref:C,width:"32px",height:"32px",onClick:function(){e(),A(!0),j(!0)},onBlur:function(){A(!1)}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.EMOJI_MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){return t.default.createElement(B,{message:s,parentRef:C,parentContainRef:M,closeDropdown:function(){e(),j(!1)},spaceFromTrigger:{y:2}})}})),!p&&!(v||S||x)&&t.default.createElement(l.L,{className:"sendbird-file-message__sent-at",type:l.a.CAPTION_3,color:l.b.ONBACKGROUND_2},(0,r.a)(s)))))}gt.propTypes={message:a.default.objectOf(a.default.oneOfType([a.default.string,a.default.number,a.default.bool,a.default.array,a.default.object])),userId:a.default.string,status:a.default.string,showRemove:a.default.func,resendMessage:a.default.func,useReaction:a.default.bool.isRequired,disabled:a.default.bool,emojiAllMap:a.default.instanceOf(Map),membersMap:a.default.instanceOf(Map),toggleReaction:a.default.func,memoizedEmojiListItems:a.default.func,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired},gt.defaultProps={status:"",showRemove:ft,resendMessage:ft,message:{},userId:"",disabled:!1,emojiAllMap:new Map,membersMap:new Map,toggleReaction:ft,memoizedEmojiListItems:function(){return""}},pt.propTypes={message:a.default.objectOf(a.default.oneOfType([a.default.string,a.default.number,a.default.bool,a.default.array,a.default.object])),userId:a.default.string,useReaction:a.default.bool.isRequired,emojiAllMap:a.default.instanceOf(Map),membersMap:a.default.instanceOf(Map),toggleReaction:a.default.func,memoizedEmojiListItems:a.default.func,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired},pt.defaultProps={message:{},userId:"",emojiAllMap:new Map,membersMap:new Map,toggleReaction:ft,memoizedEmojiListItems:function(){return""}};var ht=function(e){var a=e.message,n=e.userId,s=e.disabled,l=e.isByMe,r=e.showRemove,o=e.status,i=e.resendMessage,u=e.useReaction,d=e.emojiAllMap,c=e.membersMap,f=e.toggleReaction,m=e.memoizedEmojiListItems,g=e.chainTop,p=e.chainBottom;return t.default.createElement("div",{className:"sendbird-file-message".concat(l?"--outgoing":"--incoming")},l?t.default.createElement(gt,{message:a,userId:n,disabled:s,showRemove:r,status:o,resendMessage:i,useReaction:u,emojiAllMap:d,membersMap:c,toggleReaction:f,memoizedEmojiListItems:m,chainTop:g,chainBottom:p}):t.default.createElement(pt,{userId:n,message:a,useReaction:u,emojiAllMap:d,membersMap:c,toggleReaction:f,memoizedEmojiListItems:m,chainTop:g,chainBottom:p}))};ht.propTypes={message:a.default.shape({}),userId:a.default.string,isByMe:a.default.bool,disabled:a.default.bool,showRemove:a.default.func,resendMessage:a.default.func,status:a.default.string.isRequired,useReaction:a.default.bool.isRequired,emojiAllMap:a.default.instanceOf(Map),membersMap:a.default.instanceOf(Map),toggleReaction:a.default.func,memoizedEmojiListItems:a.default.func,chainTop:a.default.bool,chainBottom:a.default.bool},ht.defaultProps={message:{},isByMe:!1,disabled:!1,showRemove:ft,resendMessage:ft,userId:"",emojiAllMap:new Map,membersMap:new Map,toggleReaction:ft,memoizedEmojiListItems:function(){return""},chainTop:!1,chainBottom:!1};var Et=function(a){var s=a.onCloseModal,l=a.onDeleteMessage,r=(0,t.useContext)(e.d).stringSet;return t.default.createElement(n.M,{onCancel:s,onSubmit:l,submitText:"Delete",titleText:r.MODAL__DELETE_MESSAGE__TITLE})};Et.propTypes={onCloseModal:a.default.func.isRequired,onDeleteMessage:a.default.func.isRequired};var _t=function(e){return(0,o.default)(e.createdAt,"p")},bt="sendbird-unknown-message",Mt="1px",Nt="8px";function Ct(e){var a=e.message,n=e.isByMe,s=e.status,l=e.className,r=e.showRemove,o=e.chainTop,i=e.chainBottom,u=Array.isArray(l)?l:[l];return u.unshift(bt),u.push("".concat(bt).concat(n?"--outgoing":"--incoming")),t.default.createElement("div",{className:u.join(" ")},n?t.default.createElement(Rt,{status:s,message:a,chainTop:o,showRemove:r,chainBottom:i}):t.default.createElement(yt,{message:a,chainTop:o,chainBottom:i}))}function Rt(a){var s=a.message,r=a.status,o=a.showRemove,i=a.chainTop,u=a.chainBottom,d="sendbird-outgoing-unknown-message",c=(0,t.useRef)(null),f=(0,t.useRef)(null),m=(0,t.useRef)(null),g=(0,t.useState)(!1),p=(0,e.b)(g,2),h=p[0],E=p[1],_=(0,t.useState)(!1),b=(0,e.b)(_,2),M=b[0],N=b[1],C=(0,t.useState)(!1),R=(0,e.b)(C,2),y=R[0],v=R[1],T=(0,t.useContext)(e.d).stringSet;return Ke({ref:c,setHover:E}),t.default.createElement("div",{ref:c,className:d,style:{paddingTop:i?Mt:Nt,paddingBottom:u?Mt:Nt}},t.default.createElement("div",{className:"".concat(d,"--inner")},t.default.createElement("div",{className:"".concat(d,"--left-padding")},t.default.createElement("div",{className:"".concat(d,"__more"),ref:f},t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{className:"".concat(d,"__more__menu"),ref:m,width:"32px",height:"32px",onClick:function(){e(),N(!0),v(!0)},onBlur:function(){N(!1)}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){var a=function(){e(),v(!1)};return t.default.createElement(n.b,{parentRef:m,parentContainRef:f,closeDropdown:a,openLeft:!0},t.default.createElement(n.c,{onClick:function(){o(!0),a()}},"Delete"))}})),!u&&!(h||M||y)&&t.default.createElement("div",{className:"".concat(d,"__message-status")},t.default.createElement(je,{message:s,status:r}))),t.default.createElement("div",{className:"".concat(d,"__body")},t.default.createElement("div",{className:"".concat(d,"__body__text-balloon")},t.default.createElement(l.L,{className:"".concat(d,"__body__text-balloon__header"),type:l.a.BODY_1,color:l.b.ONBACKGROUND_1},T.UNKNOWN__UNKNOWN_MESSAGE_TYPE),t.default.createElement(l.L,{className:"".concat(d,"__body__text-balloon__description"),type:l.a.BODY_1,color:l.b.ONBACKGROUND_2},T.UNKNOWN__CANNOT_READ_MESSAGE)))))}function yt(a){var s=a.message,r=a.chainTop,o=a.chainBottom,i="sendbird-incoming-unknown-message",u=s.sender,d=(0,t.useRef)(null),c=(0,t.useContext)(e.d).stringSet,f=t.default.useContext(n.f),m=f.disableUserProfile,g=f.renderUserProfile;return t.default.createElement("div",{className:i,style:{paddingTop:r?Mt:Nt,paddingBottom:o?Mt:Nt}},t.default.createElement("div",{className:"".concat(i,"--inner")},t.default.createElement("div",{className:"".concat(i,"__left")},!o&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(l.A,{ref:d,onClick:function(){m||e()},className:"".concat(i,"__left__sender-profile-image"),src:u.profileUrl,width:"28px",height:"28px",alt:"sender-profile-image"})},menuItems:function(e){return t.default.createElement(n.b,{parentRef:d,parentContainRef:d,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},g?g({user:s.sender,close:e}):t.default.createElement(n.g,{user:s.sender,onSuccess:e}))}})),t.default.createElement("div",{className:"".concat(i,"__body")},!r&&t.default.createElement(l.L,{className:"".concat(i,"__body__sender-name"),type:l.a.CAPTION_2,color:l.b.ONBACKGROUND_2},u.nickname||c.NO_NAME),t.default.createElement("div",{className:"".concat(i,"__body__text-balloon")},t.default.createElement(l.L,{className:"".concat(i,"__body__text-balloon__header"),type:l.a.BODY_1,color:l.b.ONBACKGROUND_1},c.UNKNOWN__UNKNOWN_MESSAGE_TYPE),t.default.createElement(l.L,{className:"".concat(i,"__body__text-balloon__description"),type:l.a.BODY_1,color:l.b.ONBACKGROUND_2},c.UNKNOWN__CANNOT_READ_MESSAGE))),t.default.createElement("div",{className:"".concat(i,"--right-padding")},!o&&t.default.createElement(l.L,{className:"".concat(i,"__sent-at"),type:l.a.CAPTION_3,color:l.b.ONBACKGROUND_2},_t(s)))))}Ct.propTypes={message:a.default.shape({}).isRequired,isByMe:a.default.bool,status:a.default.string,className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),showRemove:a.default.func,chainTop:a.default.bool,chainBottom:a.default.bool},Ct.defaultProps={isByMe:!1,status:"",className:"",showRemove:function(){},chainTop:!1,chainBottom:!1},Rt.propTypes={message:a.default.shape({}).isRequired,status:a.default.string.isRequired,showRemove:a.default.func,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired},Rt.defaultProps={showRemove:function(){}},yt.propTypes={message:a.default.shape({sender:a.default.shape({nickname:a.default.string,profileUrl:a.default.string})}).isRequired,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired};var vt=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Tt="sendbird-og-message",It="sendbird-outgoing-og-message",Ot="sendbird-incoming-og-message",St=function(e){return function(t){return e.test(t)}},At=function(e){return e===i.M.SENT||e===i.M.DELIVERED||e===i.M.READ},Dt=function(e){try{if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(a){return!1}finally{document.body.removeChild(t)}}return!1}catch(n){return n}},wt=function(e){return e.sender&&e.sender.profileUrl},xt=function(e){return e.sender&&(e.sender.friendName||e.sender.nickname||e.sender.userId)},jt=function(e){return(0,o.default)(e.createdAt,"p")},Lt=function(e){var t=e.ogMetaData;return!!t&&!!t.url},Bt=St(vt);function Ut(a){var n=a.message,s=a.updatedAt,r=a.className,o=a.incoming,i=void 0!==o&&o,u=(0,t.useContext)(e.d).stringSet,c=l.a.BODY_1,f=i?l.b.ONBACKGROUND_1:l.b.ONCONTENT_1,m=i?l.b.ONBACKGROUND_2:l.b.ONCONTENT_2;return(0,t.useMemo)(function(){return function(){var a=n.split(" ").map(function(a){return Bt(a)?t.default.createElement(d.L,{key:(0,e.u)(),className:r,src:a,type:c,color:f},a):t.default.createElement(l.L,{key:(0,e.u)(),className:r,type:c,color:f},a)});return s>0&&a.push(t.default.createElement(l.L,{key:(0,e.u)(),className:r,type:c,color:m},u.MESSAGE_EDITED)),a}},[n,s,r])}var kt="1px",Gt="8px",qt=function(e){var a=e.isByMe,n=e.userId,s=e.status,l=e.message,r=e.disabled,o=e.showEdit,i=e.chainTop,u=e.className,d=e.membersMap,c=e.showRemove,f=e.useReaction,m=e.emojiAllMap,g=e.chainBottom,p=e.resendMessage,h=e.toggleReaction,E=e.memoizedEmojiListItems,_=l.ogMetaData,b=Array.isArray(u)?u:[u],M=function(){if(Lt(l)){var e=_.url;window.open(e)}},N=Ut({message:l.message,updatedAt:l.updatedAt,className:"sendbird-og-message-word"}),C=Ut({message:l.message,updatedAt:l.updatedAt,className:"sendbird-og-message-word",incoming:!0});return t.default.createElement("div",{className:"".concat(Tt," ").concat(Tt).concat(a?"--outgoing":"--incoming"," ").concat(b.join(" "))},a?t.default.createElement(Pt,{status:s,userId:n,message:l,disabled:r,openLink:M,showEdit:o,chainTop:i,showRemove:c,membersMap:d,chainBottom:g,useReaction:f,emojiAllMap:m,resendMessage:p,toggleReaction:h,memoizedMessageText:N,memoizedEmojiListItems:E}):t.default.createElement(Ft,{userId:n,message:l,openLink:M,chainTop:i,membersMap:d,chainBottom:g,useReaction:f,emojiAllMap:m,toggleReaction:h,memoizedMessageText:C,memoizedEmojiListItems:E}))};function Pt(a){var s=a.status,r=a.userId,o=a.message,i=a.disabled,u=a.openLink,d=a.showEdit,c=a.chainTop,f=a.showRemove,m=a.membersMap,g=a.chainBottom,p=a.emojiAllMap,h=a.useReaction,E=a.resendMessage,_=a.toggleReaction,b=a.memoizedMessageText,M=a.memoizedEmojiListItems,N=o.ogMetaData,C=N.defaultImage,R=(0,t.useContext)(e.d).stringSet,y=b,v=M,T=(0,t.useRef)(null),I=(0,t.useRef)(null),O=(0,t.useRef)(null),S=(0,t.useRef)(null),A=At(s),D=(0,t.useState)(!1),w=(0,e.b)(D,2),x=w[0],j=w[1],L=(0,t.useState)(!1),B=(0,e.b)(L,2),U=B[0],k=B[1],G=h&&o.reactions&&o.reactions.length>0;return Ke({ref:T,setHover:j}),t.default.createElement("div",{ref:T,className:It,style:{paddingTop:c?kt:Gt,paddingBottom:g?kt:Gt}},t.default.createElement("div",{className:"".concat(It,"--inner")},t.default.createElement("div",{className:"".concat(It,"--left-padding")},t.default.createElement("div",{className:"".concat(It,"__more"),ref:S},t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{className:"".concat(It,"__more__menu"),ref:O,width:"32px",height:"32px",onClick:function(){e(),k(!0)},onBlur:function(){k(!1)}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){return t.default.createElement(n.b,{parentRef:O,parentContainRef:S,closeDropdown:e,openLeft:!0},A&&t.default.createElement(n.c,{className:"".concat(It,"__more__menu__copy"),onClick:function(){Dt(o.message),e()}},R.CONTEXT_MENU_DROPDOWN__COPY),A&&t.default.createElement(n.c,{onClick:function(){i||(d(!0),e())}},R.CONTEXT_MENU_DROPDOWN__EDIT),o&&o.isResendable&&o.isResendable()&&t.default.createElement(n.c,{onClick:function(){E(o),e()}},R.CONTEXT_MENU_DROPDOWN__RESEND),t.default.createElement(n.c,{onClick:function(){i||(f(!0),e())}},R.CONTEXT_MENU_DROPDOWN__DELETE))}}),A&&h&&p.size>0&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{className:"".concat(It,"__more__add-reaction"),ref:I,width:"32px",height:"32px",onClick:e},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.EMOJI_MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){return t.default.createElement(v,{message:o,parentRef:I,parentContainRef:S,closeDropdown:e,spaceFromTrigger:{y:2}})}})),!g&&!(x||U)&&t.default.createElement("div",{className:"".concat(It,"__message-status")},t.default.createElement(je,{message:o,status:s}))),t.default.createElement("div",{className:"".concat(It,"--body")},t.default.createElement("div",{className:"".concat(It,"__text-balloon")},t.default.createElement(y,null)),t.default.createElement("div",{className:"".concat(It,"__thumbnail ").concat(Lt(o)?"":"".concat(It,"__thumbnail--disabled")),onClick:u,onKeyDown:u,role:"button",tabIndex:0},C&&t.default.createElement(l.g,{url:C.url||"",alt:C.alt,className:"".concat(It,"__thumbnail__image"),width:"320px",height:"180px",defaultComponent:t.default.createElement("div",{className:"".concat(It,"__thumbnail__image__placeholder")},t.default.createElement(l.I,{width:"56px",height:"56px",type:l.c.THUMBNAIL_NONE}))})),t.default.createElement("div",{className:"".concat(It,"__og-tag ").concat(Lt(o)?"":"".concat(It,"__og-tag--disabled")),onClick:u,onKeyDown:u,role:"button",tabIndex:0},N.title&&t.default.createElement("div",{className:"".concat(It,"__og-tag__title")},t.default.createElement(l.L,{type:l.a.SUBTITLE_2,color:l.b.ONBACKGROUND_1},N.title)),N.description&&t.default.createElement("div",{className:"".concat(It,"__og-tag__description")},t.default.createElement(l.L,{type:l.a.BODY_2,color:l.b.ONBACKGROUND_1,className:"".concat(It,"__og-tag__description__label")},N.description)),N.url&&t.default.createElement(l.L,{type:l.a.CAPTION_3,color:l.b.ONBACKGROUND_2,className:"".concat(It,"__og-tag__url")},N.url),G&&t.default.createElement("div",{className:"".concat(It,"__og-tag__emoji-reactions--wrapper"),onClick:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},role:"button",tabIndex:0},t.default.createElement(Pe,{className:"".concat(It,"__og-tag__emoji-reactions"),userId:r,message:o,membersMap:m,emojiAllMap:p,toggleReaction:_,memoizedEmojiListItems:M}))))))}function Ft(a){var s=a.userId,r=a.message,o=a.openLink,i=a.chainTop,u=a.membersMap,d=a.chainBottom,c=a.useReaction,f=a.emojiAllMap,m=a.toggleReaction,g=a.memoizedMessageText,p=a.memoizedEmojiListItems,h=r.ogMetaData,E=h.defaultImage,_=(0,t.useContext)(e.d).stringSet,b=g,M=p,N=(0,t.useRef)(null),C=(0,t.useRef)(null),R=(0,t.useRef)(null),y=(0,t.useRef)(null),v=(0,t.useRef)(null),T=t.default.useContext(n.f),I=T.disableUserProfile,O=T.renderUserProfile,S=(0,t.useState)(!1),A=(0,e.b)(S,2),D=A[0],w=A[1],x=(0,t.useState)(!1),j=(0,e.b)(x,2),L=j[0],B=j[1],U=c&&r.reactions&&r.reactions.length>0,k=c&&f&&f.size>0,G=function(){B(!0)},q=function(){B(!1)};return Ke({ref:N,setHover:w}),t.default.createElement("div",{ref:N,className:Ot,style:{paddingTop:i?kt:Gt,paddingBottom:d?kt:Gt}},t.default.createElement("div",{className:"".concat(Ot,"--inner")},t.default.createElement("div",{className:"".concat(Ot,"--body")},!d&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(l.A,{ref:C,onClick:function(){I||e()},className:"".concat(Ot,"__avatar"),src:wt(r),width:"28px",height:"28px",alt:"sender-profile-image"})},menuItems:function(e){return t.default.createElement(n.b,{parentRef:C,parentContainRef:C,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},O?O({user:r.sender,close:e}):t.default.createElement(n.g,{user:r.sender,onSuccess:e}))}}),!i&&t.default.createElement(l.L,{className:"".concat(Ot,"__sender-name"),type:l.a.CAPTION_2,color:l.b.ONBACKGROUND_2},xt(r)),t.default.createElement("div",{className:"".concat(Ot,"__text-balloon")},t.default.createElement(b,null)),t.default.createElement("div",{className:"".concat(Ot,"__thumbnail ").concat(Lt(r)?"":"".concat(Ot,"__thumbnail--disabled")),onClick:o,onKeyDown:o,role:"button",tabIndex:0},E&&t.default.createElement(l.g,{url:E.url||"",alt:E.alt||"",className:"".concat(Ot,"__thumbnail__image"),width:"320px",height:"180px",defaultComponent:t.default.createElement("div",{className:"".concat(Ot,"__thumbnail__image__placeholder")},t.default.createElement(l.I,{width:"56px",height:"56px",type:l.c.THUMBNAIL_NONE}))})),t.default.createElement("div",{className:"".concat(Ot,"__og-tag ").concat(Lt(r)?"":"".concat(Ot,"__og-tag--disabled")),onClick:o,onKeyDown:o,role:"button",tabIndex:0},h.title&&t.default.createElement("div",{className:"".concat(Ot,"__og-tag__title")},t.default.createElement(l.L,{type:l.a.SUBTITLE_2,color:l.b.ONBACKGROUND_1},h.title)),h.description&&t.default.createElement("div",{className:"".concat(Ot,"__og-tag__description")},t.default.createElement(l.L,{type:l.a.BODY_2,color:l.b.ONBACKGROUND_1,className:"".concat(Ot,"__og-tag__description__label")},h.description)),h.url&&t.default.createElement("div",{className:"".concat(Ot,"__og-tag__url")},t.default.createElement(l.L,{type:l.a.CAPTION_3,color:l.b.ONBACKGROUND_2,className:"".concat(Ot,"__og-tag__url__label")},h.url)),U&&t.default.createElement("div",{className:"".concat(Ot,"__og-tag__emoji-reactions--wrapper"),onClick:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},role:"button",tabIndex:0},t.default.createElement(Pe,{className:"".concat(Ot,"__og-tag__emoji-reactions"),userId:s,message:r,membersMap:u,emojiAllMap:f,toggleReaction:m,memoizedEmojiListItems:p})))),t.default.createElement("div",{className:"".concat(Ot,"--right-padding")},!d&&!(D||L)&&t.default.createElement(l.L,{className:"".concat(Ot,"__sent-at"),type:l.a.CAPTION_3,color:l.b.ONBACKGROUND_2},jt(r)),t.default.createElement("div",{className:"".concat(Ot,"__more"),ref:v},k&&t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{ref:R,width:"32px",height:"32px",onClick:function(){e(),G()},onBlur:function(){q()}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.EMOJI_MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){return t.default.createElement(M,{parentRef:R,parentContainRef:v,closeDropdown:e,message:r,spaceFromTrigger:{y:2}})}}),t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(n.I,{ref:y,width:"32px",height:"32px",onClick:function(){e(),G()},onBlur:function(){q()}},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(e){return t.default.createElement(n.b,{parentRef:y,parentContainRef:v,closeDropdown:e},t.default.createElement(n.c,{className:"".concat(Ot,"__more__menu__copy"),onClick:function(){Dt(r.message),e()}},_.CONTEXT_MENU_DROPDOWN__COPY))}})))))}var zt=function(){};function Ht(a){var n,s=a.message,r=a.userId,i=a.disabled,u=a.editDisabled,c=a.hasSeperator,f=a.deleteMessage,m=a.updateMessage,g=a.status,p=a.resendMessage,h=a.useReaction,E=a.chainTop,_=a.chainBottom,b=a.emojiAllMap,M=a.membersMap,N=a.highLightedMessageId,C=a.toggleReaction,R=a.memoizedEmojiListItems,y=a.renderCustomMessage,v=a.currentGroupChannel,T=s.sender,I=void 0===T?{}:T,O=(0,t.useState)(!1),S=(0,e.b)(O,2),A=S[0],D=S[1],w=(0,t.useState)(!1),x=(0,e.b)(w,2),j=x[0],L=x[1],B=(0,t.useState)(!1),U=(0,e.b)(B,2),k=U[0],q=U[1],F=(0,t.useState)(!1),z=(0,e.b)(F,2),H=z[0],K=z[1],Y=(0,t.useRef)(null),W=(0,t.useRef)(null);(0,t.useLayoutEffect)(function(){N===s.messageId?W&&W.current&&(W.current.scrollIntoView({block:"center",inline:"center"}),setTimeout(function(){K(!0)},500)):K(!1)},[N,W.current,s.messageId]);var V=(0,t.useMemo)(function(){return y?y(s,v,E,_):null},[s,s.message,y]),Q=r===I.userId||"pending"===s.requestState||"failed"===s.requestState;return V?t.default.createElement("div",{ref:W,className:"\n          sendbird-msg-hoc sendbird-msg--scroll-ref\n          ".concat(H?"sendbird-msg-hoc__highlighted":"","\n        ")},c&&t.default.createElement(d.D,null,t.default.createElement(l.L,{type:l.a.CAPTION_2,color:l.b.ONBACKGROUND_2},(0,o.default)(s.createdAt,"MMMM dd, yyyy"))),t.default.createElement(V,{message:s})):A?t.default.createElement(d.M,{isEdit:!0,disabled:u,ref:Y,name:s.messageId,onSendMessage:m,onCancelEdit:function(){D(!1)},value:s.message}):t.default.createElement("div",{ref:W,className:"\n        sendbird-msg-hoc sendbird-msg--scroll-ref\n        ".concat(H?"sendbird-msg-hoc__animated":"","\n      ")},c&&t.default.createElement(d.D,null,t.default.createElement(l.L,{type:l.a.CAPTION_2,color:l.b.ONBACKGROUND_2},(0,o.default)(s.createdAt,"MMMM dd, yyyy"))),(n={},(0,e.k)(n,G.ADMIN,t.default.createElement(Ze,{message:s})),(0,e.k)(n,G.FILE,t.default.createElement(ht,{message:s,userId:r,disabled:i,isByMe:Q,showRemove:L,resendMessage:p,status:g,useReaction:h,emojiAllMap:b,membersMap:M,toggleReaction:C,memoizedEmojiListItems:R,chainTop:E,chainBottom:_})),(0,e.k)(n,G.OG,t.default.createElement(qt,{message:s,status:g,isByMe:Q,userId:r,showEdit:D,disabled:i,showRemove:L,resendMessage:p,useReaction:h,emojiAllMap:b,membersMap:M,toggleReaction:C,memoizedEmojiListItems:R,chainTop:E,chainBottom:_})),(0,e.k)(n,G.THUMBNAIL,t.default.createElement(rt,{disabled:i,message:s,userId:r,isByMe:Q,showRemove:L,resendMessage:p,onClick:q,status:g,useReaction:h,emojiAllMap:b,membersMap:M,toggleReaction:C,memoizedEmojiListItems:R,chainTop:E,chainBottom:_})),(0,e.k)(n,G.USER,t.default.createElement(Qe,{message:s,disabled:i,isByMe:Q,userId:r,showEdit:D,showRemove:L,resendMessage:p,status:g,useReaction:h,emojiAllMap:b,membersMap:M,toggleReaction:C,memoizedEmojiListItems:R,chainTop:E,chainBottom:_})),n)[P(s)],j&&t.default.createElement(Et,{onCloseModal:function(){return L(!1)},onDeleteMessage:function(){f(s)}}),k&&t.default.createElement(d.F,{onClose:function(){return q(!1)},message:s,onDelete:function(){f(s,function(){q(!1)})},isByMe:Q}),!(s.isFileMessage&&s.isFileMessage()||"file"===s.messageType)&&!(s.isAdminMessage&&s.isAdminMessage())&&!(s.isUserMessage&&s.isUserMessage()||"user"===s.messageType)&&!k&&t.default.createElement(Ct,{message:s,status:g,isByMe:Q,showRemove:L,chainTop:E,chainBottom:_}))}qt.propTypes={isByMe:a.default.bool.isRequired,userId:a.default.string.isRequired,message:a.default.shape({message:a.default.string,sender:a.default.shape({}),ogMetaData:a.default.shape({title:a.default.string,description:a.default.string,url:a.default.string,defaultImage:a.default.shape({url:a.default.string,alt:a.default.string})}),reactions:a.default.array,updatedAt:a.default.number}).isRequired,useReaction:a.default.bool.isRequired,className:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),status:a.default.string,disabled:a.default.bool,showEdit:a.default.func,showRemove:a.default.func,resendMessage:a.default.func,toggleReaction:a.default.func,membersMap:a.default.instanceOf(Map),emojiAllMap:a.default.instanceOf(Map),memoizedEmojiListItems:a.default.func,chainTop:a.default.bool,chainBottom:a.default.bool},qt.defaultProps={className:"",status:"",disabled:!1,showEdit:zt,showRemove:zt,resendMessage:zt,toggleReaction:zt,membersMap:new Map,emojiAllMap:new Map,memoizedEmojiListItems:zt,chainTop:!1,chainBottom:!1},Pt.propTypes={status:a.default.string,userId:a.default.string.isRequired,message:a.default.shape({message:a.default.string,ogMetaData:a.default.shape({title:a.default.string,description:a.default.string,url:a.default.string,defaultImage:a.default.shape({url:a.default.string,alt:a.default.string})}),reactions:a.default.array,updatedAt:a.default.number,isResendable:a.default.func,errorCode:a.default.number}).isRequired,disabled:a.default.bool.isRequired,openLink:a.default.func.isRequired,showEdit:a.default.func.isRequired,showRemove:a.default.func.isRequired,membersMap:a.default.instanceOf(Map).isRequired,emojiAllMap:a.default.instanceOf(Map).isRequired,useReaction:a.default.bool.isRequired,resendMessage:a.default.func.isRequired,toggleReaction:a.default.func.isRequired,memoizedMessageText:a.default.func.isRequired,memoizedEmojiListItems:a.default.func.isRequired,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired},Pt.defaultProps={status:""},Ft.propTypes={userId:a.default.string.isRequired,message:a.default.shape({message:a.default.string,sender:a.default.shape({}),ogMetaData:a.default.shape({title:a.default.string,description:a.default.string,url:a.default.string,defaultImage:a.default.shape({url:a.default.string,alt:a.default.string})}),reactions:a.default.array,updatedAt:a.default.number}).isRequired,openLink:a.default.func.isRequired,membersMap:a.default.instanceOf(Map).isRequired,emojiAllMap:a.default.instanceOf(Map).isRequired,useReaction:a.default.bool.isRequired,toggleReaction:a.default.func.isRequired,memoizedMessageText:a.default.func.isRequired,memoizedEmojiListItems:a.default.func.isRequired,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired},Ht.propTypes={userId:a.default.string,message:a.default.shape({isFileMessage:a.default.func,isAdminMessage:a.default.func,isUserMessage:a.default.func,isDateSeperator:a.default.func,messageId:a.default.number,type:a.default.string,createdAt:a.default.number,message:a.default.string,requestState:a.default.string,messageType:a.default.string,sender:a.default.shape({userId:a.default.string}),ogMetaData:a.default.shape({})}),highLightedMessageId:a.default.oneOfType([a.default.string,a.default.number]),renderCustomMessage:a.default.func,currentGroupChannel:a.default.shape({}),hasSeperator:a.default.bool,disabled:a.default.bool,editDisabled:a.default.bool,deleteMessage:a.default.func.isRequired,updateMessage:a.default.func.isRequired,resendMessage:a.default.func.isRequired,status:a.default.string,useReaction:a.default.bool.isRequired,chainTop:a.default.bool.isRequired,chainBottom:a.default.bool.isRequired,emojiAllMap:a.default.instanceOf(Map).isRequired,membersMap:a.default.instanceOf(Map).isRequired,toggleReaction:a.default.func,memoizedEmojiListItems:a.default.func},Ht.defaultProps={userId:"",editDisabled:!1,renderCustomMessage:null,currentGroupChannel:{},message:{},hasSeperator:!1,disabled:!1,highLightedMessageId:null,status:"",toggleReaction:function(){},memoizedEmojiListItems:function(){return""}};var Kt=function(a){function n(){var t,a;(0,e.h)(this,n);for(var s=arguments.length,l=new Array(s),r=0;r<s;r++)l[r]=arguments[r];return a=(0,e.i)(this,(t=(0,e.j)(n)).call.apply(t,[this].concat(l))),(0,e.k)((0,e.l)(a),"onScroll",function(t){var n=a.props,s=n.scrollRef,l=n.hasMore,r=n.messagesDispatcher,o=n.onScroll,i=n.onScrollDown,u=n.currentGroupChannel,d=t.target,c=d.scrollTop,f=d.clientHeight,m=d.scrollHeight;if(0===c){if(!l)return;var g=s.current.querySelectorAll(".sendbird-msg--scroll-ref"),p=g&&g[0];o(function(t){if((0,e.b)(t,1)[0])try{p.scrollIntoView()}catch(a){}})}if(f+c===m){var h=s.current.querySelectorAll(".sendbird-msg--scroll-ref"),E=h&&h[h.length-1];i(function(t){if((0,e.b)(t,1)[0])try{E.scrollIntoView()}catch(a){}})}setTimeout(function(){f+c===m&&(r({type:L}),u.markAsRead())},500)}),a}return(0,e.e)(n,a),(0,e.f)(n,[{key:"render",value:function(){var a=this.props,n=a.userId,s=a.disabled,r=a.scrollRef,o=a.readStatus,i=a.membersMap,u=a.allMessages,d=a.useReaction,f=a.emojiAllMap,m=a.editDisabled,g=a.deleteMessage,p=a.updateMessage,h=a.resendMessage,E=a.renderCustomMessage,_=a.renderChatItem,b=a.highLightedMessageId,M=a.emojiContainer,N=a.toggleReaction,C=a.useMessageGrouping,R=a.currentGroupChannel,y=a.memoizedEmojiListItems,v=a.showScrollBot,T=a.onClickScrollBot;return u.length<1?t.default.createElement(l.P,{className:"sendbird-conversation__no-messages",type:l.i.NO_MESSAGES}):t.default.createElement("div",{className:"sendbird-conversation__messages"},t.default.createElement("div",{ref:r,className:"sendbird-conversation__scroll-container",onScroll:this.onScroll},t.default.createElement("div",{className:"sendbird-conversation__padding"}),t.default.createElement("div",{className:"sendbird-conversation__messages-padding"},u.map(function(a,l){var r=u[l-1],v=u[l+1],T=C?re(r,a,v):[!1,!1],I=(0,e.b)(T,2),O=I[0],S=I[1],A=r&&r.createdAt,D=a.createdAt,w=!(A&&(0,c.default)(D,A));return _?t.default.createElement("div",{key:a.messageId||a.reqId,className:"sendbird-msg--scroll-ref"},_({message:a,highLightedMessageId:b,channel:R,onDeleteMessage:g,onUpdateMessage:p,onResendMessage:h,emojiContainer:M,chainTop:O,chainBottom:S})):t.default.createElement(Ht,{highLightedMessageId:b,renderCustomMessage:E,key:a.messageId||a.reqId,userId:n,status:o[a.messageId]||Q(a,R),message:a,currentGroupChannel:R,disabled:s,membersMap:i,chainTop:O,useReaction:d,emojiAllMap:f,editDisabled:m,hasSeperator:w,chainBottom:S,updateMessage:p,deleteMessage:g,resendMessage:h,toggleReaction:N,memoizedEmojiListItems:y})}))),v&&t.default.createElement("div",{className:"sendbird-conversation__scroll-bottom-button",onClick:T,onKeyDown:T,tabIndex:0,role:"button"},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.CHEVRON_DOWN,fillColor:l.d.CONTENT})))}}]),n}(t.Component);function Yt(a){var n=a.count,s=a.time,r=a.onClick,o=(0,t.useContext)(e.d).stringSet,i=s.split(" ");return i.splice(-2,0,o.CHANNEL__MESSAGE_LIST__NOTIFICATION__ON),t.default.createElement("div",{className:"sendbird-notification",onClick:r},t.default.createElement(l.L,{className:"sendbird-notification__text",color:l.b.ONCONTENT_1,type:l.a.CAPTION_2},"".concat(n," "),o.CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE," ".concat(i.join(" "))),t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.CHEVRON_DOWN,fillColor:l.d.CONTENT}))}Kt.propTypes={scrollRef:a.default.shape({current:a.default.oneOfType([a.default.element,a.default.shape({})])}).isRequired,hasMore:a.default.bool,messagesDispatcher:a.default.func.isRequired,onScroll:a.default.func,onScrollDown:a.default.func,editDisabled:a.default.bool,disabled:a.default.bool,userId:a.default.string,allMessages:a.default.arrayOf(a.default.shape({createdAt:a.default.number})).isRequired,deleteMessage:a.default.func.isRequired,resendMessage:a.default.func.isRequired,updateMessage:a.default.func.isRequired,readStatus:a.default.shape({}).isRequired,currentGroupChannel:a.default.shape({markAsRead:a.default.func,members:a.default.arrayOf(a.default.shape({}))}).isRequired,highLightedMessageId:a.default.oneOfType([a.default.string,a.default.number]),renderChatItem:a.default.element,renderCustomMessage:a.default.func,useReaction:a.default.bool,showScrollBot:a.default.bool,onClickScrollBot:a.default.func,emojiContainer:a.default.shape({}),emojiAllMap:a.default.instanceOf(Map),membersMap:a.default.instanceOf(Map),useMessageGrouping:a.default.bool,toggleReaction:a.default.func,memoizedEmojiListItems:a.default.func},Kt.defaultProps={hasMore:!1,editDisabled:!1,disabled:!1,userId:"",renderCustomMessage:null,renderChatItem:null,highLightedMessageId:null,onScroll:null,onScrollDown:null,useReaction:!0,emojiContainer:{},showScrollBot:!1,onClickScrollBot:function(){},emojiAllMap:new Map,membersMap:new Map,useMessageGrouping:!0,toggleReaction:function(){},memoizedEmojiListItems:function(){return""}},Yt.propTypes={count:a.default.oneOfType([a.default.string,a.default.number]),time:a.default.string,onClick:a.default.func.isRequired},Yt.defaultProps={count:0,time:""};var Wt=function(){var a=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{className:"sendbird-notification sendbird-notification--frozen"},t.default.createElement(l.L,{className:"sendbird-notification__text",type:l.a.CAPTION_2},a.CHANNEL_FROZEN))},Vt=function(a){var n=a.members,s=(0,t.useContext)(e.d).stringSet;return n&&0!==n.length?n&&1===n.length?"".concat(n[0].nickname," ").concat(s.TYPING_INDICATOR__IS_TYPING):n&&2===n.length?"".concat(n[0].nickname," ").concat(s.TYPING_INDICATOR__AND," ").concat(n[1].nickname," ").concat(s.TYPING_INDICATOR__ARE_TYPING):s.TYPING_INDICATOR__MULTIPLE_TYPING:""};function Qt(a){var n=a.channelUrl,s=a.sb,r=a.logger,o=(0,t.useState)((0,e.u)()),i=(0,e.b)(o,2),u=i[0],d=i[1],c=(0,t.useState)([]),f=(0,e.b)(c,2),m=f[0],g=f[1];return(0,t.useEffect)(function(){if(s&&s.ChannelHandler){s.removeChannelHandler(u);var t=(0,e.u)(),a=new s.ChannelHandler;a.onTypingStatusUpdated=function(e){r.info("Channel > Typing Indicator: onTypingStatusUpdated",e);var t=e.getTypingMembers();e.url===n&&g(t)},s.addChannelHandler(t,a),d(t)}return function(){g([]),s&&s.removeChannelHandler&&s.removeChannelHandler(u)}},[n]),t.default.createElement(l.L,{type:l.a.CAPTION_2,color:l.b.ONBACKGROUND_2},t.default.createElement(Vt,{members:m}))}Qt.propTypes={channelUrl:a.default.string.isRequired,sb:a.default.shape({ChannelHandler:a.default.func,removeChannelHandler:a.default.func,addChannelHandler:a.default.func}).isRequired,logger:a.default.shape({info:a.default.func}).isRequired};var Jt=function(a,n){var s=a.channel,l=a.user,r=a.onSendMessage,o=a.onFileUpload,i=a.renderMessageInput,u=a.isOnline,c=a.initialized,f=(0,t.useContext)(e.d).stringSet,m=!c||X(s)||Z(s)||!u,g=J(s),p=s.isBroadcast;return i?i({channel:s,user:l,disabled:m}):p&&!g?null:t.default.createElement(d.M,{placeholder:X(s)&&f.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__DISABLED||Z(s)&&f.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__MUTED,ref:n,disabled:m,onStartTyping:function(){s.startTyping()},onSendMessage:r,onFileUpload:o})},Xt=t.default.forwardRef(Jt);function Zt(){var a=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{className:"sendbird-conversation__connection-status"},t.default.createElement(l.L,{type:l.a.BODY_2,color:l.b.ONBACKGROUND_2},a.TRYING_TO_CONNECT),t.default.createElement(l.I,{type:l.c.DISCONNECTED,fillColor:l.d.SENT,height:"14px",width:"14px"}))}var $t=function(e){return(0,m.default)(e,{addSuffix:!0})},ea=function(t){if(!t||!t.getReadStatus||!t.members||2!==t.members.length)return"";var a=(0,e.c)(Object.values(t.getReadStatus())),n=a.length>0?a[0].last_seen_at:0;return 0===n?"":$t(n)},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.e;return e&&(e.name||e.members)?e.name&&"Group Channel"!==e.name?e.name:1===e.members.length?a.NO_MEMBERS:e.members.filter(function(e){return e.userId!==t}).map(function(e){return e.nickname||a.NO_NAME}).join(", "):a.NO_TITLE};function aa(a){var n=a.repeatFunc,s=(0,t.useState)(n()),l=(0,e.b)(s,2),r=l[0],o=l[1];return(0,t.useEffect)(function(){var e=setInterval(function(){r!==n()&&o(n())},1e4);return function(){clearInterval(e)}},[]),t.default.createElement("div",{className:"sendbird-repeat-text"},r)}aa.propTypes={repeatFunc:a.default.func.isRequired};var na=function(){};function sa(a){var r=a.currentGroupChannel,o=a.currentUser,i=a.title,u=a.subTitle,d=a.isActive,c=a.isMuted,f=a.showSearchIcon,m=a.onSearchClick,g=a.onActionClick,p=a.theme,h=o.userId,E=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{className:"sendbird-chat-header"},t.default.createElement("div",{className:"sendbird-chat-header__left"},t.default.createElement(s.C,{theme:p,channel:r,userId:h,height:32,width:32}),t.default.createElement(l.L,{className:"sendbird-chat-header__title",type:l.a.H_2,color:l.b.ONBACKGROUND_1},i||ta(r,h,E)),"string"==typeof d&&"true"===d||"boolean"==typeof d&&d?t.default.createElement("div",{className:"sendbird-chat-header__active"}):null,t.default.createElement(l.L,{className:"sendbird-chat-header__subtitle",type:l.a.BODY_1,color:l.b.ONBACKGROUND_2},u||t.default.createElement(aa,{repeatFunc:function(){return ea(r)}}))),t.default.createElement("div",{className:"sendbird-chat-header__right"},"string"==typeof c&&"true"===c||"boolean"==typeof c&&c?t.default.createElement(l.I,{className:"sendbird-chat-header__mute",type:l.c.NOTIFICATIONS_OFF_FILLED,width:"24px",height:"24px"}):null,f&&t.default.createElement(n.I,{className:"sendbird-chat-header__search",width:"32px",height:"32px",onClick:m},t.default.createElement(l.I,{type:l.c.SEARCH,fillColor:l.d.PRIMARY,width:"24px",height:"24px"})),t.default.createElement(n.I,{className:"sendbird-chat-header__info",width:"32px",height:"32px",onClick:g},t.default.createElement(l.I,{type:l.c.INFO,fillColor:l.d.PRIMARY,width:"24px",height:"24px"}))))}sa.propTypes={currentGroupChannel:a.default.shape({members:a.default.arrayOf(a.default.shape({})),coverUrl:a.default.string}),theme:a.default.string,currentUser:a.default.shape({userId:a.default.string}),onSearchClick:a.default.func,showSearchIcon:a.default.bool,title:a.default.string,subTitle:a.default.oneOfType([a.default.bool,a.default.string]),isActive:a.default.oneOfType([a.default.string,a.default.bool]),isMuted:a.default.oneOfType([a.default.string,a.default.bool]),onActionClick:a.default.func},sa.defaultProps={currentGroupChannel:{},title:"",theme:"light",subTitle:"",isActive:!1,onSearchClick:na,showSearchIcon:!1,isMuted:!1,currentUser:{},onActionClick:function(){}};var la=function(){},ra=function(a){var s=a.channelUrl,r=a.stores,o=r.sdkStore,i=r.userStore,u=a.config,d=u.userId,c=u.logger,f=u.pubSub,m=u.isOnline,g=u.theme,p=u.imageCompression,h=a.dispatchers.reconnect,E=a.queries,_=void 0===E?{}:E,b=a.startingPoint,M=a.highlightedMessage,N=a.useReaction,C=a.showSearchIcon,R=a.onSearchClick,y=a.renderChatItem,v=a.renderChatHeader,T=a.renderCustomMessage,I=a.renderUserProfile,O=a.disableUserProfile,S=a.renderMessageInput,A=a.useMessageGrouping,D=a.onChatHeaderActionClick,w=a.onBeforeSendUserMessage,x=a.onBeforeSendFileMessage,j=a.onBeforeUpdateUserMessage,B=o.sdk,U=a.config,k=o.error,G=o.initialized,q=i.user;_.messageListQuery&&console.warn("messageListQuery has been deprecated, please use messageListParams instead");var P=(0,t.useState)(b),F=(0,e.b)(P,2),z=F[0],H=F[1];(0,t.useEffect)(function(){H(b)},[b,s]);var K=(0,t.useState)(M),Q=(0,e.b)(K,2),J=Q[0],Z=Q[1];(0,t.useEffect)(function(){Z(M)},[M]);var $=_.messageListParams,te=(0,t.useReducer)(ge,de),se=(0,e.b)(te,2),le=se[0],re=se[1],oe=(0,t.useRef)(null),ie=le.allMessages,ue=le.loading,ce=le.initialized,fe=le.unreadCount,me=le.unreadSince,Ee=le.isInvalid,_e=le.currentGroupChannel,be=void 0===_e?{}:_e,Re=le.hasMore,De=le.lastMessageTimeStamp,je=le.hasMoreToBottom,Le=le.latestFetchedMessageTimeStamp,Be=le.emojiContainer,Ue=le.readStatus,ke=be.isFrozen,Ge=be.isBroadcast,qe=be.isSuper,Pe=B.appInfo,Fe=(void 0===Pe?{}:Pe).isUsingReaction&&!Ge&&!qe&&N,ze=O||U.disableUserProfile,He=I||U.renderUserProfile,Ke=je,Ye=(0,t.useMemo)(function(){return Fe?ae(Be):new Map},[Be]),We=(0,t.useMemo)(function(){return Fe?ee(Be):[]},[Be]),Ve=(0,t.useMemo)(function(){return Fe?ne(be.members):new Map},[be.members]),Qe=Ce({currentGroupChannel:be,lastMessageTimeStamp:De,userFilledMessageListQuery:$},{hasMore:Re,logger:c,messagesDispatcher:re,sdk:B}),Je=ye({currentGroupChannel:be,latestFetchedMessageTimeStamp:Le,userFilledMessageListQuery:$,hasMoreToBottom:je},{logger:c,messagesDispatcher:re,sdk:B}),Xe=xe({currentGroupChannel:be},{logger:c}),Ze=we({emojiContainer:Be,toggleReaction:Xe},{useReaction:Fe,logger:c,userId:d,emojiAllList:We});he({channelUrl:s,sdkInit:G},{messagesDispatcher:re,sdk:B,logger:c}),pe({currentGroupChannel:be,sdkInit:G,hasMoreToBottom:je},{messagesDispatcher:re,sdk:B,logger:c,scrollRef:oe}),Me({currentGroupChannel:be,userFilledMessageListQuery:$,intialTimeStamp:z},{sdk:B,logger:c,messagesDispatcher:re}),(0,t.useEffect)(function(){var e=V(s,f,re);return function(){W(e)}},[s,G]),Ae({allMessages:ie,currentGroupChannel:be},{messagesDispatcher:re,sdk:B,logger:c}),Ne({isOnline:m},{logger:c,sdk:B,currentGroupChannel:be,messagesDispatcher:re,userFilledMessageListQuery:$});var $e=ve({currentGroupChannel:be,messagesDispatcher:re},{logger:c}),et=Te({currentGroupChannel:be,messagesDispatcher:re,onBeforeUpdateUserMessage:j},{logger:c,sdk:B,pubSub:f}),tt=Ie({currentGroupChannel:be,messagesDispatcher:re},{logger:c}),at=Oe({currentGroupChannel:be,onBeforeSendUserMessage:w},{sdk:B,logger:c,pubSub:f,messagesDispatcher:re}),nt=(0,e.b)(at,2),st=nt[0],lt=nt[1],rt=Se({currentGroupChannel:be,onBeforeSendFileMessage:x,imageCompression:p},{sdk:B,logger:c,pubSub:f,messagesDispatcher:re}),ot=(0,e.b)(rt,1)[0];return s?Ee?t.default.createElement("div",{className:"sendbird-conversation"},t.default.createElement(l.P,{type:l.i.WRONG})):k?t.default.createElement("div",{className:"sendbird-conversation"},t.default.createElement(l.P,{type:l.i.WRONG,retryToConnect:function(){c.info("Channel: reconnecting"),h()}})):t.default.createElement(n.e,{className:"sendbird-conversation",disableUserProfile:ze,renderUserProfile:He},v?v({channel:be,user:q}):t.default.createElement(sa,{theme:g,currentGroupChannel:be,currentUser:q,showSearchIcon:C,onSearchClick:R,onActionClick:D,subTitle:be.members&&2!==be.members.length,isActive:!1,isMuted:!1}),ke&&t.default.createElement(Wt,null),fe>0&&t.default.createElement(Yt,{count:fe,onClick:function(){z?(H(null),Z(null)):(Y(),0===oe.current.scrollTop&&(be.markAsRead(),re({type:L})))},time:me}),ue?t.default.createElement("div",{className:"sendbird-conversation"},t.default.createElement(l.P,{type:l.i.LOADING})):t.default.createElement(Kt,{swapParams:B&&B.getErrorFirstCallback&&B.getErrorFirstCallback(),highLightedMessageId:J,userId:d,hasMore:Re,disabled:!m,onScroll:Qe,onScrollDown:Je,scrollRef:oe,readStatus:Ue,useReaction:Fe,allMessages:ie,emojiAllMap:Ye,membersMap:Ve,editDisabled:X(be),deleteMessage:$e,updateMessage:et,resendMessage:tt,toggleReaction:Xe,emojiContainer:Be,renderChatItem:y,showScrollBot:Ke,onClickScrollBot:function(){H(null),Z(null)},renderCustomMessage:T,useMessageGrouping:A,messagesDispatcher:re,currentGroupChannel:be,memoizedEmojiListItems:Ze}),t.default.createElement("div",{className:"sendbird-conversation__footer"},t.default.createElement(Xt,{channel:be,user:q,ref:st,onSendMessage:lt,onFileUpload:ot,renderMessageInput:S,isOnline:m,initialized:ce}),t.default.createElement("div",{className:"sendbird-conversation__typing-indicator"},t.default.createElement(Qt,{channelUrl:s,sb:B,logger:c})),!m&&t.default.createElement(Zt,{sdkInit:G,sb:B,logger:c}))):t.default.createElement("div",{className:"sendbird-conversation"},t.default.createElement(l.P,{type:l.i.NO_CHANNELS}))};exports.ConversationPanel=ra,ra.propTypes={channelUrl:a.default.string,stores:a.default.shape({sdkStore:a.default.shape({initialized:a.default.bool,sdk:a.default.shape({getErrorFirstCallback:a.default.func,removeChannelHandler:a.default.func,GroupChannel:a.default.any,ChannelHandler:a.default.any,addChannelHandler:a.default.func,UserMessageParams:a.default.any,FileMessageParams:a.default.any,getAllEmoji:a.default.func,appInfo:a.default.shape({})}),error:a.default.bool}),userStore:a.default.shape({user:a.default.shape({})})}).isRequired,dispatchers:a.default.shape({reconnect:a.default.func}).isRequired,config:a.default.shape({disableUserProfile:a.default.bool,renderUserProfile:a.default.func,userId:a.default.string.isRequired,isOnline:a.default.bool.isRequired,theme:a.default.string,logger:a.default.shape({info:a.default.func,error:a.default.func,warning:a.default.func}),pubSub:a.default.shape({subscribe:a.default.func,publish:a.default.func}),imageCompression:a.default.shape({compressionRate:a.default.number,resizingWidth:a.default.oneOfType([a.default.number,a.default.string]),resizingHeight:a.default.oneOfType([a.default.number,a.default.string])})}).isRequired,queries:a.default.shape({messageListParams:a.default.shape({includeMetaArray:a.default.bool,includeParentMessageText:a.default.bool,includeReaction:a.default.bool,includeReplies:a.default.bool,includeThreadInfo:a.default.bool,limit:a.default.number,reverse:a.default.bool,senderUserIdsFilter:a.default.arrayOf(a.default.string)})}),startingPoint:a.default.number,highlightedMessage:a.default.oneOfType([a.default.string,a.default.number]),onBeforeSendUserMessage:a.default.func,onBeforeSendFileMessage:a.default.func,onBeforeUpdateUserMessage:a.default.func,renderChatItem:a.default.oneOfType([a.default.element,a.default.func]),renderCustomMessage:a.default.func,renderMessageInput:a.default.oneOfType([a.default.element,a.default.func]),renderChatHeader:a.default.oneOfType([a.default.element,a.default.func]),showSearchIcon:a.default.bool,onSearchClick:a.default.func,onChatHeaderActionClick:a.default.func,useReaction:a.default.bool,disableUserProfile:a.default.bool,renderUserProfile:a.default.func,useMessageGrouping:a.default.bool},ra.defaultProps={channelUrl:null,queries:{},onBeforeSendUserMessage:null,onBeforeSendFileMessage:null,onBeforeUpdateUserMessage:null,startingPoint:null,highlightedMessage:null,renderChatItem:null,renderCustomMessage:null,renderMessageInput:null,renderChatHeader:null,useReaction:!0,showSearchIcon:!1,onSearchClick:la,disableUserProfile:!1,renderUserProfile:null,useMessageGrouping:!0,onChatHeaderActionClick:la};var oa=$,ia=ee,ua=te;exports.getEmojisFromEmojiContainer=ua,exports.getAllEmojisFromEmojiContainer=ia,exports.getEmojiCategoriesFromEmojiContainer=oa;var da=(0,e.w)(ra),ca=da;exports.default=ca;
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","./index-711ec843.js":"zGzG","./index-4eb938ab.js":"JmLL","./index-ad616be9.js":"X2nd","./utils-53ba1773.js":"DjaK","date-fns/format":"ZzDw","./type-0296584d.js":"xJ4h","./utils-cfdeb084.js":"ILLV","react-dom":"X9zx","./index-aeef4ba5.js":"QCm6","date-fns/isSameDay":"UmhB","./utils-d7f59026.js":"WXy6","date-fns/formatDistanceToNowStrict":"xP96"}],"WGDO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.a=l,exports.A=void 0;var e=a(require("react")),t=require("./index-ad616be9.js"),r=require("./utils-53ba1773.js");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var c=o?Object.getOwnPropertyDescriptor(e,d):null;c&&(c.get||c.set)?Object.defineProperty(a,d,c):a[d]=e[d]}return a.default=e,r&&r.set(e,a),a}var o=e.default.createContext({opened:"",setOpened:r.n}),d=o.Consumer,c=o.Provider;function i(t){var r=t.children,n=t.className,a=void 0===n?"":n,o=(0,e.useState)(""),d=o[0],i=o[1];return e.default.createElement(c,{value:{opened:d,setOpened:i}},e.default.createElement("div",{className:a},r))}function l(r){var n=r.id,a=r.renderTitle,o=r.renderContent,c=r.renderFooter,i=r.className,l=(0,e.useState)(!1),u=l[0],s=l[1];return e.default.createElement(d,null,function(r){var d=r.opened,l=r.setOpened;s(n===d);var f=function(){l(u?"":n)};return e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{id:n,role:"switch","aria-checked":!1,tabIndex:0,onKeyDown:f,className:"sendbird-accordion__panel-heder "+i,onClick:f},a(),e.default.createElement(t.I,{type:t.c.CHEVRON_RIGHT,className:["sendbird-accordion__panel-icon-right","sendbird-accordion__panel-icon--chevron",u?"sendbird-accordion__panel-icon--open":""].join(" "),height:"24px",width:"24px"})),u&&e.default.createElement("div",{className:"sendbird-accordion"},e.default.createElement("div",{className:"sendbird-accordion__list"},o()),c&&e.default.createElement("div",{className:"sendbird-accordion__footer"},c())))})}var u=i;exports.A=u;
},{"react":"HdMw","./index-ad616be9.js":"X2nd","./utils-53ba1773.js":"DjaK"}],"HQlQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./LocalizationContext-12658c38.js"),t=f(require("react")),n=o(require("prop-types")),r=require("./index-711ec843.js"),a=require("./index-4eb938ab.js"),l=require("./index-ad616be9.js"),u=require("./utils-53ba1773.js"),i=require("./LeaveChannel-2c2f8e8e.js");require("date-fns/format"),require("react-dom");var c=require("./index-5788a124.js"),s=require("./index-70190ac9.js");function o(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r}var m=function(n){var u=n.onSubmit,i=n.onCancel,s=n.channel,o=n.userId,d=n.theme,f=(0,t.useRef)(null),m=(0,t.useRef)(null),E=(0,t.useRef)(null),_=(0,t.useState)(null),p=(0,e.b)(_,2),h=p[0],b=p[1],N=(0,t.useState)(null),C=(0,e.b)(N,2),g=C[0],I=C[1],T=(0,t.useContext)(e.d).stringSet,R=s.name;return t.default.createElement(r.M,{titleText:T.MODAL__CHANNEL_INFORMATION__TITLE,submitText:T.BUTTON__SAVE,onCancel:i,onSubmit:function(){""===R||f.current.value?(u(g,f.current.value),i()):m.current.reportValidity&&m.current.reportValidity()},type:r.T.PRIMARY},t.default.createElement("form",{className:"channel-profile-form",ref:m,onSubmit:function(e){e.preventDefault()}},t.default.createElement("div",{className:"channel-profile-form__img-section"},t.default.createElement(c.I,null,T.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE),t.default.createElement("div",{className:"channel-profile-form__avatar"},h?t.default.createElement(l.A,{height:"80px",width:"80px",src:h}):t.default.createElement(a.C,{height:80,width:80,channel:s,userId:o,theme:d})),t.default.createElement("input",{ref:E,type:"file",accept:"image/gif, image/jpeg, image/png",style:{display:"none"},onChange:function(e){b(URL.createObjectURL(e.target.files[0])),I(e.target.files[0]),E.current.value=""}}),t.default.createElement(r.a,{className:"channel-profile-form__avatar-button",onClick:function(){return E.current.click()},notUnderline:!0},t.default.createElement(l.L,{type:l.a.BUTTON_1,color:l.b.PRIMARY},T.MODAL__CHANNEL_INFORMATION__UPLOAD))),t.default.createElement("div",{className:"channel-profile-form__name-section"},t.default.createElement(c.I,null,T.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME),t.default.createElement(c.a,{required:""!==R,name:"channel-profile-form__name",ref:f,value:R,placeHolder:T.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER}))))};m.propTypes={onSubmit:n.default.func.isRequired,onCancel:n.default.func.isRequired,channel:n.default.shape({name:n.default.string}).isRequired,userId:n.default.string.isRequired,theme:n.default.string.isRequired};var E=function(n){var u=n.disabled,i=n.channel,c=n.userId,s=n.theme,o=n.onChannelInfoChange,d=(0,t.useState)(!1),f=(0,e.b)(d,2),E=f[0],_=f[1],p=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{className:"sendbird-channel-profile"},t.default.createElement("div",{className:"sendbird-channel-profile--inner"},t.default.createElement("div",{className:"sendbird-channel-profile__avatar"},t.default.createElement(a.C,{channel:i,userId:c,theme:s,width:80,height:80})),t.default.createElement(l.L,{className:"sendbird-channel-profile__title",type:l.a.SUBTITLE_2,color:l.b.ONBACKGROUND_1},i&&i.name&&"Group Channel"!==i.name?i.name:!i||"Group Channel"!==i.name&&i.name?p.NO_TITLE:i.members.map(function(e){return e.nickname||p.NO_NAME}).join(", ")),t.default.createElement(r.a,{disabled:u,className:"sendbird-channel-profile__edit",onClick:function(){u||_(!0)},notUnderline:!0},t.default.createElement(l.L,{type:l.a.BUTTON_1,color:u?l.b.ONBACKGROUND_2:l.b.PRIMARY},p.CHANNEL_SETTING__PROFILE__EDIT)),E&&t.default.createElement(m,{onCancel:function(){return _(!1)},onSubmit:o,channel:i,userId:c,theme:s})))};function _(n){var a=n.hideModal,i=n.channel,s=n.currentUser,o=(0,t.useState)([]),d=o[0],f=o[1],m=(0,t.useState)(null),E=m[0],_=m[1];return(0,t.useEffect)(function(){var e=i.createMemberListQuery();e.limit=20,e.next(function(e,t){t||f(e)}),_(e)},[]),t.default.createElement("div",null,t.default.createElement(r.M,{hideFooter:!0,onCancel:function(){return a()},onSubmit:u.n,titleText:"All Members"},t.default.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(t){var n=E.hasNext,r=t.target,a=r.clientHeight+r.scrollTop===r.scrollHeight;n&&a&&E.next(function(t,n){n||f((0,e.m)(d,t))})}},d.map(function(n){return t.default.createElement(c.U,{user:n,key:n.userId,currentUser:s,action:function(a){var u=a.parentRef,c=a.actionRef;return t.default.createElement(t.default.Fragment,null,"operator"===i.myRole&&t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(r.I,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(a){return t.default.createElement(r.b,{parentContainRef:u,parentRef:c,closeDropdown:a,openLeft:!0},t.default.createElement(r.c,{onClick:function(){"operator"!==n.role?i.addOperators([n.userId],function(){f(d.map(function(t){return t.userId===n.userId?(0,e._)((0,e._)({},n),{role:"operator"}):t})),a()}):i.removeOperators([n.userId],function(){f(d.map(function(t){return t.userId===n.userId?(0,e._)((0,e._)({},n),{role:""}):t})),a()})}},"operator"!==n.role?"Promote to operator":"Demote operator"),!i.isBroadcast&&t.default.createElement(r.c,{onClick:function(){n.isMuted?i.unmuteUser(n,function(){f(d.map(function(t){return t.userId===n.userId?(0,e._)((0,e._)({},n),{isMuted:!1}):t})),a()}):i.muteUser(n,function(){f(d.map(function(t){return t.userId===n.userId?(0,e._)((0,e._)({},n),{isMuted:!0}):t})),a()})}},n.isMuted?"Unmute":"Mute"),t.default.createElement(r.c,{onClick:function(){i.banUser(n,-1,"",function(){f(d.filter(function(e){return e.userId!==n.userId}))})}},"Ban"))}}))}})}))))}E.propTypes={channel:n.default.shape({name:n.default.string,members:n.default.arrayOf(n.default.shape({nickname:n.default.string}))}).isRequired,userId:n.default.string.isRequired,theme:n.default.string,disabled:n.default.bool,onChannelInfoChange:n.default.func},E.defaultProps={theme:"light",disabled:!1,onChannelInfoChange:function(){}};var p=10,h=function(n){var a=n.member,u=void 0===a?{}:a,i=n.currentUser,c=void 0===i?"":i,s=(0,t.useRef)(null),o=(0,t.useContext)(r.f),d=o.disableUserProfile,f=o.renderUserProfile,m=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{className:"sendbird-members-accordion__member"},t.default.createElement("div",{className:"sendbird-members-accordion__member-avatar"},t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(l.A,{onClick:function(){d||e()},ref:s,src:u.profileUrl,width:24,height:24})},menuItems:function(e){return t.default.createElement(r.b,{openLeft:!0,parentRef:s,parentContainRef:s,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},f?f({user:u,currentUserId:c,close:e}):t.default.createElement(r.g,{user:u,currentUserId:c,onSuccess:e}))}})),t.default.createElement(l.L,{type:l.a.SUBTITLE_2,color:l.b.ONBACKGROUND_1},u.nickname||m.NO_NAME,c===u.userId&&m.YOU))};h.propTypes={member:n.default.shape({userId:n.default.string,profileUrl:n.default.string,nickname:n.default.string}).isRequired,currentUser:n.default.string.isRequired};var b=function(n){var a=n.channel,l=n.disabled,u=n.currentUser,c=n.userQueryCreator,s=n.onInviteMemebers,o=n.swapParams,d=a.members||[],f=(0,t.useState)(!1),m=(0,e.b)(f,2),E=m[0],b=m[1],N=(0,t.useState)(!1),C=(0,e.b)(N,2),g=C[0],I=C[1],T=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{className:"sendbird-members-accordion"},t.default.createElement("div",{className:"sendbird-members-accordion__list"},d.slice(0,p).map(function(e){return t.default.createElement(h,{member:e,currentUser:u,key:e.userId})})),t.default.createElement("div",{className:"sendbird-members-accordion__footer"},d.length>=p&&t.default.createElement(r.B,{className:"sendbird-members-accordion__footer__all-members",type:r.T.SECONDARY,size:r.l.SMALL,onClick:function(){return b(!0)}},T.CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS),d.length>=p&&E&&t.default.createElement(_,{currentUser:u,hideModal:function(){b(!1)},channel:a}),t.default.createElement(r.B,{className:"sendbird-members-accordion__footer__invite-users",type:r.T.SECONDARY,size:r.l.SMALL,disabled:l,onClick:function(){l||I(!0)}},T.CHANNEL_SETTING__MEMBERS__INVITE_MEMBER),g&&t.default.createElement(i.I,{swapParams:o,titleText:T.MODAL__INVITE_MEMBER__TITLE,submitText:T.BUTTON__INVITE,closeModal:function(){return I(!1)},idsToFilter:d.map(function(e){return e.userId}),userQueryCreator:c,onSubmit:s})))};b.propTypes={swapParams:n.default.bool,disabled:n.default.bool,channel:n.default.shape({members:n.default.arrayOf(n.default.shape({}))}),currentUser:n.default.string,userQueryCreator:n.default.func.isRequired,onInviteMemebers:n.default.func.isRequired},b.defaultProps={swapParams:!1,currentUser:"",disabled:!1,channel:{}};var N="sendbird-user-list-item--small",C=function(n){var a=n.user,u=n.className,i=n.currentUser,s=n.action,o=(0,t.useRef)(null),d=(0,t.useRef)(null),f=(0,t.useRef)(null),m=(0,t.useContext)(e.d).stringSet,E=(0,t.useContext)(r.f),_=E.disableUserProfile,p=E.renderUserProfile,h=Array.isArray(u)?u:[u];return t.default.createElement("div",{ref:d,className:(0,e.m)([N],h).join(" ")},a.isMuted&&t.default.createElement(c.M,null),t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(l.A,{onClick:function(){_||e()},ref:f,className:N+"__avatar",src:a.profileUrl,width:24,height:24})},menuItems:function(e){return t.default.createElement(r.b,{openLeft:!0,parentRef:f,parentContainRef:f,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},p?p({user:a,currentUserId:i,close:e}):t.default.createElement(r.g,{user:a,currentUserId:i,onSuccess:e}))}}),t.default.createElement(l.L,{className:N+"__title",type:l.a.SUBTITLE_1,color:l.b.ONBACKGROUND_1},a.nickname||m.NO_NAME,i===a.userId&&" (You)"),!a.nickname&&t.default.createElement(l.L,{className:N+"__subtitle",type:l.a.CAPTION_3,color:l.b.ONBACKGROUND_2},a.userId),"operator"===a.role&&t.default.createElement(l.L,{className:N+"__operator",type:l.a.SUBTITLE_2,color:l.b.ONBACKGROUND_2},"Operator"),s&&t.default.createElement("div",{ref:o,className:N+"__action"},s({actionRef:o,parentRef:d})))};function g(n){var a=n.hideModal,i=n.channel,s=n.currentUser,o=(0,t.useState)([]),d=o[0],f=o[1],m=(0,t.useState)(null),E=m[0],_=m[1];return(0,t.useEffect)(function(){var e=i.createOperatorListQuery();e.limit=20,e.next(function(e,t){t||f(e)}),_(e)},[]),t.default.createElement("div",null,t.default.createElement(r.M,{hideFooter:!0,onCancel:function(){return a()},onSubmit:u.n,titleText:"All operators"},t.default.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(t){var n=E.hasNext,r=t.target,a=r.clientHeight+r.scrollTop===r.scrollHeight;n&&a&&E.next(function(t,n){n||f((0,e.m)(d,t))})}},d.map(function(e){return t.default.createElement(c.U,{currentUser:s,user:e,key:e.userId,action:function(n){var a=n.parentRef,u=n.actionRef;return t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(r.I,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(n){return t.default.createElement(r.b,{parentContainRef:a,parentRef:u,closeDropdown:n,openLeft:!0},t.default.createElement(r.c,{onClick:function(){i.removeOperators([e.userId],function(t,n){n||f(d.filter(function(t){return t.userId!==e.userId}))}),n()}},"Dismiss operator"))}})}})}))))}function I(n){var a=n.hideModal,u=n.channel,i=n.onSubmit,s=(0,t.useState)([]),o=s[0],d=s[1],f=(0,t.useState)({}),m=f[0],E=f[1],_=(0,t.useState)(null),p=_[0],h=_[1],b=(0,t.useContext)(e.d).stringSet;(0,t.useEffect)(function(){var e=u.createMemberListQuery();e.limit=20,e.next(function(e,t){t||d(e)}),h(e)},[]);var N=Object.keys(m).filter(function(e){return m[e]}).length;return t.default.createElement("div",null,t.default.createElement(r.M,{type:r.T.PRIMARY,submitText:"Add",onCancel:function(){return a()},onSubmit:function(){var e=Object.keys(m).filter(function(e){return m[e]});i(e)},titleText:"Select members"},t.default.createElement(l.L,{color:N>0?l.b.PRIMARY:l.b.ONBACKGROUND_3,type:l.a.CAPTION_1},N+" "+b.MODAL__INVITE_MEMBER__SELECTEC),t.default.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(t){var n=p.hasNext,r=t.target,a=r.clientHeight+r.scrollTop===r.scrollHeight;n&&a&&p.next(function(t,n){n||d((0,e.m)(o,t))})}},o.map(function(n){return t.default.createElement(c.U,{checkBox:!0,checked:m[n.userId],onChange:function(t){var n,r=(0,e._)((0,e._)({},m),((n={})[t.target.id]=t.target.checked,n));t.target.checked||delete r[t.target.id],E(r)},user:n,key:n.userId})}))))}var T=function(n){var a=n.sdk,u=n.channel,i=(0,t.useState)([]),c=i[0],s=i[1],o=(0,t.useState)(!1),d=o[0],f=o[1],m=(0,t.useState)(!1),E=m[0],_=m[1],p=(0,t.useState)(!1),h=p[0],b=p[1],N=(0,t.useContext)(e.d).stringSet;(0,t.useEffect)(function(){if(u){var e=u.createOperatorListQuery();e.limit=10,e.next(function(t,n){n||(s(t),b(e.hasNext))})}else s([])},[u]);var T=(0,t.useCallback)(function(){if(u){var e=u.createOperatorListQuery();e.limit=10,e.next(function(t,n){n||(s(t),b(e.hasNext))})}else s([])},[u]);return t.default.createElement(t.default.Fragment,null,c.map(function(e){return t.default.createElement(C,{key:e.userId,user:e,currentUser:a.currentUser.userId,action:function(n){var a=n.actionRef,i=n.parentRef;return t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(r.I,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(n){return t.default.createElement(r.b,{parentContainRef:i,parentRef:a,closeDropdown:n,openLeft:!0},t.default.createElement(r.c,{onClick:function(){u.removeOperators([e.userId],function(t,n){n||s(c.filter(function(t){return t.userId!==e.userId}))}),n()}},"Dismiss operator"))}})}})}),h&&t.default.createElement("div",{className:"sendbird-channel-settings-accordion__footer"},t.default.createElement(r.B,{type:r.T.SECONDARY,size:r.l.SMALL,onClick:function(){f(!0)}},N.CHANNEL_SETTING__OPERATORS__TITLE_ALL),t.default.createElement(r.B,{type:r.T.SECONDARY,size:r.l.SMALL,onClick:function(){_(!0)}},N.CHANNEL_SETTING__OPERATORS__TITLE_ADD)),d&&t.default.createElement(g,{currentUser:a.currentUser.userId,hideModal:function(){f(!1),T()},channel:u}),E&&t.default.createElement(I,{hideModal:function(){return _(!1)},channel:u,onSubmit:function(e){_(!1),u.addOperators(e,function(){T()})}}))},R=function(e){return{sdk:(0,r.n)(e)}},S=(0,e.w)(T,R);function v(n){var a=n.hideModal,l=n.userQueryCreator,u=n.onSubmit,i=(0,t.useState)([]),s=i[0],o=i[1],d=(0,t.useState)({}),f=d[0],m=d[1],E=(0,t.useState)(null),_=E[0],p=E[1];return(0,t.useEffect)(function(){var e=l();e.limit=20,e.next(function(e,t){t||o(e)}),p(e)},[]),t.default.createElement("div",null,t.default.createElement(r.M,{disabled:0===Object.keys(f).length,submitText:"Invite",type:r.T.PRIMARY,onCancel:function(){return a()},onSubmit:function(){var e=Object.keys(f).filter(function(e){return f[e]});u(e)},titleText:"Select members"},t.default.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(t){var n=_.hasNext,r=t.target,a=r.clientHeight+r.scrollTop===r.scrollHeight;n&&a&&_.next(function(t,n){n||o((0,e.m)(s,t))})}},s.map(function(n){return t.default.createElement(c.U,{checkBox:!0,checked:f[n.userId],onChange:function(t){var n,r=(0,e._)((0,e._)({},f),((n={})[t.target.id]=t.target.checked,n));t.target.checked||delete r[t.target.id],m(r)},user:n,key:n.userId})}))))}var L=function(e){var n=e.sdk,a=e.channel,u=e.userQueryCreator,i=e.userId,c=(0,t.useState)([]),s=c[0],o=c[1],d=(0,t.useState)(!1),f=d[0],m=d[1],E=(0,t.useState)(!1),p=E[0],h=E[1],b=(0,t.useState)(!1),N=b[0],g=b[1];(0,t.useEffect)(function(){if(a){var e=a.createMemberListQuery();e.limit=10,e.next(function(t,n){n||(o(t),m(e.hasNext))})}else o([])},[a]);var I=(0,t.useCallback)(function(){if(a){var e=a.createMemberListQuery();e.limit=10,e.next(function(t,n){n||(o(t),m(e.hasNext))})}else o([])},[a]);return t.default.createElement(t.default.Fragment,null,s.map(function(e){return t.default.createElement(C,{key:e.userId,user:e,currentUser:n.currentUser.userId,action:i!==e.userId?function(n){var u=n.actionRef,i=n.parentRef;return t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(r.I,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(n){return t.default.createElement(r.b,{parentContainRef:i,parentRef:u,closeDropdown:n,openLeft:!0},t.default.createElement(r.c,{onClick:function(){"operator"!==e.role?a.addOperators([e.userId],function(){I(),n()}):a.removeOperators([e.userId],function(){I(),n()})}},"operator"!==e.role?"Promote to operator":"Demote operator"),!a.isBroadcast&&t.default.createElement(r.c,{onClick:function(){e.isMuted?a.unmuteUser(e,function(){I(),n()}):a.muteUser(e,function(){I(),n()})}},e.isMuted?"Unmute":"Mute"),t.default.createElement(r.c,{onClick:function(){a.banUser(e,-1,"",function(){I(),n()})}},"Ban"))}})}:null})}),t.default.createElement("div",{className:"sendbird-channel-settings-accordion__footer"},f&&t.default.createElement(r.B,{type:r.T.SECONDARY,size:r.l.SMALL,onClick:function(){return h(!0)}},"All members"),t.default.createElement(r.B,{type:r.T.SECONDARY,size:r.l.SMALL,onClick:function(){return g(!0)}},"Invite members")),p&&t.default.createElement(_,{currentUser:n.currentUser.userId,channel:a,hideModal:function(){h(!1),I()}}),N&&t.default.createElement(v,{userQueryCreator:u,onSubmit:function(e){a.inviteWithUserIds(e,function(){g(!1),I()})},channel:a,hideModal:function(){return g(!1)}}))},y=function(e){return{sdk:(0,r.n)(e)}},O=(0,e.w)(L,y);function M(n){var a=n.hideModal,i=n.channel,s=(0,t.useState)([]),o=s[0],d=s[1],f=(0,t.useState)(null),m=f[0],E=f[1];return(0,t.useEffect)(function(){var e=i.createBannedUserListQuery();e.next(function(e,t){t||d(e)}),E(e)},[]),t.default.createElement("div",null,t.default.createElement(r.M,{hideFooter:!0,onCancel:function(){return a()},onSubmit:u.n,titleText:"Muted members"},t.default.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(t){var n=m.hasNext,r=t.target,a=r.clientHeight+r.scrollTop===r.scrollHeight;n&&a&&m.next(function(t,n){n||d((0,e.m)(o,t))})}},o.map(function(e){return t.default.createElement(c.U,{user:e,key:e.userId,action:function(n){var a=n.parentRef,u=n.actionRef;return t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(r.I,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(n){return t.default.createElement(r.b,{parentContainRef:a,parentRef:u,closeDropdown:n,openLeft:!0},t.default.createElement(r.c,{onClick:function(){i.unbanUser(e,function(){n(),d(o.filter(function(t){return t.userId!==e.userId}))})}},"Unban"))}})}})}))))}var U=function(e){var n=e.channel,a=(0,t.useState)([]),u=a[0],i=a[1],c=(0,t.useState)(!1),s=c[0],o=c[1],d=(0,t.useState)(!1),f=d[0],m=d[1];(0,t.useEffect)(function(){if(n){var e=n.createBannedUserListQuery();e.next(function(t,n){n||(i(t),o(e.hasNext))})}else i([])},[n]);var E=(0,t.useCallback)(function(){if(n){var e=n.createBannedUserListQuery();e.next(function(t,n){n||(i(t),o(e.hasNext))})}else i([])},[n]);return t.default.createElement(t.default.Fragment,null,u.map(function(e){return t.default.createElement(C,{key:e.userId,user:e,action:function(a){var u=a.actionRef,i=a.parentRef;return t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(r.I,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(a){return t.default.createElement(r.b,{parentContainRef:i,parentRef:u,closeDropdown:a,openLeft:!0},t.default.createElement(r.c,{onClick:function(){n.unbanUser(e,function(){a(),E()})}},"Unban"))}})}})}),u&&0===u.length&&t.default.createElement(l.L,{className:"sendbird-channel-settings__empty-list",type:l.a.SUBTITLE_2,color:l.b.ONBACKGROUND_3},"No banned members yet"),s&&t.default.createElement("div",{className:"sendbird-channel-settings-accordion__footer"},t.default.createElement(r.B,{type:r.T.SECONDARY,size:r.l.SMALL,onClick:function(){m(!0)}},"All banned members")),f&&t.default.createElement(M,{channel:n,hideModal:function(){m(!1),E()}}))},A=function(e){return{sdk:(0,r.n)(e)}},x=(0,e.w)(U,A);function k(n){var a=n.hideModal,i=n.channel,s=n.currentUser,o=(0,t.useState)([]),d=o[0],f=o[1],m=(0,t.useState)(null),E=m[0],_=m[1];return(0,t.useEffect)(function(){var e=i.createMemberListQuery();e.limit=10,e.mutedMemberFilter="muted",e.next(function(e,t){t||f(e)}),_(e)},[]),t.default.createElement("div",null,t.default.createElement(r.M,{hideFooter:!0,onCancel:function(){return a()},onSubmit:u.n,titleText:"Muted members"},t.default.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(t){var n=E.hasNext,r=t.target,a=r.clientHeight+r.scrollTop===r.scrollHeight;n&&a&&E.next(function(t,n){n||f((0,e.m)(d,t))})}},d.map(function(e){return t.default.createElement(c.U,{currentUser:s,user:e,key:e.userId,action:function(n){var a=n.actionRef,u=n.parentRef;return t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(r.I,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(n){return t.default.createElement(r.b,{parentContainRef:u,parentRef:a,closeDropdown:n,openLeft:!0},t.default.createElement(r.c,{onClick:function(){i.unmuteUser(e,function(){n(),f(d.filter(function(t){return t.userId!==e.userId}))})}},"Unmute"))}})}})}))))}var B=function(e){var n=e.sdk,a=e.channel,u=(0,t.useState)([]),i=u[0],c=u[1],s=(0,t.useState)(!1),o=s[0],d=s[1],f=(0,t.useState)(!1),m=f[0],E=f[1];(0,t.useEffect)(function(){if(a){var e=a.createMemberListQuery();e.limit=10,e.mutedMemberFilter="muted",e.next(function(t,n){n||(c(t),d(e.hasNext))})}else c([])},[a]);var _=(0,t.useCallback)(function(){if(a){var e=a.createMemberListQuery();e.limit=10,e.mutedMemberFilter="muted",e.next(function(t,n){n||(c(t),d(e.hasNext))})}else c([])},[a]);return t.default.createElement(t.default.Fragment,null,i.map(function(e){return t.default.createElement(C,{key:e.userId,user:e,currentUser:n.currentUser.userId,action:function(n){var u=n.actionRef,i=n.parentRef;return t.default.createElement(r.C,{menuTrigger:function(e){return t.default.createElement(r.I,{className:"sendbird-user-message__more__menu",width:"32px",height:"32px",onClick:e},t.default.createElement(l.I,{width:"24px",height:"24px",type:l.c.MORE,fillColor:l.d.CONTENT_INVERSE}))},menuItems:function(n){return t.default.createElement(r.b,{closeDropdown:n,openLeft:!0,parentContainRef:i,parentRef:u},t.default.createElement(r.c,{onClick:function(){a.unmuteUser(e,function(){_(),n()})}},"Unmute"))}})}})}),i&&0===i.length&&t.default.createElement(l.L,{className:"sendbird-channel-settings__empty-list",type:l.a.SUBTITLE_2,color:l.b.ONBACKGROUND_3},"No muted members yet"),o&&t.default.createElement("div",{className:"sendbird-channel-settings-accordion__footer"},t.default.createElement(r.B,{type:r.T.SECONDARY,size:r.l.SMALL,onClick:function(){E(!0)}},"All muted members")),m&&t.default.createElement(k,{currentUser:n.currentUser.userId,channel:a,hideModal:function(){E(!1),_()}}))},w=function(e){return{sdk:(0,r.n)(e)}},D=(0,e.w)(B,w),P=function(e){return Math.abs(e)>999?(Math.abs(e)/1e3).toFixed(1)+"K":e};function F(n){var r=n.userQueryCreator,a=n.channel,u=n.userId,c=(0,t.useState)(!1),o=c[0],d=c[1];(0,t.useEffect)(function(){d(a.isFrozen)},[a]);var f=(0,t.useContext)(e.d).stringSet;return t.default.createElement(s.A,{className:"sendbird-channel-settings__operator"},t.default.createElement(s.a,{className:"sendbird-channel-settings__operators-list",id:"operators",renderTitle:function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement(l.I,{type:l.c.OPERATOR,fillColor:l.d.PRIMARY,width:24,height:24,className:"sendbird-channel-settings__accordion-icon"}),t.default.createElement(l.L,{type:l.a.SUBTITLE_1,color:l.b.ONBACKGROUND_1},f.CHANNEL_SETTING__OPERATORS__TITLE))},renderContent:function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement(S,{channel:a}))}}),t.default.createElement(s.a,{className:"sendbird-channel-settings__members-list",id:"members",renderTitle:function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement(l.I,{type:l.c.MEMBERS,fillColor:l.d.PRIMARY,width:24,height:24,className:"sendbird-channel-settings__accordion-icon"}),t.default.createElement(l.L,{type:l.a.SUBTITLE_1,color:l.b.ONBACKGROUND_1},f.CHANNEL_SETTING__MEMBERS__TITLE),t.default.createElement(i.B,{count:P(a.memberCount)}))},renderContent:function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement(O,{userQueryCreator:r,channel:a,userId:u}))}}),!a.isBroadcast&&t.default.createElement(s.a,{id:"mutedMembers",className:"sendbird-channel-settings__muted-members-list",renderTitle:function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement(l.I,{type:l.c.MUTE,fillColor:l.d.PRIMARY,width:24,height:24,className:"sendbird-channel-settings__accordion-icon"}),t.default.createElement(l.L,{type:l.a.SUBTITLE_1,color:l.b.ONBACKGROUND_1},f.CHANNEL_SETTING__MUTED_MEMBERS__TITLE))},renderContent:function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement(D,{channel:a}))}}),t.default.createElement(s.a,{className:"sendbird-channel-settings__banned-members-list",id:"bannedMembers",renderTitle:function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement(l.I,{type:l.c.BAN,fillColor:l.d.PRIMARY,width:24,height:24,className:"sendbird-channel-settings__accordion-icon"}),t.default.createElement(l.L,{type:l.a.SUBTITLE_1,color:l.b.ONBACKGROUND_1},f.CHANNEL_SETTING__BANNED_MEMBERS__TITLE))},renderContent:function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement(x,{channel:a}))}}),!a.isBroadcast&&t.default.createElement("div",{className:"sendbird-channel-settings__freeze"},t.default.createElement(l.I,{type:l.c.FREEZE,fillColor:l.d.PRIMARY,width:24,height:24,className:"sendbird-channel-settings__accordion-icon"}),t.default.createElement(l.L,{type:l.a.SUBTITLE_1,color:l.b.ONBACKGROUND_1},f.CHANNEL_SETTING__FREEZE_CHANNEL),t.default.createElement("div",{className:"sendbird-channel-settings__frozen-icon"},o?t.default.createElement(l.I,{onClick:function(){a.unfreeze(function(){d(!1)})},type:l.c.TOGGLE_ON,fillColor:l.d.PRIMARY,width:44,height:24}):t.default.createElement(l.I,{onClick:function(){a.freeze(function(){d(!0)})},type:l.c.TOGGLE_OFF,fillColor:l.d.PRIMARY,width:44,height:24}))))}var G="sendbird-channel-settings",H=function(e){return Math.abs(e)>999?"".concat((Math.abs(e)/1e3).toFixed(1),"K"):e};function q(n){var a=n.className,u=n.onCloseClick,c=n.channelUrl,s=n.disableUserProfile,o=n.renderUserProfile,d=n.onChannelModified,f=n.renderChannelProfile,m=n.onBeforeUpdateChannel,_=n.stores.sdkStore,p=n.config,h=p.userListQuery,N=p.theme,C=p.userId,g=p.logger,I=p.isOnline,T=n.queries,R=void 0===T?{}:T,S=n.config,v=void 0===S?{}:S,L=s||v.disableUserProfile,y=o||v.renderUserProfile,O=R.applicationUserListQuery,M=(0,t.useContext)(e.d).stringSet,U=_.sdk,A=_.initialized,x=(0,t.useState)((0,e.u)()),k=(0,e.b)(x,2),B=k[0],w=k[1],D=(0,t.useState)(null),P=(0,e.b)(D,2),q=P[0],Q=P[1],j=(0,t.useState)(!1),Y=(0,e.b)(j,2),K=Y[0],V=Y[1],z=(0,t.useState)(!1),W=(0,e.b)(z,2),Z=W[0],J=W[1],X=(0,t.useState)(!1),$=(0,e.b)(X,2),ee=$[0],te=$[1],ne=(Array.isArray(a)?[G].concat((0,e.c)(a)):[G,a]).join(" ");return(0,t.useEffect)(function(){if(g.info("ChannelSettings: Setting up"),c&&A&&U){if(!U||!U.GroupChannel)return void g.warning("ChannelSettings: No GroupChannel");U.GroupChannel.getChannel(c,function(e){e?(g.info("ChannelSettings: Fetched group channel",e),V(!1),Q(e)):(g.warning("ChannelSettings: Channel not found"),V(!0))})}else g.warning("ChannelSettings: Setting up failed","No channelUrl or sdk uninitialized"),V(!1)},[c,A,B]),!q||K?t.default.createElement("div",{className:ne},t.default.createElement("div",{className:"sendbird-channel-settings__header"},t.default.createElement(l.L,{type:l.a.H_2,color:l.b.ONBACKGROUND_1},M.CHANNEL_SETTING__HEADER__TITLE),t.default.createElement(l.I,{type:l.c.CLOSE,className:"sendbird-channel-settings__close-icon",height:"24px",width:"24px",onClick:function(){g.info("ChannelSettings: Click close"),u()}})),t.default.createElement("div",null,t.default.createElement(l.P,{type:l.f.WRONG}))):t.default.createElement(r.e,{className:ne,disableUserProfile:L,renderUserProfile:y},t.default.createElement("div",{className:"sendbird-channel-settings__header"},t.default.createElement(l.L,{type:l.a.H_2,color:l.b.ONBACKGROUND_1},M.CHANNEL_SETTING__HEADER__TITLE),t.default.createElement("div",{className:"sendbird-channel-settings__header-icon"},t.default.createElement(r.I,{width:"32px",height:"32px",onClick:function(){g.info("ChannelSettings: Click close"),u()}},t.default.createElement(l.I,{type:l.c.CLOSE,className:"sendbird-channel-settings__close-icon",height:"22px",width:"22px"})))),t.default.createElement("div",{className:"sendbird-channel-settings__scroll-area"},f?f({channel:q}):t.default.createElement(E,{disabled:!I,channel:q,userId:C,theme:N,onChannelInfoChange:function(t,n){g.info("ChannelSettings: Channel information being updated");var r=U.getErrorFirstCallback();if(m){var a=m(n,t,q.data);q.updateChannel(a,function(t,n){var a=t;r&&(a=n),d(a),w((0,e.u)())})}else q.updateChannel(n,t,q.data,function(t,n){var a=t;r&&(a=n),g.info("ChannelSettings: Channel information updated",a),d(a),w((0,e.u)())})}}),"operator"===q.myRole?t.default.createElement(F,{channel:q,userId:C,onChannelModified:function(e){d(e)},userQueryCreator:function(){return h&&"function"==typeof h?h():(0,i.c)({sdk:U,userFilledApplicationUserListQuery:O})}}):t.default.createElement(t.default.Fragment,null,t.default.createElement("div",{role:"switch","aria-checked":Z,tabIndex:0,onKeyDown:function(){return J(!Z)},className:"\n                    sendbird-channel-settings__panel-item\n                    sendbird-channel-settings__members\n                  ",onClick:function(){return J(!Z)}},t.default.createElement(l.I,{type:l.c.MEMBERS,className:"sendbird-channel-settings__panel-icon-left",height:"24px",width:"24px",fillColor:l.d.PRIMARY}),t.default.createElement(l.L,{type:l.a.SUBTITLE_1,color:l.b.ONBACKGROUND_1},"".concat(M.CHANNEL_SETTING__MEMBERS__TITLE),t.default.createElement(i.B,{count:H(q.memberCount)})),t.default.createElement(l.I,{type:l.c.CHEVRON_RIGHT,className:["sendbird-channel-settings__panel-icon-right","sendbird-channel-settings__panel-icon--chevron",Z?"sendbird-channel-settings__panel-icon--open":""].join(" "),height:"24px",width:"24px"})),Z&&t.default.createElement(b,{currentUser:C,disabled:!I,userQueryCreator:function(){return h&&"function"==typeof h?h():(0,i.c)({sdk:U,userFilledApplicationUserListQuery:O})},swapParams:U&&U.getErrorFirstCallback&&U.getErrorFirstCallback(),channel:q,members:q.members,onInviteMemebers:function(t){g.info("ChannelSettings: Inviting new users"),q.inviteWithUserIds(t).then(function(t){d(t),w((0,e.u)()),g.info("ChannelSettings: Inviting new users success!",t)})}})),t.default.createElement("div",{className:"sendbird-channel-settings__panel-item\n              sendbird-channel-settings__leave-channel\n              ".concat(I?"":"sendbird-channel-settings__panel-item__disabled"),role:"button",tabIndex:0,disabled:!0,onKeyDown:function(){I&&te(!0)},onClick:function(){I&&te(!0)}},t.default.createElement(l.I,{className:["sendbird-channel-settings__panel-icon-left","sendbird-channel-settings__panel-icon__leave"].join(" "),type:l.c.LEAVE,fillColor:l.d.ERROR,height:"24px",width:"24px"}),t.default.createElement(l.L,{type:l.a.SUBTITLE_1,color:l.b.ONBACKGROUND_1},M.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE)),ee&&t.default.createElement(i.L,{onCloseModal:function(){return te(!1)},onLeaveChannel:function(){g.info("ChannelSettings: Leaving channel",q),q.leave().then(function(){g.info("ChannelSettings: Leaving channel successful!",q),u()})}})))}q.propTypes={className:n.default.oneOfType([n.default.string,n.default.arrayOf(n.default.string)]),onCloseClick:n.default.func,onChannelModified:n.default.func,onBeforeUpdateChannel:n.default.func,renderChannelProfile:n.default.oneOfType([n.default.element,n.default.func]),disableUserProfile:n.default.bool,renderUserProfile:n.default.func,channelUrl:n.default.string.isRequired,queries:n.default.shape({applicationUserListQuery:n.default.shape({limit:n.default.number,userIdsFilter:n.default.arrayOf(n.default.string),metaDataKeyFilter:n.default.string,metaDataValuesFilter:n.default.arrayOf(n.default.string)})}),stores:n.default.shape({sdkStore:n.default.shape({sdk:n.default.shape({getErrorFirstCallback:n.default.func,GroupChannel:n.default.oneOfType([n.default.shape({getChannel:n.default.func}),n.default.func]),createApplicationUserListQuery:n.default.any}),initialized:n.default.bool})}).isRequired,config:n.default.shape({userId:n.default.string,theme:n.default.string,userListQuery:n.default.func,isOnline:n.default.bool,logger:n.default.shape({info:n.default.func,error:n.default.func,warning:n.default.func})}).isRequired},q.defaultProps={className:"",onBeforeUpdateChannel:null,queries:{},disableUserProfile:!1,renderUserProfile:null,renderChannelProfile:null,onCloseClick:function(){},onChannelModified:function(){}};var Q=(0,e.w)(q),j=Q;exports.default=j;
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","./index-711ec843.js":"zGzG","./index-4eb938ab.js":"JmLL","./index-ad616be9.js":"X2nd","./utils-53ba1773.js":"DjaK","./LeaveChannel-2c2f8e8e.js":"ZFXd","date-fns/format":"ZzDw","react-dom":"X9zx","./index-5788a124.js":"YNuJ","./index-70190ac9.js":"WGDO"}],"uNIo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./LocalizationContext-12658c38.js"),a=i(require("react"));require("prop-types");var t=require("./index-ad616be9.js"),s=l(require("date-fns/isToday")),r=l(require("date-fns/format")),n=l(require("date-fns/isYesterday"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:a})(e)}function i(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(a);if(t&&t.has(e))return t.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=r?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(s,n,l):s[n]=e[n]}return s.default=e,t&&t.set(e,s),s}var u="GET_SEARCHED_MESSAGES",d="GET_NEXT_SEARCHED_MESSAGES",o="START_MESSAGE_SEARCH",m="START_GETTING_SEARCHED_MESSAGES",g="SET_QUERY_INVALID",f="SET_CURRENT_CHANNEL",h="CHANNEL_INVALID";function _(a,t){switch(t.type){case f:var s=t.payload;return(0,e._)((0,e._)({},a),{currentChannel:s,initialized:!0});case h:return(0,e._)((0,e._)({},a),{currentChannel:null,initialized:!1});case u:var r=t.payload,n=r.messages,l=r.createdQuery;return l&&l.channelUrl===a.currentMessageSearchQuery.channelUrl&&l.key===a.currentMessageSearchQuery.key?(0,e._)((0,e._)({},a),{loading:!1,isInvalid:!1,allMessages:(0,e.m)(n),hasMoreResult:a.currentMessageSearchQuery.hasNext}):(0,e._)({},a);case g:return(0,e._)((0,e._)({},a),{isInvalid:!0});case o:return(0,e._)((0,e._)({},a),{isInvalid:!1,loading:!1});case m:var c=t.payload;return(0,e._)((0,e._)({},a),{loading:!0,currentMessageSearchQuery:c});case d:n=t.payload;return(0,e._)((0,e._)({},a),{allMessages:(0,e.m)(a.allMessages,n),hasMoreResult:a.currentMessageSearchQuery.hasNext});default:return a}}var p={allMessages:[],loading:!1,isInvalid:!1,initialized:!1,currentChannel:null,currentMessageSearchQuery:null,hasMoreResult:!1};function y(e,t){var s=e.channelUrl,r=e.sdkInit,n=t.sdk,l=t.logger,c=t.messageSearchDispathcer;(0,a.useEffect)(function(){s&&r&&n&&(n.OpenChannel||n.GroupChannel)&&n.GroupChannel.getChannel(s,function(e,a){a?c({type:h,payload:null}):(l.info("MessageSearch | useSetChannel group channel",e),c({type:f,payload:e}))})},[s,r])}function S(t,s){var r=t.currentChannel,n=t.channelUrl,l=t.searchString,c=t.messageSearchQuery,i=t.onResultLoaded,d=t.retryCount,f=s.sdk,h=s.logger,_=s.messageSearchDispathcer;(0,a.useEffect)(function(){if(_({type:o,payload:null}),f&&n&&f.createMessageSearchQuery&&r)if(l){var a=(0,e._)((0,e._)({},c),{channelUrl:n,messageTimestampFrom:r.invitedAt}),t=f.createMessageSearchQuery(l,a);t.next(function(e,a){a?(h.warning("MessageSearch | useGetSearchedMessages: getting failed",a),_({type:g,payload:null}),i&&"function"==typeof i&&i(null,a)):(h.info("MessageSearch | useGetSearchedMessages: succeeded getting messages",e),_({type:u,payload:{messages:e,createdQuery:t}}),i&&"function"==typeof i&&i(e,null))}),_({type:m,payload:t})}else h.info("MessageSearch | useGetSeasrchedMessages: search string is empty")},[n,c,l,r,d])}function E(e,t){var s=e.currentMessageSearchQuery,r=e.hasMoreResult,n=e.onResultLoaded,l=t.logger,c=t.messageSearchDispathcer;return(0,a.useCallback)(function(e){r||l.warning("MessageSearch | useScrollCallback: no more searched results",r),s&&s.hasNext?s.next(function(a,t){t?(l.warning("MessageSearch | useScrollCallback: failed getting searched messages",t),e(null,t),n&&"function"==typeof n&&n(null,t)):(l.info("MessageSearch | useScrollCallback: succeeded getting searched messages",a),c({type:d,payload:a}),e(a,null),n&&"function"==typeof n&&n(a,null))}):l.warning("MessageSearch | useScrollCallback: no currentMessageSearchQuery")},[s,r])}var N=function(e){return e?(0,s.default)(e)?(0,r.default)(e,"p"):(0,n.default)(e)?"Yesterday":(0,r.default)(e,"MMM dd"):""};function M(s){var r=s.className,n=s.message,l=s.onClick,c=s.selected,i=n.createdAt,u=n.message,d=n.sender||n._sender,o=d.profileUrl,m=d.nickname,g=(0,a.useContext)(e.d).stringSet,f=Array.isArray(r)?r:[r];return f.push("sendbird-message-search-item"),c&&f.push("sendbird-message-search-item--selected"),a.default.createElement("div",{className:f.join(" "),onClick:function(e){e.stopPropagation(),l(n)}},a.default.createElement("div",{className:"sendbird-message-search-item__left"},a.default.createElement(t.A,{className:"sendbird-message-search-item__left__sender-avatar",src:o,alt:"profile image",width:"56px",height:"56px"})),a.default.createElement("div",{className:"sendbird-message-search-item__right"},a.default.createElement(t.L,{className:"sendbird-message-search-item__right__sender-name",type:t.a.SUBTITLE_2,color:t.b.ONBACKGROUND_1},m||g.NO_NAME),a.default.createElement(t.L,{className:"sendbird-message-search-item__right__message-text",type:t.a.BODY_2,color:t.b.ONBACKGROUND_3},u),a.default.createElement(t.L,{className:"sendbird-message-search-item__right__message-created-at",type:t.a.CAPTION_3,color:t.b.ONBACKGROUND_2},N(i))),a.default.createElement("div",{className:"sendbird-message-search-item__right-footer"}))}function C(e){return e?(0,s.default)(e)?(0,r.default)(e,"p"):(0,n.default)(e)?"Yesterday":(0,r.default)(e,"MMM dd"):""}function v(e){var a=e.plainUrl,s=e.url,r=(a||s).match(/\.([^.]*?)(?=\?|#|$)/)[1];return/(jpg|jpeg|png)$/i.test(r)?t.c.PHOTO:/mp4$/i.test(r)?t.c.PLAY:/mp3/i.test(r)?t.c.FILE_AUDIO:/gif/i.test(r)?t.c.GIF:t.c.FILE_DOCUMENT}function b(e,a){if(e.length<=a)return e;var t=a-"...".length,s=Math.ceil(t/2),r=Math.floor(t/2);return e.substr(0,s)+"..."+e.substr(e.length-r)}function A(s){var r=s.className,n=s.message,l=s.onClick,c=s.selected,i=n.createdAt,u=n.plainUrl,d=n.url,o=n.name,m=u||d,g=n.sender||n._sender,f=g.profileUrl,h=g.nickname,_=(0,a.useContext)(e.d).stringSet,p=Array.isArray(r)?r:[r];return p.push("sendbird-message-search-file-item"),c&&p.push("sendbird-message-search-file-item--selected"),a.default.createElement("div",{className:p.join(" "),onClick:function(e){e.stopPropagation(),l(n)}},a.default.createElement("div",{className:"sendbird-message-search-file-item__left"},a.default.createElement(t.A,{className:"sendbird-message-search-file-item__left__sender-avatar",src:f,alt:"profile image",width:"56px",height:"56px"})),a.default.createElement("div",{className:"sendbird-message-search-file-item__right"},a.default.createElement(t.L,{className:"sendbird-message-search-file-item__right__sender-name",type:t.a.SUBTITLE_2,color:t.b.ONBACKGROUND_1},h||_.NO_NAME),a.default.createElement("div",{className:"sendbird-message-search-file-item__right__content"},a.default.createElement("div",{className:"sendbird-message-search-file-item__right__content__type-icon"},a.default.createElement(t.I,{type:v(n),fillColor:t.d.PRIMARY,width:"18px",height:"18px"})),a.default.createElement(t.L,{className:"sendbird-message-search-file-item__right__content__url",type:t.a.BODY_2,color:t.b.ONBACKGROUND_1},b(o||m,28)))),a.default.createElement(t.L,{className:"sendbird-message-search-file-item__message-created-at",type:t.a.CAPTION_3,color:t.b.ONBACKGROUND_2},C(i)),a.default.createElement("div",{className:"sendbird-message-search-file-item__right-footer"}))}var O="sendbird-message-search";function R(s){var r=s.stores,n=s.config,l=s.channelUrl,c=s.searchString,i=s.messageSearchQuery,u=s.renderSearchItem,d=s.onResultLoaded,o=s.onResultClick,m=(0,a.useContext)(e.d).stringSet,g=(0,a.useState)(0),f=g[0],h=g[1],N=(0,a.useState)(0),C=N[0],v=N[1],b=(0,a.useReducer)(_,p),R=b[0],I=b[1],k=R.allMessages,T=R.loading,U=R.isInvalid,G=R.currentChannel,D=R.currentMessageSearchQuery,L=R.hasMoreResult,x=r.sdkStore,Q=n.logger,P=x.sdk,j=x.initialized,w=(0,a.useRef)(null);y({channelUrl:l,sdkInit:j},{sdk:P,logger:Q,messageSearchDispathcer:I}),S({currentChannel:G,channelUrl:l,searchString:c,messageSearchQuery:i,onResultLoaded:d,retryCount:f},{sdk:P,logger:Q,messageSearchDispathcer:I});var H=E({currentMessageSearchQuery:D,hasMoreResult:L,onResultLoaded:d},{logger:Q,messageSearchDispathcer:I});return U&&c?a.default.createElement("div",{className:O},a.default.createElement(t.P,{type:t.i.WRONG,retryToConnect:function(){h(f+1)}})):T&&c?a.default.createElement("div",{className:O},a.default.createElement(t.P,{type:t.i.SEARCHING})):c?a.default.createElement("div",{className:O,onScroll:function(e){var a=e.target,t=a.scrollTop,s=a.scrollHeight,r=a.clientHeight;L&&t+r>=s&&H(function(){})},ref:w},k.length>0?k.map(function(e){return u?u({message:e,onResultClick:o}):"file"===e.messageType?a.default.createElement(A,{className:O+"__message-search-item",message:e,key:e.messageId,selected:C===e.messageId,onClick:function(){o(e),v(e.messageId)}}):a.default.createElement(M,{className:O+"__message-search-item",message:e,key:e.messageId,selected:C===e.messageId,onClick:function(){o(e),v(e.messageId)}})}):a.default.createElement(t.P,{type:t.i.NO_RESULTS})):a.default.createElement("div",{className:O},a.default.createElement(t.P,{type:t.i.SEARCH_IN,searchInString:G&&G.name&&"Group Channel"!==G.name?G.name:!G||"Group Channel"!==G.name&&G.name?m.NO_TITLE:G.members.map(function(e){return e.nickname||m.NO_NAME}).join(", ")}))}var I=(0,e.w)(R),k=I;exports.default=k;
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","./index-ad616be9.js":"X2nd","date-fns/isToday":"YrnY","date-fns/format":"ZzDw","date-fns/isYesterday":"LqHY"}],"TgPv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./LocalizationContext-12658c38.js"),t=f(require("./SendbirdProvider.js")),r=d(require("react")),a=f(require("prop-types"));require("sendbird"),require("./actionTypes-a85c0eaa.js"),require("css-vars-ponyfill");var n=require("./index-711ec843.js"),l=f(require("./ChannelList.js"));require("./index-4eb938ab.js");var i=require("./index-ad616be9.js");require("./utils-53ba1773.js"),require("./LeaveChannel-2c2f8e8e.js"),require("date-fns/isToday"),require("date-fns/format"),require("date-fns/isYesterday"),require("./type-0296584d.js"),require("./utils-cfdeb084.js"),require("react-dom"),require("./index-5788a124.js");var s=f(require("./Channel.js"));require("./index-aeef4ba5.js"),require("date-fns/isSameDay"),require("./utils-d7f59026.js"),require("date-fns/formatDistanceToNowStrict");var u=f(require("./ChannelSettings.js"));require("./index-70190ac9.js");var o=f(require("./MessageSearch.js"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}function f(e){return e&&e.__esModule?e:{default:e}}var p="sendbird-message-search-pannel";function m(t){var a=t.channelUrl,l=t.onResultClick,s=t.onCloseClick,u=(0,r.useState)(""),c=u[0],d=u[1],f=(0,r.useState)(""),m=f[0],_=f[1],h=(0,r.useState)(!1),g=h[0],b=h[1],E=(0,r.useContext)(e.d).stringSet,C=null;(0,r.useEffect)(function(){C&&clearTimeout(C),C=setTimeout(function(){d(m),b(!0),C=null},500)},[m]);return r.default.createElement("div",{className:p},r.default.createElement("div",{className:p+"__header"},r.default.createElement(i.L,{className:p+"__header__title",type:i.a.H_2,color:i.b.ONBACKGROUND_1},E.SEARCH_IN_CHANNEL),r.default.createElement(n.I,{className:p+"__header__close-button",width:"32px",height:"32px",onClick:s},r.default.createElement(i.I,{type:i.c.CLOSE,fillColor:i.d.ON_BACKGROUND_1,width:"22px",height:"22px"}))),r.default.createElement("div",{className:p+"__input"},r.default.createElement("div",{className:p+"__input__container"},r.default.createElement(i.I,{className:p+"__input__container__search-icon",type:i.c.SEARCH,fillColor:i.d.ON_BACKGROUND_3,width:"24px",height:"24px"}),r.default.createElement("input",{className:p+"__input__container__input-area",placeholder:E.SEARCH,value:m,onChange:function(e){_(e.target.value)}}),m&&g&&r.default.createElement(i.h,{className:p+"__input__container__spinner",width:"20px",height:"20px"},r.default.createElement(i.I,{type:i.c.SPINNER,fillColor:i.d.PRIMARY,width:"20px",height:"20px"})),!g&&m&&r.default.createElement(i.I,{className:p+"__input__container__reset-input-button",type:i.c.REMOVE,fillColor:i.d.ON_BACKGROUND_3,width:"20px",height:"20px",onClick:function(e){e.stopPropagation(),_(""),d("")}}))),r.default.createElement("div",{className:p+"__message-search"},r.default.createElement(o.default,{channelUrl:a,searchString:c,onResultClick:l,onResultLoaded:function(){b(!1)}})))}function _(a){var n=a.appId,i=a.userId,o=a.accessToken,c=a.theme,d=a.userListQuery,f=a.nickname,p=a.profileUrl,_=a.config,h=void 0===_?{}:_,g=a.useReaction,b=a.useMessageGrouping,E=a.colorSet,C=a.stringSet,S=a.allowProfileEdit,v=a.disableUserProfile,y=a.renderUserProfile,N=a.showSearchIcon,q=a.onProfileEditSuccess,P=a.imageCompression,j=(0,r.useState)(null),w=(0,e.b)(j,2),O=w[0],x=w[1],R=(0,r.useState)(!1),k=(0,e.b)(R,2),I=k[0],U=k[1],M=(0,r.useState)(!1),T=(0,e.b)(M,2),L=T[0],A=T[1],D=(0,r.useState)(null),G=(0,e.b)(D,2),H=G[0],B=G[1],K=(0,r.useState)(null),Q=(0,e.b)(K,2),W=Q[0],z=Q[1];return r.default.createElement(t.default,{stringSet:C,appId:n,userId:i,accessToken:o,theme:c,nickname:f,profileUrl:p,userListQuery:d,config:h,colorSet:E,disableUserProfile:v,renderUserProfile:y,imageCompression:P},r.default.createElement("div",{className:"sendbird-app__wrap"},r.default.createElement("div",{className:"sendbird-app__channellist-wrap"},r.default.createElement(l.default,{allowProfileEdit:S,onProfileEditSuccess:q,onChannelSelect:function(e){z(null),B(null),e&&e.url?x(e.url):x("")}})),r.default.createElement("div",{className:"\n            ".concat(I?"sendbird-app__conversation--settings-open":"","\n            ").concat(L?"sendbird-app__conversation--search-open":"","\n            sendbird-app__conversation-wrap\n          ")},r.default.createElement(s.default,{channelUrl:O,onChatHeaderActionClick:function(){A(!1),U(!I)},onSearchClick:function(){U(!1),A(!L)},showSearchIcon:N,startingPoint:W,highlightedMessage:H,useReaction:g,useMessageGrouping:b})),I&&r.default.createElement("div",{className:"sendbird-app__settingspanel-wrap"},r.default.createElement(u.default,{className:"sendbird-channel-settings",channelUrl:O,onCloseClick:function(){U(!1)}})),L&&r.default.createElement("div",{className:"sendbird-app__searchpanel-wrap"},r.default.createElement(m,{channelUrl:O,onResultClick:function(e){e.messageId===H?(B(null),setTimeout(function(){B(e.messageId)})):(z(e.createdAt),B(e.messageId))},onCloseClick:function(){A(!1)}}))))}_.propTypes={appId:a.default.string.isRequired,userId:a.default.string.isRequired,accessToken:a.default.string,theme:a.default.string,userListQuery:a.default.func,nickname:a.default.string,profileUrl:a.default.string,allowProfileEdit:a.default.bool,disableUserProfile:a.default.bool,renderUserProfile:a.default.func,onProfileEditSuccess:a.default.func,config:a.default.shape({logLevel:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)])}),useReaction:a.default.bool,showSearchIcon:a.default.bool,useMessageGrouping:a.default.bool,stringSet:a.default.objectOf(a.default.string),colorSet:a.default.objectOf(a.default.string),imageCompression:a.default.shape({compressionRate:a.default.number,resizingWidth:a.default.oneOfType([a.default.number,a.default.string]),resizingHeight:a.default.oneOfType([a.default.number,a.default.string])})},_.defaultProps={accessToken:"",theme:"light",nickname:"",profileUrl:"",userListQuery:null,allowProfileEdit:!1,onProfileEditSuccess:null,disableUserProfile:!1,showSearchIcon:!1,renderUserProfile:null,config:{},useReaction:!0,useMessageGrouping:!0,stringSet:null,colorSet:null,imageCompression:{}};var h=_;exports.default=h;
},{"./LocalizationContext-12658c38.js":"ra5a","./SendbirdProvider.js":"Mt7d","react":"HdMw","prop-types":"Iix9","sendbird":"cz0G","./actionTypes-a85c0eaa.js":"kvwx","css-vars-ponyfill":"lasz","./index-711ec843.js":"zGzG","./ChannelList.js":"W94N","./index-4eb938ab.js":"JmLL","./index-ad616be9.js":"X2nd","./utils-53ba1773.js":"DjaK","./LeaveChannel-2c2f8e8e.js":"ZFXd","date-fns/isToday":"YrnY","date-fns/format":"ZzDw","date-fns/isYesterday":"LqHY","./type-0296584d.js":"xJ4h","./utils-cfdeb084.js":"ILLV","react-dom":"X9zx","./index-5788a124.js":"YNuJ","./Channel.js":"OmmJ","./index-aeef4ba5.js":"QCm6","date-fns/isSameDay":"UmhB","./utils-d7f59026.js":"WXy6","date-fns/formatDistanceToNowStrict":"xP96","./ChannelSettings.js":"HQlQ","./index-70190ac9.js":"WGDO","./MessageSearch.js":"uNIo"}],"m5Iq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpenchannelConversation=exports.default=void 0;var e=require("./LocalizationContext-12658c38.js"),n=c(require("react"));require("prop-types");var a=require("./index-711ec843.js"),t=require("./index-ad616be9.js"),s=i(require("date-fns/format"));require("react-dom");var r=require("./index-aeef4ba5.js"),l=i(require("date-fns/isSameDay"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:n})(e)}function c(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(n);if(a&&a.has(e))return a.get(e);var t={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=s?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(t,r,l):t[r]=e[r]}return t.default=e,a&&a.set(e,t),t}var d=function(e){return(0,s.default)(e.createdAt,"p")},u=function e(n){void 0===n&&(n=0);var a=n;if(!(a>10))try{var t=document.querySelector(".sendbird-openchannel-conversation-scroll");t.scrollTop=t.scrollHeight}catch(s){setTimeout(function(){e(a+1)},500*a)}},p=function(e,n){return!!(e&&n&&"admin"!==e.messageType&&"admin"!==n.messageType&&e.sender&&n.sender&&e.createdAt&&n.createdAt&&e.sender.userId&&n.sender.userId)&&(e.sendingStatus===n.sendingStatus&&e.sender.userId===n.sender.userId&&d(e)===d(n))},m=function(e,n,a){return[p(e,n),p(n,a)]},_=function(e){return Math.abs(e)>999999?(Math.abs(e)/1e6).toFixed(1)+"M":Math.abs(e)>999?(Math.abs(e)/1e3).toFixed(1)+"K":""+e},g=function(e,n){return!(e.operators.map(function(e){return e.userId}).indexOf(n)<0)},f=function(e,n){return e.isFrozen&&!g(e,n)},h=function(e,n,a){n.info("OpenChannel | FetchUserList start",e),function e(t){t.hasNext?t.next(function(s,r){s?n.warning("OpenChannel | FetchUserList failed",s):(a(r),e(t))}):n.info("OpenChannel | FetchUserList finished")}(e)},E=function(e){if("number"==typeof e)return e;if("string"==typeof e){var n=Number.parseFloat(e);if(!Number.isNaN(n))return n}return null},C=function(a,t){var s=a.channel,l=a.user,i=a.disabled,o=a.onSendMessage,c=a.onFileUpload,d=a.renderMessageInput;if(s){var u=(0,n.useContext)(e.d).stringSet;return d?d({channel:s,user:l,disabled:i}):n.default.createElement("div",{className:"sendbird-openchannel-footer"},n.default.createElement(r.M,{ref:t,disabled:i,onSendMessage:o,onFileUpload:c,placeholder:i&&u.CHANNEL__MESSAGE_INPUT__PLACE_HOLDER__DISABLED}))}},N=n.default.forwardRef(C),O=function(){var a=(0,n.useContext)(e.d).stringSet;return n.default.createElement("div",{className:"sendbird-frozen-channel-notification"},n.default.createElement(t.L,{className:"sendbird-frozen-channel-notification__text",type:t.a.CAPTION_2},a.CHANNEL_FROZEN))},b="sendbird-openchannel-conversation-header";function y(s){var r=s.coverImage,l=s.title,i=s.subTitle,o=s.amIOperator,c=s.onActionClick,d=(0,n.useContext)(e.d).stringSet;return n.default.createElement("div",{className:b},n.default.createElement("div",{className:b+"__left"},r?n.default.createElement(t.A,{className:b+"__left__cover-image",src:r,alt:"channel cover image",width:"32px",height:"32px"}):n.default.createElement("div",{className:b+"__left__cover-image--icon",style:{width:32,height:32}},n.default.createElement(t.I,{type:t.c.CHANNELS,fillColor:t.d.CONTENT,width:"18px",height:"18px"})),n.default.createElement(t.L,{className:b+"__left__title",type:t.a.H_2,color:t.b.ONBACKGROUND_1},l||d.NO_TITLE),n.default.createElement(t.L,{className:b+"__left__sub-title",type:t.a.BODY_2,color:t.b.ONBACKGROUND_2},i||d.NO_TITLE)),n.default.createElement("div",{className:b+"__right"},n.default.createElement(a.I,{className:b+"__right__trigger",width:"32px",height:"32px",onClick:c},n.default.createElement(t.I,{type:o?t.c.INFO:t.c.MEMBERS,fillColor:t.d.PRIMARY,width:"24px",height:"24px"}))))}var M=function(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var n=document.createElement("textarea");n.textContent=e,n.style.position="fixed",document.body.appendChild(n),n.select();try{return document.execCommand("copy")}catch(a){return!1}finally{document.body.removeChild(n)}}return!1},v={NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"},I=function(e){return e.sender||e._sender},D=function(e){return e===v.SUCCEEDED},T=function(e){return e===v.PENDING},S=function(e){return e===v.FAILED},R=function(e,n){return I(e).userId===n},U=function(e){var n=e.message;return"user"===n.messageType&&n.message.length>0},A=function(e){var n=e.message,a=e.status,t=e.userId;return R(n,t)&&S(a)&&n.isResendable&&n.isResendable()},x=function(e){var n=e.message,a=e.status,t=e.userId;return R(n,t)&&D(a)},P=function(e){var n=e.message,a=e.userId;return R(n,a)},w=function(e){var n=e.message,a=e.status,t=e.userId;return"user"===n.messageType?P({message:n,status:a,userId:t})||x({message:n,status:a,userId:t})||U({message:n,status:a,userId:t})||A({message:n,status:a,userId:t}):P({message:n,status:a,userId:t})||A({message:n,status:a,userId:t})};function L(r){var l=r.message,i=r.className,o=r.userId,c=r.resendMessage,d=r.disabled,u=r.showEdit,p=r.showRemove,m=r.chainTop,_=r.status;if(!l||"user"!==l.messageType)return null;var g=(0,n.useContext)(e.d).stringSet,f=(0,n.useContext)(a.f),h=f.disableUserProfile,E=f.renderUserProfile,C=(0,n.useRef)(null),N=(0,n.useRef)(null),O=(0,n.useRef)(null),b=(0,n.useState)({}),y=b[0],v=b[1],D=Array.isArray(i)?i:[i];D.push("sendbird-openchannel-user-message");var L=R(l,o),k=T(_),G=S(_),B=I(l),F=(0,n.useMemo)(function(){return function(){var a=l.message.split(/\r/).map(function(e){return""!==e?e:n.default.createElement("br",null)});return l.updatedAt>0&&a.push(n.default.createElement(t.L,{key:(0,e.n)(),type:t.a.BODY_1,color:t.b.ONBACKGROUND_2,calssName:"sendbird-openchannel-user-message-word"}," "+g.MESSAGE_EDITED+" ")),a}},[l,l.updatedAt]);return(0,n.useEffect)(function(){C.current.clientHeight>36?v({top:"8px "}):v({top:"2px"})},[window.innerWidth]),n.default.createElement("div",{className:D.join(" "),ref:C},n.default.createElement("div",{className:"sendbird-openchannel-user-message__left"},!m&&n.default.createElement(a.C,{menuTrigger:function(e){return n.default.createElement(t.A,{className:"sendbird-openchannel-user-message__left__avatar",src:B.profileUrl||"",ref:N,width:"28px",height:"28px",onClick:function(){h||e()}})},menuItems:function(e){return n.default.createElement(a.b,{parentRef:N,parentContainRef:N,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},E?E({user:B,close:e}):n.default.createElement(a.g,{user:B,onSuccess:e,disableMessaging:!0}))}})),n.default.createElement("div",{className:"sendbird-openchannel-user-message__right"},!m&&n.default.createElement("div",{className:"sendbird-openchannel-user-message__right__top"},n.default.createElement(t.L,{className:"sendbird-openchannel-user-message__right__top__sender-name",type:t.a.CAPTION_2,color:L?t.b.SECONDARY_3:t.b.ONBACKGROUND_2},B&&(B.friendName||B.nickname||B.userId)),n.default.createElement(t.L,{className:"sendbird-openchannel-user-message__right__top__sent-at",type:t.a.CAPTION_3,color:t.b.ONBACKGROUND_3},l.createdAt&&(0,s.default)(l.createdAt,"p"))),n.default.createElement("div",{className:"sendbird-openchannel-user-message__right__bottom"},n.default.createElement(t.L,{className:"sendbird-openchannel-user-message__right__bottom__message",type:t.a.BODY_1,color:t.b.ONBACKGROUND_1},F())),(k||G)&&n.default.createElement("div",{className:"sendbird-openchannel-user-message__right__tail"},k&&n.default.createElement(t.h,{width:"16px",height:"16px"},n.default.createElement(t.I,{className:"sendbird-openchannel-user-message__right__tail__pending",type:t.c.SPINNER,fillColor:t.d.PRIMARY,width:"16px",height:"16px"})),G&&n.default.createElement(t.I,{className:"sendbird-openchannel-user-message__right__tail__failed",type:t.c.ERROR,width:"16px",height:"16px"}))),n.default.createElement("div",{className:"sendbird-openchannel-user-message__context-menu",ref:O,style:y},n.default.createElement(a.C,{menuTrigger:function(e){return w({message:l,userId:o,status:_})&&n.default.createElement(a.I,{className:"sendbird-openchannel-user-message__context-menu--icon",width:"32px",height:"32px",onClick:function(){e()}},n.default.createElement(t.I,{width:"24px",height:"24px",type:t.c.MORE,fillColor:t.d.CONTENT_INVERSE}))},menuItems:function(e){return n.default.createElement(a.b,{parentRef:O,parentContainRef:O,closeDropdown:e,openLeft:!0},U({message:l,userId:o,status:_})&&n.default.createElement(a.c,{className:"sendbird-openchannel-user-message__context-menu__copy",onClick:function(){M(l.message),e()}},g.CONTEXT_MENU_DROPDOWN__COPY),x({message:l,userId:o,status:_})&&n.default.createElement(a.c,{className:"sendbird-openchannel-user-message__context-menu__edit",onClick:function(){d||(u(!0),e())}},g.CONTEXT_MENU_DROPDOWN__EDIT),A({message:l,userId:o,status:_})&&n.default.createElement(a.c,{className:"sendbird-openchannel-user-message__context-menu__resend",onClick:function(){c(l),e()}},g.CONTEXT_MENU_DROPDOWN__RESEND),P({message:l,userId:o,status:_})&&n.default.createElement(a.c,{className:"sendbird-openchannel-user-message__context-menu__delete",onClick:function(){d||(p(!0),e())}},g.CONTEXT_MENU_DROPDOWN__DELETE))}})))}function k(a){var s=a.message,r=a.className,l=Array.isArray(r)?r:[r];return l.push("sendbird-openchannel-admin-message"),n.default.createElement("div",{className:(0,e.m)(l).join(" ")},n.default.createElement(t.L,{className:"sendbird-openchannel-admin-message__text",type:t.a.CAPTION_2,color:t.b.ONBACKGROUND_2},s.message||""))}var G=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,B=function(e){return function(n){return e.test(n)}},F=function(e){var n=e.ogMetaData;return!!n&&!!n.url};function H(l){var i=l.message,o=l.className,c=l.disabled,d=l.showEdit,u=l.showRemove,p=l.resendMessage,m=l.chainTop,_=l.status,g=l.userId;if(!i||"user"!==i.messageType)return null;var f=i.ogMetaData,h=f.defaultImage,E=(0,n.useContext)(e.d).stringSet,C=(0,n.useContext)(a.f),N=C.disableUserProfile,O=C.renderUserProfile,b=(0,n.useState)({}),y=b[0],v=b[1],D=(0,n.useRef)(null),L=(0,n.useRef)(null),k=(0,n.useRef)(null),H=B(G),K=Array.isArray(o)?o:[o];K.push("sendbird-openchannel-og-message");var j=R(i,g),q=T(_),z=S(_),Y=I(i),W=(0,n.useMemo)(function(){return function(){var a="sendbird-openchannel-og-message--word",s=i.message.split(" ").map(function(s){return H(s)?n.default.createElement(r.L,{key:(0,e.n)(),className:[a,"sendbird-openchannel-og-message--word--link"],src:s,type:t.a.BODY_1,color:t.b.PRIMARY},s):n.default.createElement(t.L,{key:(0,e.n)(),className:a,type:t.a.BODY_1,color:t.b.ONBACKGROUND_1},s)});return i.updatedAt>0&&s.push(n.default.createElement(t.L,{key:(0,e.n)(),className:a,type:t.a.BODY_1,color:t.b.ONBACKGROUND_2},E.MESSAGE_EDITED)),s}},[i,i.updatedAt]),V=function(){if(F(i)){var e=f.url;window.open(e)}};return(0,n.useEffect)(function(){D.current.clientHeight>36?v({top:"8px "}):v({top:"2px"})},[window.innerWidth]),n.default.createElement("div",{className:K.join(" "),ref:D},n.default.createElement("div",{className:"sendbird-openchannel-og-message__top"},n.default.createElement("div",{className:"sendbird-openchannel-og-message__top__left"},!m&&n.default.createElement(a.C,{menuTrigger:function(e){return n.default.createElement(t.A,{className:"sendbird-openchannel-og-message__top__left__avatar",src:Y.profileUrl||"",ref:k,width:"28px",height:"28px",onClick:function(){N||e()}})},menuItems:function(e){return n.default.createElement(a.b,{parentRef:k,parentContainRef:k,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},O?O({user:Y,close:e}):n.default.createElement(a.g,{user:Y,onSuccess:e,disableMessaging:!0}))}})),n.default.createElement("div",{className:"sendbird-openchannel-og-message__top__right"},!m&&n.default.createElement("div",{className:"sendbird-openchannel-og-message__top__right__title"},n.default.createElement(t.L,{className:"sendbird-openchannel-og-message__top__right__title__sender-name",type:t.a.CAPTION_2,color:j?t.b.SECONDARY_3:t.b.ONBACKGROUND_2},Y&&(Y.friendName||Y.nickname||Y.userId)),n.default.createElement(t.L,{className:"sendbird-openchannel-og-message__top__right__title__sent-at",type:t.a.CAPTION_3,color:t.b.ONBACKGROUND_3},i.createdAt&&(0,s.default)(i.createdAt,"p"))),n.default.createElement("div",{className:"sendbird-openchannel-og-message__top__right__description"},n.default.createElement(t.L,{className:"sendbird-openchannel-og-message__top__right__description__message",type:t.a.BODY_1,color:t.b.ONBACKGROUND_1},W()))),n.default.createElement("div",{className:"sendbird-openchannel-og-message__top__context-menu",ref:L,style:y},n.default.createElement(a.C,{menuTrigger:function(e){return w({message:i,userId:g,status:_})&&n.default.createElement(a.I,{className:"sendbird-openchannel-og-message__top__context-menu--icon",width:"32px",height:"32px",onClick:function(){e()}},n.default.createElement(t.I,{width:"24px",height:"24px",type:t.c.MORE,fillColor:t.d.CONTENT_INVERSE}))},menuItems:function(e){return n.default.createElement(a.b,{parentRef:L,parentContainRef:L,closeDropdown:e,openLeft:!0},U({message:i,userId:g,status:_})&&n.default.createElement(a.c,{className:"sendbird-openchannel-og-message__top__context-menu__copy",onClick:function(){M(i.message),e()}},E.CONTEXT_MENU_DROPDOWN__COPY),x({message:i,userId:g,status:_})&&n.default.createElement(a.c,{className:"sendbird-openchannel-og-message__top__context-menu__edit",onClick:function(){c||(d(!0),e())}},E.CONTEXT_MENU_DROPDOWN__EDIT),A({message:i,userId:g,status:_})&&n.default.createElement(a.c,{className:"sendbird-openchannel-og-message__top__context-menu__resend",onClick:function(){p(i),e()}},E.CONTEXT_MENU_DROPDOWN__RESEND),P({message:i,userId:g,status:_})&&n.default.createElement(a.c,{className:"sendbird-openchannel-og-message__top__context-menu__delete",onClick:function(){c||(u(!0),e())}},E.CONTEXT_MENU_DROPDOWN__DELETE))}}))),n.default.createElement("div",{className:"sendbird-openchannel-og-message__bottom"},n.default.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag"},f.url&&n.default.createElement(t.L,{className:"sendbird-openchannel-og-message__bottom__og-tag__url",type:t.a.CAPTION_3,color:t.b.ONBACKGROUND_2},f.url),f.title&&n.default.createElement(r.L,{className:"sendbird-openchannel-og-message__bottom__og-tag__title",type:t.a.SUBTITLE_2,color:t.b.PRIMARY,src:f.url},f.title),f.description&&n.default.createElement(t.L,{className:"sendbird-openchannel-og-message__bottom__og-tag__description",type:t.a.BODY_2,color:t.b.ONBACKGROUND_1},f.description),f.url&&n.default.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail",onClick:V,onKeyDown:V,role:"button",tabIndex:0},h&&n.default.createElement(t.g,{url:h.url||"",alt:h.alt||"",className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image",height:"189px",defaultComponent:n.default.createElement("div",{className:"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder"},n.default.createElement(t.I,{width:"56px",height:"56px",type:t.c.THUMBNAIL_NONE}))}))),(q||z)&&n.default.createElement("div",{className:"sendbird-openchannel-og-message__top__right__tail"},q&&n.default.createElement(t.h,{width:"16px",height:"16px"},n.default.createElement(t.I,{className:"sendbird-openchannel-og-message__top__right__tail__pending",width:"16px",height:"16px",type:t.c.SPINNER,fillColor:t.d.PRIMARY})),z&&n.default.createElement(t.I,{className:"sendbird-openchannel-og-message__top__right__tail__failed",width:"16px",height:"16px",type:t.c.ERROR}))))}var K={IMAGE:"IMAGE",VIDEO:"VIDEO",UNSUPPORTED:"UNSUPPORTED"},j={IMAGE:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],VIDEO:["video/mpeg","video/ogg","video/webm","video/mp4"]},q=function(e){return j.IMAGE.indexOf(e)>=0?K.IMAGE:j.VIDEO.indexOf(e)>=0?K.VIDEO:K.UNSUPPORTED};function z(r){var l,i=r.message,o=r.className,c=r.disabled,d=r.userId,u=r.status,p=r.chainTop,m=r.onClick,_=r.showRemove,g=r.resendMessage,f=i.type,h=i.url,E=i.localUrl,C=i.thumbnails,N=C&&C.length>0&&C[0].url||null,O=(0,n.useContext)(e.d).stringSet,b=(0,n.useContext)(a.f),y=b.disableUserProfile,M=b.renderUserProfile,v=(0,n.useRef)(null),U=(0,n.useRef)(null),x=Array.isArray(o)?o:[o];x.push("sendbird-openchannel-thumbnail-message");var L=R(i,d),k=D(u),G=T(u),B=S(u),F=I(i);return n.default.createElement("div",{className:x.join(" ")},n.default.createElement("div",{className:"sendbird-openchannel-thumbnail-message__left"},!p&&n.default.createElement(a.C,{menuTrigger:function(e){return n.default.createElement(t.A,{className:"sendbird-openchannel-thumbnail-message__left__avatar",src:F.profileUrl||"",ref:U,width:"28px",height:"28px",onClick:function(){y||e()}})},menuItems:function(e){return n.default.createElement(a.b,{parentRef:U,parentContainRef:U,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},M?M({user:F,close:e}):n.default.createElement(a.g,{user:F,onSuccess:e,disableMessaging:!0}))}})),n.default.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right"},!p&&n.default.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__title"},n.default.createElement(t.L,{className:"sendbird-openchannel-thumbnail-message__right__title__sender-name",type:t.a.CAPTION_2,color:L?t.b.SECONDARY_3:t.b.ONBACKGROUND_2},F&&(F.friendName||F.nickname||F.userId)),n.default.createElement(t.L,{className:"sendbird-openchannel-thumbnail-message__right__title__sent-at",type:t.a.CAPTION_3,color:t.b.ONBACKGROUND_3},i.createdAt&&(0,s.default)(i.createdAt,"p"))),n.default.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body"},n.default.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap",onClick:function(){k&&m(!0)},onKeyDown:function(){k&&m(!0)},tabIndex:0,role:"button"},n.default.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay"}),(l={},l[K.VIDEO]=h||E?n.default.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video"},N?n.default.createElement(t.g,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video",url:N,height:"270px",alt:"image"}):n.default.createElement("video",{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video"},n.default.createElement("source",{src:h||E,type:f})),n.default.createElement(t.I,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon",width:"56px",height:"56px",type:t.c.PLAY})):n.default.createElement(t.I,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon",width:"56px",height:"56px",type:t.c.PHOTO,fillColor:t.d.ON_BACKGROUND_2}),l[K.IMAGE]=h||E?n.default.createElement(t.g,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image",url:N||h||E,width:"360px",height:"270px",alt:"image"}):n.default.createElement(t.I,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon",width:"56px",height:"56px",type:t.c.PHOTO,fillColor:t.d.ON_BACKGROUND_2}),l[K.UNSUPPORTED]=n.default.createElement(t.I,{className:"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown",width:"56px",height:"56px",type:t.c.PHOTO,fillColor:t.d.ON_BACKGROUND_2}),l)[q(f)])),(G||B)&&n.default.createElement("div",{className:"sendbird-openchannel-thumbnail-message__right__tail"},G&&n.default.createElement(t.h,{width:"16px",height:"16px"},n.default.createElement(t.I,{className:"sendbird-openchannel-thumbnail-message__right__tail__pending",type:t.c.SPINNER,fillColor:t.d.PRIMARY,width:"16px",height:"16px"})),B&&n.default.createElement(t.I,{className:"sendbird-openchannel-thumbnail-message__right__tail__failed",type:t.c.ERROR,width:"16px",height:"16px"}))),n.default.createElement("div",{className:"sendbird-openchannel-thumbnail-message__context-menu",ref:v},n.default.createElement(a.C,{menuTrigger:function(e){return w({message:i,userId:d,status:u})&&n.default.createElement(a.I,{className:"sendbird-openchannel-thumbnail-message__context-menu--icon",width:"32px",height:"32px",onClick:e},n.default.createElement(t.I,{width:"24px",height:"24px",type:t.c.MORE,fillColor:t.d.CONTENT_INVERSE}))},menuItems:function(e){return n.default.createElement(a.b,{parentRef:v,parentContainRef:v,closeDropdown:e,openLeft:!0},A({message:i,userId:d,status:u})&&n.default.createElement(a.c,{onClick:function(){g(i),e()}},O.CONTEXT_MENU_DROPDOWN__RESEND),P({message:i,userId:d,status:u})&&n.default.createElement(a.c,{onClick:function(){c||(_(!0),e())}},O.CONTEXT_MENU_DROPDOWN__DELETE))}})))}var Y=function(e){var n=null;return/(\.gif|\.jpg|\.jpeg|\.txt|\.pdf)$/i.test(e)?n=t.c.FILE_DOCUMENT:/(\.mp3)$/i.test(e)&&(n=t.c.FILE_AUDIO),n},W=function(e,n){if(null==e)return"";if(e.length<=n)return e;var a=n-"...".length,t=Math.ceil(a/2),s=Math.floor(a/2);return e.substr(0,t)+"..."+e.substr(e.length-s)};function V(r){var l=r.message,i=r.className,o=r.userId,c=r.disabled,d=r.chainTop,u=r.status,p=r.showRemove,m=r.resendMessage,_=(0,n.useRef)(null),g=(0,n.useRef)(null),f=(0,n.useContext)(e.d).stringSet,h=(0,n.useContext)(a.f),E=h.disableUserProfile,C=h.renderUserProfile,N=Array.isArray(i)?i:[i];N.push("sendbird-openchannel-file-message");var O=R(l,o),b=T(u),y=S(u),M=I(l);return n.default.createElement("div",{className:N.join(" ")},n.default.createElement("div",{className:"sendbird-openchannel-file-message__left"},!d&&n.default.createElement(a.C,{menuTrigger:function(e){return n.default.createElement(t.A,{className:"sendbird-openchannel-file-message__left__avatar",src:M.profileUrl||"",ref:g,width:"28px",height:"28px",onClick:function(){E||e()}})},menuItems:function(e){return n.default.createElement(a.b,{parentRef:g,parentContainRef:g,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},C?C({user:M,close:e}):n.default.createElement(a.g,{user:M,onSuccess:e,disableMessaging:!0}))}})),n.default.createElement("div",{className:"sendbird-openchannel-file-message__right"},!d&&n.default.createElement("div",{className:"sendbird-openchannel-file-message__right__title"},n.default.createElement(t.L,{className:"sendbird-openchannel-file-message__right__title__sender-name",type:t.a.CAPTION_2,color:O?t.b.SECONDARY_3:t.b.ONBACKGROUND_2},M&&(M.friendName||M.nickname||M.userId)),n.default.createElement(t.L,{className:"sendbird-openchannel-file-message__right__title__sent-at",type:t.a.CAPTION_3,color:t.b.ONBACKGROUND_3},l.createdAt&&(0,s.default)(l.createdAt,"p"))),n.default.createElement("div",{className:"sendbird-openchannel-file-message__right__body"},Y(l.url)&&n.default.createElement(t.I,{className:"sendbird-openchannel-file-message__right__body__icon",type:Y(l.url),fillColor:t.d.PRIMARY,width:"48px",height:"48px"}),n.default.createElement(a.a,{className:"sendbird-openchannel-file-message__right__body__file-name",onClick:function(){window.open(l.url)}},n.default.createElement(t.L,{type:t.a.BODY_1,color:t.b.ONBACKGROUND_1},W(l.name||l.url,40)))),(b||y)&&n.default.createElement("div",{className:"sendbird-openchannel-file-message__right__tail"},b&&n.default.createElement(t.h,{width:"16px",height:"16px"},n.default.createElement(t.I,{className:"sendbird-openchannel-file-message__right__tail__pending",type:t.c.SPINNER,fillColor:t.d.PRIMARY,width:"16px",height:"16px"})),y&&n.default.createElement(t.I,{className:"sendbird-openchannel-file-message__right__tail__failed",type:t.c.ERROR,width:"16px",height:"16px"}))),n.default.createElement("div",{className:"sendbird-openchannel-file-message__context-menu",ref:_},n.default.createElement(a.C,{menuTrigger:function(e){return w({message:l,userId:o,status:u})&&n.default.createElement(a.I,{className:"sendbird-openchannel-file-message__context-menu__icon",width:"32px",height:"32px",onClick:e},n.default.createElement(t.I,{type:t.c.MORE,width:"24px",height:"24px"}))},menuItems:function(e){return n.default.createElement(a.b,{parentRef:_,parentContainRef:_,closeDropdown:e,openLeft:!0},A({message:l,userId:o,status:u})&&n.default.createElement(a.c,{onClick:function(){c||(m(l),e())}},f.CONTEXT_MENU_DROPDOWN__RESEND),P({message:l,userId:o,status:u})&&n.default.createElement(a.c,{onClick:function(){c||(p(!0),e())}},f.CONTEXT_MENU_DROPDOWN__DELETE))}})))}function X(t){var s=t.onCloseModal,r=t.onDeleteMessage,l=(0,n.useContext)(e.d).stringSet;return n.default.createElement(a.M,{onCancel:s,onSubmit:r,submitText:"Delete",titleText:l.MODAL__DELETE_MESSAGE__TITLE})}var Z={ADMIN:"ADMIN",USER:"USER",FILE:"FILE",THUMBNAIL:"THUMBNAIL",OG:"OG",UNKNOWN:"UNKNOWN"},Q={NONE:"none",SUCCEEDED:"succeeded",FAILED:"failed",PENDING:"pending"},$=function(e){return e.isUserMessage&&e.isUserMessage()||"user"===e.messageType?e.ogMetaData?Z.OG:Z.USER:e.isAdminMessage&&e.isAdminMessage()?Z.ADMIN:"file"===e.messageType?(0,r.i)(e.type)||(0,r.a)(e.type)?Z.THUMBNAIL:Z.FILE:Z.UNKNOWN};function J(e){var a,l=e.message,i=e.userId,o=e.disabled,c=e.editDisabled,d=e.hasSeperator,u=e.channel,p=e.renderCustomMessage,m=e.deleteMessage,_=e.updateMessage,g=e.resendMessage,f=e.status,h=e.chainTop,E=e.chainBottom,C=null;"admin"!==l.messageType&&(C=l.sender);var N=(0,n.useMemo)(function(){return p?p(l,u,h,E):null},[l,p]),O=(0,n.useState)(!1),b=O[0],y=O[1],M=(0,n.useState)(!1),v=M[0],I=M[1],D=(0,n.useState)(!1),T=D[0],S=D[1],R=(0,n.useRef)(null),U=!1;return C&&"admin"!==l.messageType&&(U=i===C.userId||l.requestState===Q.PENDING||l.requestState===Q.FAILED),N?n.default.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},n.default.createElement(N,{message:l})):"user"===l.messageType&&b?n.default.createElement(r.M,{isEdit:!0,disabled:c,ref:R,name:l.messageId,onSendMessage:_,onCancelEdit:function(){y(!1)},value:l.message}):n.default.createElement("div",{className:"sendbird-msg-hoc sendbird-msg--scroll-ref"},d&&n.default.createElement(r.D,null,n.default.createElement(t.L,{type:t.a.CAPTION_2,color:t.b.ONBACKGROUND_2},(0,s.default)(l.createdAt,"MMMM dd, yyyy"))),(a={},a[Z.ADMIN]=function(){if("admin"===l.messageType)return n.default.createElement(k,{message:l})}(),a[Z.FILE]=function(){if("file"===l.messageType)return n.default.createElement(V,{message:l,disabled:o,userId:i,showRemove:I,resendMessage:g,status:f,chainTop:h,chainBottom:E})}(),a[Z.OG]=function(){if("user"===l.messageType)return n.default.createElement(H,{message:l,status:f,userId:i,showEdit:y,disabled:o,showRemove:I,resendMessage:g,chainTop:h,chainBottom:E})}(),a[Z.THUMBNAIL]=function(){if("file"===l.messageType)return n.default.createElement(z,{message:l,disabled:o,userId:i,showRemove:I,resendMessage:g,onClick:S,status:f,chainTop:h,chainBottom:E})}(),a[Z.USER]=function(){if("user"===l.messageType)return n.default.createElement(L,{message:l,userId:i,disabled:o,showEdit:y,showRemove:I,resendMessage:g,status:f,chainTop:h,chainBottom:E})}(),a[Z.UNKNOWN]=void 0,a)[$(l)],v&&n.default.createElement(X,{onCloseModal:function(){return I(!1)},onDeleteMessage:function(){"admin"!==l.messageType&&m(l)}}),T&&"file"===l.messageType&&n.default.createElement(r.F,{onClose:function(){return S(!1)},message:l,onDelete:function(){return m(l)},isByMe:U}))}function ee(e,a){var s=e.useMessageGrouping,r=void 0===s||s,i=e.openchannel,o=e.user,c=e.allMessages,d=e.isOnline,u=void 0===d||d,p=e.hasMore,_=e.onScroll,g=e.renderCustomMessage,f=e.updateMessage,h=e.deleteMessage,E=e.resendMessage,C=a||(0,n.useRef)(null),N=(0,n.useState)(!1),O=N[0],b=N[1],y=function(){C&&C.current&&(C.current.scrollTo(0,C.current.scrollHeight),b(!1))},M=(0,n.useMemo)(function(){return c.length>0},[c.length]);return n.default.createElement("div",{className:"sendbird-openchannel-conversation-scroll",onScroll:function(e){var n=e.target,a=n.scrollTop;if(n.scrollHeight>a+n.clientHeight&&window.navigator.userAgent.indexOf("MSIE ")<0?b(!0):b(!1),p&&0===a){var t=C.current.querySelectorAll(".sendbird-msg--scroll-ref"),s=t&&t[0];_(function(){try{s.scrollIntoView()}catch(e){}})}},ref:C},n.default.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container"},n.default.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__padding"}),n.default.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__item-container"+(M?"":"--no-messages")},M?c.map(function(e,a){var t;"admin"!==e.messageType&&(t=e.sendingStatus);var s=c[a-1],d=c[a-1],p=s&&s.createdAt,_=e.createdAt,C=!(p&&(0,l.default)(_,p)),N=r?m(s,e,d):[!1,!1],O=N[0],b=N[1];return n.default.createElement(J,{renderCustomMessage:g,channel:i,key:e.messageId,message:e,status:t,userId:o.userId,disabled:!u,editDisabled:i.isFrozen,hasSeperator:C,chainTop:O,chainBottom:b,deleteMessage:h,updateMessage:f,resendMessage:E})}):n.default.createElement(t.P,{className:"sendbird-openchannel-conversation-scroll__container__place-holder",type:t.i.NO_MESSAGES})),O&&n.default.createElement("div",{className:"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button",onClick:y,onKeyDown:y,tabIndex:0,role:"button"},n.default.createElement(t.I,{width:"24px",height:"24px",type:t.c.CHEVRON_DOWN,fillColor:t.d.CONTENT}))))}var ne=n.default.forwardRef(ee),ae="SET_CURRENT_CHANNEL",te="SET_CHANNEL_INVALID",se="RESET_MESSAGES",re="GET_PREV_MESSAGES_START",le="GET_PREV_MESSAGES_SUCESS",ie="GET_PREV_MESSAGES_FAIL",oe="SENDING_MESSAGE_FAILED",ce="SENDING_MESSAGE_SUCCEEDED",de="SENDING_MESSAGE_START",ue="RESENDING_MESSAGE_START",pe="FETCH_PARTICIPANT_LIST",me="FETCH_BANNED_USER_LIST",_e="FETCH_MUTED_USER_LIST",ge="ON_MESSAGE_RECEIVED",fe="ON_MESSAGE_UPDATED",he="ON_MESSAGE_DELETED",Ee="ON_MESSAGE_DELETED_BY_REQ_ID",Ce="ON_OPERATOR_UPDATED",Ne="ON_USER_ENTERED",Oe="ON_USER_EXITED",be="ON_USER_MUTED",ye="ON_USER_UNMUTED",Me="ON_USER_BANNED",ve="ON_USER_UNBANNED",Ie="ON_CHANNEL_FROZEN",De="ON_CHANNEL_UNFROZEN",Te="ON_CHANNEL_CHANGED",Se="ON_META_DATA_CREATED",Re="ON_META_DATA_UPDATED",Ue="ON_META_DATA_DELETED",Ae="ON_META_COUNTERS_CREATED",xe="ON_META_COUNTERS_UPDATED",Pe="ON_META_COUNTERS_DELETED",we="ON_MENTION_RECEIVED",Le=Object.freeze({__proto__:null,SET_CURRENT_CHANNEL:ae,SET_CHANNEL_INVALID:te,RESET_MESSAGES:se,GET_PREV_MESSAGES_START:re,GET_PREV_MESSAGES_SUCESS:le,GET_PREV_MESSAGES_FAIL:ie,SENDING_MESSAGE_FAILED:oe,SENDING_MESSAGE_SUCCEEDED:ce,SENDING_MESSAGE_START:de,RESENDING_MESSAGE_START:ue,FETCH_PARTICIPANT_LIST:pe,FETCH_BANNED_USER_LIST:me,FETCH_MUTED_USER_LIST:_e,ON_MESSAGE_RECEIVED:ge,ON_MESSAGE_UPDATED:fe,ON_MESSAGE_DELETED:he,ON_MESSAGE_DELETED_BY_REQ_ID:Ee,ON_OPERATOR_UPDATED:Ce,ON_USER_ENTERED:Ne,ON_USER_EXITED:Oe,ON_USER_MUTED:be,ON_USER_UNMUTED:ye,ON_USER_BANNED:Me,ON_USER_UNBANNED:ve,ON_CHANNEL_FROZEN:Ie,ON_CHANNEL_UNFROZEN:De,ON_CHANNEL_CHANGED:Te,ON_META_DATA_CREATED:Se,ON_META_DATA_UPDATED:Re,ON_META_DATA_DELETED:Ue,ON_META_COUNTERS_CREATED:Ae,ON_META_COUNTERS_UPDATED:xe,ON_META_COUNTERS_DELETED:Pe,ON_MENTION_RECEIVED:we});function ke(n,a){switch(a.type){case se:return(0,e._)((0,e._)({},n),{allMessages:[]});case ae:var t=a.payload,s=t.operators;return!n.isInvalid&&n.currentOpenChannel&&n.currentOpenChannel.url&&n.currentOpenChannel.url===t.url?n:(0,e._)((0,e._)({},n),{currentOpenChannel:t,isInvalid:!1,operators:s,participants:s,bannedParticipantIds:[],mutedParticipantIds:[]});case te:return(0,e._)((0,e._)({},n),{isInvalid:!0});case re:return(0,e._)((0,e._)({},n),{loading:!0});case le:case ie:var l=a.type===ie,i=a.payload,o=i.currentOpenChannel,c=void 0===o?{}:o,d=i.messages,u=void 0===d?[]:d,p=i.hasMore,m=i.lastMessageTimestamp,_=c.url,g=l?[]:u,f=!l&&p,h=l?0:m;if(_!==n.currentOpenChannel.url)return n;var E=n.allMessages.filter(function(e){return!g.find(function(n){var a=n.messageId;return(0,r.c)(a,e.messageId)})});return(0,e._)((0,e._)({},n),{loading:!1,initialized:!0,hasMore:f,lastMessageTimestamp:h,allMessages:(0,e.m)(g,E)});case de:var C=a.payload,N=C.message;return C.channel.url!==n.currentOpenChannel.url?n:(0,e._)((0,e._)({},n),{allMessages:(0,e.m)(n.allMessages,[(0,e._)({},N)])});case ce:var O=a.payload,b=n.allMessages.map(function(e){return(0,r.c)(e.reqId,O.reqId)?O:e});return(0,e._)((0,e._)({},n),{allMessages:b});case oe:var y=a.payload;return(0,e._)((0,e._)({},n),{allMessages:n.allMessages.map(function(e){return(0,r.c)(e.reqId,y.reqId)?y:e})});case ue:var M=a.payload.channel,v=a.payload.message;return M.url!==n.currentOpenChannel.url?n:(0,e._)((0,e._)({},n),{allMessages:n.allMessages.map(function(e){return(0,r.c)(e.reqId,v.reqId)?v:e})});case pe:M=a.payload.channel;var I=a.payload.users;return M.url!==n.currentOpenChannel.url?n:(0,e._)((0,e._)({},n),{participants:(0,e.m)(n.participants,I)});case me:M=a.payload.channel;var D=a.payload.users;return M.url===n.currentOpenChannel.url&&D.every(function(e){return"string"==typeof e.userId})?(0,e._)((0,e._)({},n),{bannedParticipantIds:(0,e.m)(n.bannedParticipantIds,D.map(function(e){return e.userId}))}):n;case _e:M=a.payload.channel;var T=a.payload.users;return M.url===n.currentOpenChannel.url&&T.every(function(e){return"string"==typeof e.userId})?(0,e._)((0,e._)({},n),{mutedParticipantIds:(0,e.m)(n.bannedParticipantIds,T.map(function(e){return e.userId}))}):n;case ge:M=a.payload.channel;var S=a.payload.message;c=n.currentOpenChannel;return(0,r.c)(M.url,c.url)&&n.allMessages.map(function(e){return e.messageId}).indexOf(S.messageId)<0?(0,e._)((0,e._)({},n),{allMessages:(0,e.m)(n.allMessages,[S])}):n;case fe:M=a.payload.channel;var R=a.payload.message;return!(H=n.currentOpenChannel)||H.url&&H.url!==M.url?n:(0,e._)((0,e._)({},n),{allMessages:n.allMessages.map(function(e){return e.isIdentical(R)?R:e})});case he:M=a.payload.channel;var U=a.payload.messageId;return!(H=n.currentOpenChannel)||H.url&&H.url!==M.url?n:(0,e._)((0,e._)({},n),{allMessages:n.allMessages.filter(function(e){return!(0,r.c)(e.messageId,U)})});case Ee:return(0,e._)((0,e._)({},n),{allMessages:n.allMessages.filter(function(e){return!(0,r.c)(e.reqId,a.payload)})});case Ce:M=a.payload.channel;var A=a.payload.operators;return!(H=n.currentOpenChannel)||H.url&&H.url!==M.url?n:(0,e._)((0,e._)({},n),{currentOpenChannel:(0,e._)((0,e._)({},n.currentOpenChannel),{operators:A}),operators:A});case Ne:M=a.payload.channel;var x=a.payload.user;return!(H=n.currentOpenChannel)||H.url&&H.url!==M.url?n:(0,e._)((0,e._)({},n),{participants:(0,e.m)(n.participants,[x])});case Oe:M=a.payload.channel;var P=a.payload.user;return!(H=n.currentOpenChannel)||H.url&&H.url!==M.url?n:(0,e._)((0,e._)({},n),{participants:n.participants.filter(function(e){return!(0,r.c)(e.userId,P.userId)})});case be:M=a.payload.channel;var w=a.payload.user;return!(H=n.currentOpenChannel)||H.url&&H.url!==M.url||n.mutedParticipantIds.indexOf(w.userId)>=0?n:(0,e._)((0,e._)({},n),{mutedParticipantIds:(0,e.m)(n.mutedParticipantIds,[w.userId])});case ye:M=a.payload.channel;var L=a.payload.user;return!(H=n.currentOpenChannel)||H.url&&H.url!==M.url||n.mutedParticipantIds.indexOf(L.userId)<0?n:(0,e._)((0,e._)({},n),{mutedParticipantIds:n.mutedParticipantIds.filter(function(e){return e!==L.userId})});case Me:M=a.payload.channel;var k=a.payload.user;return!(H=n.currentOpenChannel)||H.url&&H.url!==M.url||n.bannedParticipantIds.indexOf(k.userId)>=0?n:(0,e._)((0,e._)({},n),{bannedParticipantIds:(0,e.m)(n.bannedParticipantIds,[k.userId])});case ve:M=a.payload.channel;var G=a.payload.user;return!(H=n.currentOpenChannel)||H.url&&H.url!==M.url||n.bannedParticipantIds.indexOf(G.userId)<0?n:(0,e._)((0,e._)({},n),{bannedParticipantIds:n.bannedParticipantIds.filter(function(e){return e!==G.userId})});case Ie:var B=a.payload;return!(H=n.currentOpenChannel)||H.url&&H.url!==B.url?n:(0,e._)((0,e._)({},n),{frozen:!0});case De:var F=a.payload;return!(H=n.currentOpenChannel)||H.url&&H.url!==F.url?n:(0,e._)((0,e._)({},n),{frozen:!1});case Te:var H,K=a.payload;return!(H=n.currentOpenChannel)||H.url&&H.url!==K.url?n:(0,e._)((0,e._)({},n),{currentOpenChannel:K});case Se:case Re:case Ue:case Ae:case xe:case Pe:case we:default:return n}}var Ge={allMessages:[],loading:!1,initialized:!1,currentOpenChannel:null,isInvalid:!1,hasMore:!1,lastMessageTimestamp:0,frozen:!1,operators:[],participants:[],bannedParticipantIds:[],mutedParticipantIds:[]};function Be(e,a){var t=e.channelUrl,s=e.sdkInit,r=e.fetchingParticipants,l=a.sdk,i=a.logger,o=a.messagesDispatcher;(0,n.useEffect)(function(){t&&s&&l&&l.OpenChannel&&(i.info("OpenChannel | useSetChannel fetching channel",t),l.OpenChannel.getChannel(t,function(e,n){n?(i.warning("OpenChannel | useSetChannel fetching channel failed",{channelUrl:t,error:n}),o({type:te,payload:null})):(i.info("OpenChannel | useSetChannel fetched channel",e),o({type:ae,payload:e}),e.enter(function(n,a){if(a&&(i.warning("OpenChannel | useSetChannel enter channel failed",{channelUrl:t,error:a}),o({type:te,payload:null})),r){var s=e.createParticipantListQuery(),l=e.createBannedUserListQuery(),c=e.createMutedUserListQuery();h(s,i,function(n){o({type:pe,payload:{channel:e,users:n}})}),h(l,i,function(n){o({type:me,payload:{channel:e,users:n}})}),h(c,i,function(n){o({type:_e,payload:{channel:e,users:n}})})}}))}))},[t,s,r])}function Fe(a,t){var s=a.currentOpenChannel,r=a.checkScrollBottom,l=t.sdk,i=t.logger,o=t.messagesDispatcher;(0,n.useEffect)(function(){var n=(0,e.n)();if(s&&s.url&&l&&l.ChannelHandler){var a=new l.ChannelHandler;i.info("OpenChannel | useHandleChannelEvents: Setup evnet handler",n),a.onMessageReceived=function(e,n){var a=r(),t=e.url;if(i.info("OpenChannel | useHandleChannelEvents: onMessageReceived",{channelUrl:t,message:n}),o({type:ge,payload:{channel:e,message:n}}),a)try{setTimeout(function(){u()})}catch(s){i.warning("OpenChannel | onMessageReceived | scroll to end failed")}},a.onMessageUpdated=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onMessageUpdated",{channelUrl:a,message:n}),o({type:fe,payload:{channel:e,message:n}})},a.onMessageDeleted=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onMessageDeleted",{channelUrl:a,messageId:n}),o({type:he,payload:{channel:e,messageId:n}})},a.onOperatorUpdated=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onOperatorUpdated",{channelUrl:a,operators:n}),o({type:Ce,payload:{channel:e,operators:n}})},a.onUserEntered=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onUserEntered",{channelUrl:a,user:n}),o({type:Ne,payload:{channel:e,user:n}})},a.onUserExited=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onUserExited",{channelUrl:a,user:n}),o({type:Oe,payload:{channel:e,user:n}})},a.onUserMuted=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onUserMuted",{channelUrl:a,user:n}),o({type:be,payload:{channel:e,user:n}})},a.onUserUnmuted=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onUserUnmuted",{channelUrl:a,user:n}),o({type:ye,payload:{channel:e,user:n}})},a.onUserBanned=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onUserBanned",{channelUrl:a,user:n}),o({type:Me,payload:{channel:e,user:n}})},a.onUserUnbanned=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onUserUnbanned",{channelUrl:a,user:n}),o({type:ve,payload:{channel:e,user:n}})},a.onChannelFrozen=function(e){i.info("OpenChannel | useHandleChannelEvents: onChannelFrozen",e),o({type:Ie,payload:e})},a.onChannelUnfrozen=function(e){i.info("OpenChannel | useHandleChannelEvents: onChannelUnfrozen",e),o({type:De,payload:e})},a.onChannelChanged=function(e){i.info("OpenChannel | useHandleChannelEvents: onChannelChanged",e),o({type:Te,payload:e})},a.onMetaDataCreated=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onMetaDataCreated",{channelUrl:a,metaData:n}),o({type:Se,payload:{channel:e,metaData:n}})},a.onMetaDataUpdated=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onMetaDataUpdated",{channelUrl:a,metaData:n}),o({type:Re,payload:{channel:e,metaData:n}})},a.onMetaDataDeleted=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onMetaDataDeleted",{channelUrl:a,metaDataKeys:n}),o({type:Ue,payload:{channel:e,metaDataKeys:n}})},a.onMetaCountersCreated=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onMetaCountersCreated",{channelUrl:a,metaCounter:n}),o({type:Ae,payload:{channel:e,metaCounter:n}})},a.onMetaCountersUpdated=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onMetaCountersUpdated",{channelUrl:a,metaCounter:n}),o({type:xe,payload:{channel:e,metaCounter:n}})},a.onMetaCountersDeleted=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onMetaCountersDeleted",{channelUrl:a,metaCounterKeys:n}),o({type:Pe,payload:{channel:e,metaCounterKeys:n}})},a.onMentionReceived=function(e,n){var a=e.url;i.info("OpenChannel | useHandleChannelEvents: onMentionReceived",{channelUrl:a,message:n}),o({type:we,payload:{channel:e,message:n}})},l.addChannelHandler(n,a)}return function(){l&&l.removeChannelHandler&&(i.info("OpenChannel | useHandleChannelEvents: Removing message receiver handler",n),l.removeChannelHandler(n))}},[s])}function He(e,a){var t=e.currentOpenChannel,s=e.userFilledMessageListParams,r=a.sdk,l=a.logger,i=a.messagesDispatcher;(0,n.useEffect)(function(){if(l.info("OpenChannel | useInitialMessagesFetch: Setup started",t),i({type:se,payload:null}),r&&r.MessageListParams&&t&&t.getMessagesByTimestamp){var e=new r.MessageListParams;e.prevResultSize=30,e.isInclusive=!0,e.includeReplies=!1,e.includeReactions=!1,s&&(Object.keys(s).forEach(function(n){e[n]=s[n]}),l.info("OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams")),l.info("OpenChannel | useInitialMessagesFetch: Fetching messages",{currentOpenChannel:t,messageListParams:e}),i({type:re,payload:null}),t.getMessagesByTimestamp((new Date).getTime(),e,function(e,n){if(n)l.error("OpenChannel | useInitialMessagesFetch: Fetching messages failed",n),i({type:ie,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}});else{l.info("OpenChannel | useInitialMessagesFetch: Fetching messages succeeded",e);var a=e&&e.length>0,s=a?e[0].createdAt:null;i({type:le,payload:{currentOpenChannel:t,messages:e,hasMore:a,lastMessageTimestamp:s}}),setTimeout(function(){u()})}})}},[t,s])}function Ke(e,a){var t=e.currentOpenChannel,s=e.lastMessageTimestamp,r=a.sdk,l=a.logger,i=a.messagesDispatcher,o=a.hasMore,c=a.userFilledMessageListParams;return(0,n.useCallback)(function(e){if(o&&r&&r.MessageListParams){l.info("OpenChannel | useScrollCallback: start");var n=new r.MessageListParams;n.prevResultSize=30,n.includeReplies=!1,n.includeReactions=!1,c&&(Object.keys(c).forEach(function(e){n[e]=c[e]}),l.info("OpenChannel | useScrollCallback: Used userFilledMessageListParams",c)),l.info("OpenChannel | useScrollCallback: Fetching messages",{currentOpenChannel:t,messageListParams:n}),t.getMessagesByTimestamp(s||(new Date).getTime(),n,function(n,a){if(a)l.error("OpenChannel | useScrollCallback: Fetching messages failed",a),i({type:ie,payload:{currentOpenChannel:t,messages:[],hasMore:!1,lastMessageTimestamp:0}});else{l.info("OpenChannel | useScrollCallback: Fetching messages succeeded",n);var s=n&&n.length>0,r=s?n[0].createdAt:null;i({type:le,payload:{currentOpenChannel:t,messages:n,hasMore:s,lastMessageTimestamp:r}}),setTimeout(function(){e()})}})}},[t,s])}function je(e,a){var t=e.conversationScrollRef,s=a.logger;return(0,n.useCallback)(function(){var e=!0;if(t)try{var n=t.current;e=n.scrollHeight<=n.scrollTop+n.clientHeight}catch(a){s.error("OpenChannel | useCheckScrollBottom",a)}return e},[t])}function qe(e,a){var t=e.currentOpenChannel,s=e.onBeforeSendUserMessage,r=e.checkScrollBottom,l=e.messageInputRef,i=a.sdk,o=a.logger,c=a.messagesDispatcher;return(0,n.useCallback)(function(){if(i&&i.UserMessageParams){var e=l.current.value;s&&"function"==typeof s&&o.info("OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage",s);var n=s?s(e):function(e){var n="string"==typeof e?e.trim():e.toString(10).trim(),a=new i.UserMessageParams;return a.message=n,a}(e);o.info("OpenChannel | useSendMessageCallback: Sending message has started",n);var a=r(),d=t.sendUserMessage(n,function(e,n){n?(o.warning("OpenChannel | useSendMessageCallback: Sending message failed",n),c({type:oe,payload:Le})):(o.info("OpenChannel | useSendMessageCallback: Sending message succeeded",e),c({type:ce,payload:e}),a&&setTimeout(function(){u()}))});c({type:de,payload:{message:d,channel:t}})}},[t,s,r,l])}function ze(a,t){var s=a.currentOpenChannel,r=a.checkScrollBottom,l=a.imageCompression,i=void 0===l?{}:l,o=a.onBeforeSendFileMessage,c=t.sdk,d=t.logger,p=t.messagesDispatcher;return(0,n.useCallback)(function(n){if(c&&c.FileMessageParams){var a=i.compressionRate,t=i.resizingWidth,l=i.resizingHeight,m=o&&"function"==typeof o,_="image/jpg"===n.type||"image/png"===n.type||"image/jpeg"===n.type,g=a>0&&a<1,f=E(t)||E(l),h=function(e){var n=new c.FileMessageParams;return n.file=e,n};if(_&&(g||f))try{var C=document.createElement("img");C.src=URL.createObjectURL(n),C.onload=function(){URL.revokeObjectURL(C.src);var i=document.createElement("canvas"),c=C.naturalWidth||C.width,_=C.naturalHeight||C.height,g=E(t)||c,N=E(l)||_;"image/png"!==n.type||f||(g*=a,N*=a),i.width=g,i.height=N;var O=i.getContext("2d");O.drawImage(C,0,0,g,N),O.canvas.toBlob(function(a){var t=new File([a],n.name,{type:n.type});m&&d.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",o);var l=o?o(t):h(t);d.info("OpenChannel | useFileUploadCallback: Uploading file message start",l);var i=r(),c=s.sendFileMessage(l,function(e,a){a?(d.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:e,error:a}),e.localUrl=URL.createObjectURL(n),e.file=n,p({type:oe,payload:e})):(d.info("OpenChannel | useFileUploadCallback: Sending message succeeded",e),p({type:ce,payload:e}),i&&setTimeout(function(){u()}))});p({type:de,payload:{message:(0,e._)((0,e._)({},c),{url:URL.createObjectURL(n),requestState:"pending"}),channel:s}})},n.type,a)}}catch(y){d.warning("OpenChannel | useFileUploadCallback: Sending file message with image compression failed",y)}else{m&&d.info("OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage",o);var N=o?o(n):h(n);d.info("OpenChannel | useFileUploadCallback: Uploading file message start",N);var O=r(),b=s.sendFileMessage(N,function(e,a){a?(d.error("OpenChannel | useFileUploadCallback: Sending file message failed",{message:e,error:a}),e.localUrl=URL.createObjectURL(n),e.file=n,p({type:oe,payload:e})):(d.info("OpenChannel | useFileUploadCallback: Sending message succeeded",e),p({type:ce,payload:e}),O&&setTimeout(function(){u()}))});p({type:de,payload:{message:(0,e._)((0,e._)({},b),{url:URL.createObjectURL(n),requestState:"pending"}),channel:s}})}}},[s,o,r,i])}function Ye(e,a){var t=e.currentOpenChannel,s=e.onBeforeSendUserMessage,r=a.sdk,l=a.logger,i=a.messagesDispatcher;return(0,n.useCallback)(function(e,n,a){s&&"function"==typeof s&&l.info("OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage");var o=s?s(n):function(e){var n=new r.UserMessageParams;return n.message=e,n}(n);t.updateUserMessage(e,o,function(e,n){a&&a(),n?l.warning("OpenChannel | useUpdateMessageCallback: Updating message failed",n):(l.info("OpenChannel | useUpdateMessageCallback: Updating message succeeded",{message:e,params:o}),i({type:fe,payload:{channel:t,message:e}}))})},[t,s])}function We(e,a){var t=e.currentOpenChannel,s=a.logger,r=a.messagesDispatcher;return(0,n.useCallback)(function(e,n){s.info("OpenChannel | useDeleteMessageCallback: Deleting message",e);var a=e.sendingStatus;s.info("OpenChannel | useDeleteMessageCallback: Deleting message requestState",a),"failed"===a||"pending"===a?(s.info("OpenChannel | useDeleteMessageCallback: Deleted message from local",e),r({type:Ee,payload:e.reqId}),n&&n()):t.deleteMessage(e,function(l){s.info("OpenChannel | useDeleteMessageCallback: Deleting message on server",a),n&&n(),l?s.warning("OpenChannel | useDeleteMessageCallback: Deleting message failed",l):(s.info("OpenChannel | useDeleteMessageCallback: Deleting message succeeded",e),r({type:he,payload:{channel:t,messageId:e.messageId}}))})},[t])}function Ve(e,a){var t=e.currentOpenChannel,s=a.logger,r=a.messagesDispatcher;return(0,n.useCallback)(function(e){s.info("OpenChannel | useResendMessageCallback: Resending message has started",e);var n=e.messageType,a=e.file;if(e&&"function"==typeof e.isResendable&&e.isResendable()){if(e.requestState="pending",r({type:ue,payload:{channel:t,message:e}}),"user"===n&&"user"===e.messageType)return void t.resendUserMessage(e,function(n,a){a?(s.warning("OpenChannel | useResendMessageCallback: Resending message failed",a),e.requestState="failed",r({type:oe,payload:e})):(s.info("OpenChannel | useResendMessageCallback: Reseding message succeeded",n),r({type:ce,payload:n}))});"file"===n&&"file"===e.messageType&&t.resendFileMessage(e,a,function(n,a){a?(s.warning("OpenChannel | useResendMessageCallback: Resending file message failed",a),e.requestState="failed",r({type:oe,payload:e})):(s.info("OpenChannel | useResendMessageCallback: Resending file message succeeded",n),r({type:ce,payload:n}))})}else console.error("OpenChannel | useResendMessageCallback: Message is not resendable"),s.warning("OpenChannel | useResendMessageCallback: Message is not resendable",e)},[t])}var Xe="sendbird-openchannel-conversation",Ze=function(s){var r=s.useMessageGrouping,l=s.channelUrl,i=s.stores,o=s.config,c=s.queries,d=void 0===c?{}:c,p=s.disableUserProfile,m=s.fetchingParticipants,g=void 0!==m&&m,h=s.renderCustomMessage,E=s.renderUserProfile,C=s.renderChannelTitle,b=s.renderMessageInput,M=s.onBeforeSendUserMessage,v=s.onBeforeSendFileMessage,I=s.onChatHeaderActionClick,D=i.sdkStore,T=i.userStore,S=o.userId,R=o.isOnline,U=o.logger,A=o.pubSub,x=o.imageCompression,P=D.sdk,w=T.user,L=(0,n.useReducer)(ke,Ge),k=L[0],G=L[1],B=k.allMessages,F=k.loading,H=k.initialized,K=k.currentOpenChannel,j=k.isInvalid,q=k.hasMore,z=k.lastMessageTimestamp,Y=k.operators,W=k.bannedParticipantIds,V=k.mutedParticipantIds,X=(0,n.useRef)(null),Z=(0,n.useRef)(null),Q=(0,n.useContext)(e.d).stringSet,$=D.initialized,J=d?d.messageListParams:null,ee=!H||!R||f(K,S),ae=p||o.disableUserProfile,te=E||o.renderUserProfile,se=(0,n.useMemo)(function(){return W.indexOf(w.userId)>=0},[l,W,w]),re=(0,n.useMemo)(function(){return V.indexOf(w.userId)>=0},[l,V,w]),le=(0,n.useMemo)(function(){return Y.map(function(e){return e.userId}).indexOf(w.userId)>=0},[l,Y,w]);Be({channelUrl:l,sdkInit:$,fetchingParticipants:g},{sdk:P,logger:U,messagesDispatcher:G});var ie=je({conversationScrollRef:Z},{logger:U});Fe({currentOpenChannel:K,checkScrollBottom:ie},{sdk:P,logger:U,messagesDispatcher:G}),He({currentOpenChannel:K,userFilledMessageListParams:J},{sdk:P,logger:U,messagesDispatcher:G});var oe=Ke({currentOpenChannel:K,lastMessageTimestamp:z},{sdk:P,logger:U,messagesDispatcher:G,hasMore:q,userFilledMessageListParams:J}),ue=qe({currentOpenChannel:K,onBeforeSendUserMessage:M,checkScrollBottom:ie,messageInputRef:X},{sdk:P,logger:U,messagesDispatcher:G}),pe=ze({currentOpenChannel:K,onBeforeSendFileMessage:v,checkScrollBottom:ie,imageCompression:x},{sdk:P,logger:U,messagesDispatcher:G}),me=Ye({currentOpenChannel:K,onBeforeSendUserMessage:M},{sdk:P,logger:U,messagesDispatcher:G}),_e=We({currentOpenChannel:K},{logger:U,messagesDispatcher:G}),ge=Ve({currentOpenChannel:K},{logger:U,messagesDispatcher:G});return(0,n.useEffect)(function(){var e=new Map;if(A&&A.subscribe)return e.set(a.h,A.subscribe(a.h,function(e){var n=e.channel,a=e.message;u(),n&&l===n.url&&G({type:ce,payload:a})})),e.set(a.S,A.subscribe(a.S,function(e){var n=e.channel,a=e.message;n&&l===n.url&&G({type:de,payload:a})})),e.set(a.i,A.subscribe(a.i,function(e){var n=e.channel,a=e.message;u(),n&&l===n.url&&G({type:ce,payload:a})})),e.set(a.U,A.subscribe(a.U,function(e){var n=e.channel,a=e.message;e.fromSelector&&n&&l===n.url&&G({type:fe,payload:{channel:n,message:a}})})),e.set(a.D,A.subscribe(a.D,function(e){var n=e.channel,a=e.messageId;n&&l===n.url&&G({type:he,payload:a})})),function(){e&&e.forEach(function(e){try{e.remove()}catch(c){}})}},[l,$]),K&&K.url&&!se?F?n.default.createElement("div",{className:Xe},n.default.createElement(t.P,{type:t.i.LOADING})):j?n.default.createElement("div",{className:Xe},n.default.createElement(t.P,{type:t.i.WRONG})):n.default.createElement(a.e,{className:Xe,disableUserProfile:ae,renderUserProfile:te},C?C({channel:K,user:w}):n.default.createElement(y,{title:K.name,subTitle:_(K.participantCount)+" "+Q.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS,coverImage:K.coverUrl,onActionClick:I,amIOperator:le}),K.isFrozen&&n.default.createElement(O,null),n.default.createElement(ne,{ref:Z,renderCustomMessage:h,openchannel:K,user:w,useMessageGrouping:r,isOnline:R,allMessages:B,onScroll:oe,hasMore:q,updateMessage:me,deleteMessage:_e,resendMessage:ge}),b?b({channel:K,user:w,disabled:ee}):n.default.createElement(N,{channel:K,user:w,ref:X,disabled:ee||re,onSendMessage:ue,onFileUpload:pe,renderMessageInput:b})):n.default.createElement("div",{className:Xe},n.default.createElement(t.P,{type:t.i.NO_CHANNELS}))};exports.OpenchannelConversation=Ze;var Qe=(0,e.w)(Ze),$e=Qe;exports.default=$e;
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","./index-711ec843.js":"zGzG","./index-ad616be9.js":"X2nd","date-fns/format":"ZzDw","react-dom":"X9zx","./index-aeef4ba5.js":"QCm6","date-fns/isSameDay":"UmhB"}],"bjMD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./LocalizationContext-12658c38.js"),t=o(require("react"));require("prop-types");var n=require("./index-711ec843.js"),a=require("./index-ad616be9.js"),l=require("./utils-53ba1773.js");require("date-fns/format"),require("./type-0296584d.js"),require("react-dom");var r=require("./index-5788a124.js"),i=require("./utils-d7f59026.js"),c=require("./index-70190ac9.js");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=l?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}function u(n){var r=n.channel,i=n.theme,c=n.height,s=void 0===c?56:c,o=n.width,u=void 0===o?56:o,d=(0,t.useContext)(e.d).stringSet,f=(0,t.useMemo)(function(){return t.default.createElement(a.A,{className:"sendbird-chat-header__avatar--open-channel",src:(0,l.d)(r),width:u+"px",height:s+"px",alt:r.name||d.OPEN_CHANNEL_SETTINGS__NO_TITLE})},[r.coverUrl,i]);return t.default.createElement(t.default.Fragment,null,f)}var d=function(l){var i=l.onSubmit,c=l.onCancel,s=l.channel,o=l.theme,d=(0,t.useRef)(null),f=(0,t.useRef)(null),_=(0,t.useRef)(null),m=(0,t.useState)(null),E=m[0],p=m[1],N=(0,t.useState)(null),h=N[0],C=N[1],g=(0,t.useContext)(e.d).stringSet,T=s.name;return t.default.createElement(n.M,{titleText:g.MODAL__CHANNEL_INFORMATION__TITLE,submitText:g.BUTTON__SAVE,onCancel:c,onSubmit:function(){""===T||d.current.value?(i(h,d.current.value),c()):f.current.reportValidity&&f.current.reportValidity()},type:n.T.PRIMARY},t.default.createElement("form",{className:"channel-profile-form",ref:f,onSubmit:function(e){e.preventDefault()}},t.default.createElement("div",{className:"channel-profile-form__img-section"},t.default.createElement(r.I,null,g.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE),t.default.createElement("div",{className:"channel-profile-form__avatar"},E?t.default.createElement(a.A,{height:"80px",width:"80px",src:E}):t.default.createElement(u,{height:80,width:80,channel:s,theme:o})),t.default.createElement("input",{ref:_,type:"file",accept:"image/gif, image/jpeg, image/png",style:{display:"none"},onChange:function(e){p(URL.createObjectURL(e.target.files[0])),C(e.target.files[0]),_.current.value=""}}),t.default.createElement(n.a,{className:"channel-profile-form__avatar-button",onClick:function(){return _.current.click()},notUnderline:!0},t.default.createElement(a.L,{type:a.a.BUTTON_1,color:a.b.PRIMARY},g.MODAL__CHANNEL_INFORMATION__UPLOAD))),t.default.createElement("div",{className:"channel-profile-form__name-section"},t.default.createElement(r.I,null,g.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME),t.default.createElement(r.a,{required:""!==T,name:"channel-profile-form__name",ref:d,value:T,placeHolder:g.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER}))))};function f(l){var r=l.disabled,i=l.channel,c=l.theme,s=l.onChannelInfoChange,o=i.name,f=(0,t.useState)(!1),_=f[0],m=f[1],E=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{className:"sendbird-openchannel-profile"},t.default.createElement("div",{className:"sendbird-openchannel-profile--inner"},t.default.createElement("div",{className:"sendbird-openchannel-profile__avatar"},t.default.createElement(u,{channel:i,theme:c,height:80,width:80})),t.default.createElement(a.L,{type:a.a.SUBTITLE_2,color:a.b.ONBACKGROUND_1,className:"sendbird-openchannel-profile__title"},o||E.OPEN_CHANNEL_SETTINGS__NO_TITLE),t.default.createElement(n.a,{disabled:r,className:"sendbird-openchannel-profile__edit",onClick:function(){r||m(!0)},notUnderline:!0},t.default.createElement(a.L,{type:a.a.BUTTON_1,color:r?a.b.ONBACKGROUND_2:a.b.PRIMARY},E.CHANNEL_SETTING__PROFILE__EDIT)),_&&t.default.createElement(d,{onCancel:function(){return m(!1)},onSubmit:s,channel:i,theme:c})))}function _(a){var i=a.hideModal,c=a.channel,s=(0,t.useContext)(e.d).stringSet,o=(0,t.useState)([]),u=o[0],d=o[1],f=(0,t.useState)(null),_=f[0],m=f[1];return(0,t.useEffect)(function(){if(c&&c.createParticipantListQuery){var e=c.createParticipantListQuery();m(e),e.next(function(e,t){t||d(e)})}},[]),t.default.createElement("div",null,t.default.createElement(n.M,{hideFooter:!0,onCancel:function(){return i()},onSubmit:l.n,titleText:s.OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE},t.default.createElement("div",{className:"sendbird-more-members__popup-scroll",onScroll:function(t){var n=_.hasNext,a=t.target,l=a.clientHeight+a.scrollTop===a.scrollHeight;n&&l&&_.next(function(t,n){n||d((0,e.m)(u,t))})}},u.map(function(e){return t.default.createElement(r.U,{user:e,key:e.userId})}))))}var m=10,E=function(l){var r=l.member,i=l.currentUser,c=void 0===i?"":i,s=(0,t.useRef)(null),o=(0,t.useContext)(n.f),u=o.disableUserProfile,d=o.renderUserProfile,f=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{className:"sendbird-participants-accordion__member"},t.default.createElement("div",{className:"sendbird-participants-accordion__member-avatar"},t.default.createElement(n.C,{menuTrigger:function(e){return t.default.createElement(a.A,{onClick:function(){u||e()},ref:s,src:r.profileUrl,width:24,height:24})},menuItems:function(e){return t.default.createElement(n.b,{openLeft:!0,parentRef:s,parentContainRef:s,closeDropdown:e,style:{paddingTop:0,paddingBottom:0}},d?d({user:r,currentUserId:c,close:e}):t.default.createElement(n.g,{disableMessaging:!0,user:r,currentUserId:c,onSuccess:e}))}})),t.default.createElement(a.L,{type:a.a.SUBTITLE_2,color:a.b.ONBACKGROUND_1},r.nickname||f.NO_NAME,c===r.userId&&f.YOU))};function p(l){var r=l.channel,i=l.currentUser,s=(0,t.useState)([]),o=s[0],u=s[1],d=(0,t.useState)(!1),f=d[0],p=d[1],N=(0,t.useContext)(e.d).stringSet;return(0,t.useEffect)(function(){r&&r.createParticipantListQuery&&r.createParticipantListQuery().next(function(e,t){t||u(e)})},[r]),t.default.createElement(c.a,{className:"sendbird-participants-accordion",id:"participants",renderTitle:function(){return t.default.createElement(t.default.Fragment,null,t.default.createElement(a.I,{type:a.c.MEMBERS,fillColor:a.d.PRIMARY,width:24,height:24,className:"sendbird-openchannel-settings__accordion-icon"}),t.default.createElement(a.L,{type:a.a.SUBTITLE_1,color:a.b.ONBACKGROUND_1},N.OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE))},renderContent:function(){return t.default.createElement("div",{className:""},t.default.createElement("div",{className:"sendbird-participants-accordion__list"},o.slice(0,m).map(function(e){return t.default.createElement(E,{member:e,currentUser:i,key:e.userId})}),o&&0===o.length?t.default.createElement(a.L,{className:"sendbird-channel-settings__empty-list",type:a.a.SUBTITLE_2,color:a.b.ONBACKGROUND_3},N.OPEN_CHANNEL_SETTINGS__EMPTY_LIST):null),o.length>=m&&t.default.createElement("div",{className:"sendbird-participants-accordion__footer"},t.default.createElement(n.B,{className:"sendbird-participants-accordion__footer__all-participants",type:n.T.SECONDARY,size:n.l.SMALL,onClick:function(){return p(!0)}},N.OPEN_CHANNEL_SETTINGS__SEE_ALL),f&&t.default.createElement(_,{currentUser:i,hideModal:function(){p(!1)},channel:r})))}})}function N(l){var r=l.isOnline,i=l.onDeleteChannel,c=(0,t.useState)(!1),s=c[0],o=c[1],u=(0,t.useContext)(e.d).stringSet;return t.default.createElement(t.default.Fragment,null,t.default.createElement("div",{className:"sendbird-openchannel-settings__panel-item\n          sendbird-openchannel-settings__delete-channel\n            "+(r?"":"sendbird-openchannel-settings__panel-item__disabled"),role:"button",tabIndex:0,onKeyDown:function(){r&&o(!0)},onClick:function(){r&&o(!0)}},t.default.createElement(a.I,{type:a.c.DELETE,className:["sendbird-openchannel-settings__panel-icon-left","sendbird-openchannel-settings__panel-icon__delete"].join(" "),height:"24px",width:"24px"}),t.default.createElement(a.L,{type:a.a.SUBTITLE_1,color:a.b.ONBACKGROUND_1},u.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL)),s&&t.default.createElement(n.M,{onCancel:function(){o(!1)},onSubmit:function(){i()},submitText:u.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT,titleText:u.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE}))}function h(n){var l=n.channel,r=n.onCloseClick,i=n.currentUser,c=(0,t.useContext)(e.d).stringSet,s=(0,t.useState)([]),o=s[0],u=s[1],d=(0,t.useState)(null),f=d[0],_=d[1];return(0,t.useEffect)(function(){if(l&&l.createParticipantListQuery){var e=l.createParticipantListQuery();_(e),e.next(function(e,t){t||u(e)})}},[l]),t.default.createElement("div",{className:"sendbird-openchannel-settings__participant"},t.default.createElement("div",{className:"sendbird-openchannel-settings__header"},t.default.createElement(a.L,{type:a.a.H_2,color:a.b.ONBACKGROUND_1},c.OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE),t.default.createElement(a.I,{type:a.c.CLOSE,className:"sendbird-openchannel-settings__close-icon",height:"24px",width:"24px",onClick:function(){r()}})),t.default.createElement("div",{className:"sendbird-openchannel-settings__participants-list",onScroll:function(t){var n=f.hasNext,a=t.target,l=a.clientHeight+a.scrollTop===a.scrollHeight;n&&l&&f.next(function(t,n){n||u((0,e.m)(o,t))})}},t.default.createElement("div",null,o.map(function(e){return t.default.createElement(E,{member:e,currentUser:i,key:e.userId})}),o&&0===o.length?t.default.createElement(a.L,{className:"sendbird-channel-settings__empty-list",type:a.a.SUBTITLE_2,color:a.b.ONBACKGROUND_3},c.OPEN_CHANNEL_SETTINGS__EMPTY_LIST):null)))}function C(n){var l=n.onCloseClick,r=(0,t.useContext)(e.d).stringSet;return t.default.createElement("div",{className:"sendbird-openchannel-settings"},t.default.createElement("div",{className:"sendbird-openchannel-settings__header"},t.default.createElement(a.L,{type:a.a.H_2,color:a.b.ONBACKGROUND_1},r.CHANNEL_SETTING__HEADER__TITLE),t.default.createElement(a.I,{type:a.c.CLOSE,className:"sendbird-openchannel-settings__close-icon",height:"24px",width:"24px",onClick:function(){l()}})),t.default.createElement("div",{className:"sendbird-openchannel-settings__placeholder"},t.default.createElement(a.P,{type:a.f.WRONG})))}var g=function(){return{info:l.n,error:l.n,warning:l.n}};function T(r){var s=r.channelUrl,o=r.onCloseClick,u=void 0===o?l.n:o,d=r.onBeforeUpdateChannel,_=r.onChannelModified,m=void 0===_?l.n:_,E=r.renderChannelProfile,T=r.renderUserProfile,L=r.onDeleteChannel,O=r.disableUserProfile,b=void 0!==O&&O,S=r.logger,I=void 0===S?g():S,A=r.sdk,v=r.theme,y=r.user,P=r.isOnline,U=y.userId,x=(0,t.useState)(null),R=x[0],D=x[1],H=(0,t.useContext)(e.d).stringSet;return(0,t.useEffect)(function(){s&&A&&A.getConnectionState?A.OpenChannel.getChannel(s,function(e,t){D(t?null:e)}):D(null)},[s,A]),R?t.default.createElement(n.e,{disableUserProfile:b,renderUserProfile:T,className:"sendbird-openchannel-settings"},R.isOperator(y)?t.default.createElement(t.default.Fragment,null,t.default.createElement("div",{className:"sendbird-openchannel-settings__header"},t.default.createElement(a.L,{type:a.a.H_2,color:a.b.ONBACKGROUND_1},H.CHANNEL_SETTING__HEADER__TITLE),t.default.createElement(a.I,{type:a.c.CLOSE,className:"sendbird-openchannel-settings__close-icon",height:"24px",width:"24px",onClick:function(){u()}})),t.default.createElement("div",{className:"sendbird-openchannel-settings__profile"},E?E({channel:R,user:y}):t.default.createElement(f,{disabled:!P,channel:R,theme:v,onChannelInfoChange:function(e,t){if(I.info("ChannelSettings: Channel information being updated"),d){var n=d(t,e,R.data);I.info("ChannelSettings: onBeforeUpdateChannel",n),R.updateChannel(n,function(e){m(e),D(null),D(e)})}else R.updateChannel(t,e,R.data,function(e){I.info("ChannelSettings: Channel information updated",e),m(e),D(null),D(e)})}})),t.default.createElement("div",{className:"sendbird-openchannel-settings__url"},t.default.createElement(a.I,{type:a.c.COPY,className:"sendbird-openchannel-settings__copy-icon",height:"22px",width:"22px",onClick:function(){(0,i.c)(R.url)}}),t.default.createElement(a.L,{type:a.a.CAPTION_2,color:a.b.ONBACKGROUND_2,className:"sendbird-openchannel-settings__url-label"},H.OPEN_CHANNEL_SETTINGS__OPERATOR_URL),t.default.createElement(a.L,{type:a.a.SUBTITLE_2,className:"sendbird-openchannel-settings__url-value"},R.url)),t.default.createElement(c.A,null,t.default.createElement(p,{channel:R,currentUser:U})),t.default.createElement(N,{isOnline:P,onDeleteChannel:function(){R.delete(function(e,t){t?I.warning("OpenChannelSettings: Delete channel failed",t):(I.info("OpenChannelSettings: Delete channel success",e),L&&L(R))})}})):t.default.createElement(h,{currentUser:U,channel:R,onCloseClick:function(){u()}})):t.default.createElement(C,{onCloseClick:function(){I.info("OpenChannelSettings: Click close"),u&&u()}})}var L=(0,e.w)(T,function(e){var t=e&&e.config&&e.config.logger,a=e&&e.config&&e.config.theme||"light",l=e&&e.config&&e.config.isOnline,r=e&&e.stores&&e.stores.userStore&&e.stores.userStore.user;return{sdk:n.s.getSdk(e),logger:t,theme:a,isOnline:l,user:r}}),O=L;exports.default=O;
},{"./LocalizationContext-12658c38.js":"ra5a","react":"HdMw","prop-types":"Iix9","./index-711ec843.js":"zGzG","./index-ad616be9.js":"X2nd","./utils-53ba1773.js":"DjaK","date-fns/format":"ZzDw","./type-0296584d.js":"xJ4h","react-dom":"X9zx","./index-5788a124.js":"YNuJ","./utils-d7f59026.js":"WXy6","./index-70190ac9.js":"WGDO"}],"MDMF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useSendbirdStateContext=j,Object.defineProperty(exports,"getStringSet",{enumerable:!0,get:function(){return e.g}}),Object.defineProperty(exports,"withSendBird",{enumerable:!0,get:function(){return e.w}}),Object.defineProperty(exports,"SendBirdProvider",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"sendBirdSelectors",{enumerable:!0,get:function(){return n.s}}),Object.defineProperty(exports,"ChannelList",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Channel",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"getAllEmojisFromEmojiContainer",{enumerable:!0,get:function(){return u.getAllEmojisFromEmojiContainer}}),Object.defineProperty(exports,"getEmojiCategoriesFromEmojiContainer",{enumerable:!0,get:function(){return u.getEmojiCategoriesFromEmojiContainer}}),Object.defineProperty(exports,"getEmojisFromEmojiContainer",{enumerable:!0,get:function(){return u.getEmojisFromEmojiContainer}}),Object.defineProperty(exports,"ChannelSettings",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"App",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"MessageSearch",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"OpenChannel",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"OpenChannelSettings",{enumerable:!0,get:function(){return d.default}});var e=require("./LocalizationContext-12658c38.js"),r=p(require("./SendbirdProvider.js")),t=require("react");require("prop-types"),require("sendbird"),require("./actionTypes-a85c0eaa.js"),require("css-vars-ponyfill");var n=require("./index-711ec843.js"),i=p(require("./ChannelList.js"));require("./index-4eb938ab.js"),require("./index-ad616be9.js"),require("./utils-53ba1773.js"),require("./LeaveChannel-2c2f8e8e.js"),require("date-fns/isToday"),require("date-fns/format"),require("date-fns/isYesterday"),require("./type-0296584d.js"),require("./utils-cfdeb084.js"),require("react-dom"),require("./index-5788a124.js");var u=l(require("./Channel.js"));require("./index-aeef4ba5.js"),require("date-fns/isSameDay"),require("./utils-d7f59026.js"),require("date-fns/formatDistanceToNowStrict");var o=p(require("./ChannelSettings.js"));require("./index-70190ac9.js");var a=p(require("./App.js")),s=p(require("./MessageSearch.js")),f=p(require("./OpenChannel.js")),d=p(require("./OpenChannelSettings.js"));function c(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:r})(e)}function l(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(r);if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=i?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}function p(e){return e&&e.__esModule?e:{default:e}}function j(){return(0,t.useContext)(e.S)}
},{"./LocalizationContext-12658c38.js":"ra5a","./SendbirdProvider.js":"Mt7d","react":"HdMw","prop-types":"Iix9","sendbird":"cz0G","./actionTypes-a85c0eaa.js":"kvwx","css-vars-ponyfill":"lasz","./index-711ec843.js":"zGzG","./ChannelList.js":"W94N","./index-4eb938ab.js":"JmLL","./index-ad616be9.js":"X2nd","./utils-53ba1773.js":"DjaK","./LeaveChannel-2c2f8e8e.js":"ZFXd","date-fns/isToday":"YrnY","date-fns/format":"ZzDw","date-fns/isYesterday":"LqHY","./type-0296584d.js":"xJ4h","./utils-cfdeb084.js":"ILLV","react-dom":"X9zx","./index-5788a124.js":"YNuJ","./Channel.js":"OmmJ","./index-aeef4ba5.js":"QCm6","date-fns/isSameDay":"UmhB","./utils-d7f59026.js":"WXy6","date-fns/formatDistanceToNowStrict":"xP96","./ChannelSettings.js":"HQlQ","./index-70190ac9.js":"WGDO","./App.js":"TgPv","./MessageSearch.js":"uNIo","./OpenChannel.js":"m5Iq","./OpenChannelSettings.js":"bjMD"}],"gKk3":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var t=new Uint8Array(16);function o(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}
},{}],"Wq06":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;exports.default=e;
},{}],"p9l8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./regex.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return"string"==typeof t&&e.default.test(t)}var u=r;exports.default=u;
},{"./regex.js":"Wq06"}],"vDjk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./validate.js"));function r(e){return e&&e.__esModule?e:{default:e}}for(var t=[],i=0;i<256;++i)t.push((i+256).toString(16).substr(1));function o(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(t[r[i+0]]+t[r[i+1]]+t[r[i+2]]+t[r[i+3]]+"-"+t[r[i+4]]+t[r[i+5]]+"-"+t[r[i+6]]+t[r[i+7]]+"-"+t[r[i+8]]+t[r[i+9]]+"-"+t[r[i+10]]+t[r[i+11]]+t[r[i+12]]+t[r[i+13]]+t[r[i+14]]+t[r[i+15]]).toLowerCase();if(!(0,e.default)(o))throw TypeError("Stringified UUID is invalid");return o}var u=o;exports.default=u;
},{"./validate.js":"p9l8"}],"qgnI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,r,s=o(require("./rng.js")),n=o(require("./stringify.js"));function o(e){return e&&e.__esModule?e:{default:e}}var u=0,t=0;function a(o,a,l){var d=a&&l||0,i=a||new Array(16),c=(o=o||{}).node||e,v=void 0!==o.clockseq?o.clockseq:r;if(null==c||null==v){var f=o.random||(o.rng||s.default)();null==c&&(c=e=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==v&&(v=r=16383&(f[6]<<8|f[7]))}var q=void 0!==o.msecs?o.msecs:Date.now(),m=void 0!==o.nsecs?o.nsecs:t+1,p=q-u+(m-t)/1e4;if(p<0&&void 0===o.clockseq&&(v=v+1&16383),(p<0||q>u)&&void 0===o.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=q,t=m,r=v;var w=(1e4*(268435455&(q+=122192928e5))+m)%4294967296;i[d++]=w>>>24&255,i[d++]=w>>>16&255,i[d++]=w>>>8&255,i[d++]=255&w;var _=q/4294967296*1e4&268435455;i[d++]=_>>>8&255,i[d++]=255&_,i[d++]=_>>>24&15|16,i[d++]=_>>>16&255,i[d++]=v>>>8|128,i[d++]=255&v;for(var g=0;g<6;++g)i[d+g]=c[g];return a||(0,n.default)(i)}var l=a;exports.default=l;
},{"./rng.js":"gKk3","./stringify.js":"vDjk"}],"rtKa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./validate.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(0,e.default)(r))throw TypeError("Invalid UUID");var t,s=new Uint8Array(16);return s[0]=(t=parseInt(r.slice(0,8),16))>>>24,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[4]=(t=parseInt(r.slice(9,13),16))>>>8,s[5]=255&t,s[6]=(t=parseInt(r.slice(14,18),16))>>>8,s[7]=255&t,s[8]=(t=parseInt(r.slice(19,23),16))>>>8,s[9]=255&t,s[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,s[11]=t/4294967296&255,s[12]=t>>>24&255,s[13]=t>>>16&255,s[14]=t>>>8&255,s[15]=255&t,s}var s=t;exports.default=s;
},{"./validate.js":"p9l8"}],"Y6ie":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s,exports.URL=exports.DNS=void 0;var e=t(require("./stringify.js")),r=t(require("./parse.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){e=unescape(encodeURIComponent(e));for(var r=[],t=0;t<e.length;++t)r.push(e.charCodeAt(t));return r}var a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";exports.DNS=a;var o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function s(t,s,u){function i(t,a,o,i){if("string"==typeof t&&(t=n(t)),"string"==typeof a&&(a=(0,r.default)(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+t.length);if(d.set(a),d.set(t,a.length),(d=u(d))[6]=15&d[6]|s,d[8]=63&d[8]|128,o){i=i||0;for(var f=0;f<16;++f)o[i+f]=d[f];return o}return(0,e.default)(d)}try{i.name=t}catch(d){}return i.DNS=a,i.URL=o,i}exports.URL=o;
},{"./stringify.js":"vDjk","./parse.js":"rtKa"}],"bGV3":[function(require,module,exports) {
"use strict";function n(n){if("string"==typeof n){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var o=0;o<t.length;++o)n[o]=t.charCodeAt(o)}return r(e(u(n),8*n.length))}function r(n){for(var r=[],t=32*n.length,e=0;e<t;e+=8){var u=n[e>>5]>>>e%32&255,o=parseInt("0123456789abcdef".charAt(u>>>4&15)+"0123456789abcdef".charAt(15&u),16);r.push(o)}return r}function t(n){return 14+(n+64>>>9<<4)+1}function e(n,r){n[r>>5]|=128<<r%32,n[t(r)-1]=r;for(var e=1732584193,u=-271733879,f=-1732584194,a=271733878,v=0;v<n.length;v+=16){var s=e,d=u,p=f,g=a;e=c(e,u,f,a,n[v],7,-680876936),a=c(a,e,u,f,n[v+1],12,-389564586),f=c(f,a,e,u,n[v+2],17,606105819),u=c(u,f,a,e,n[v+3],22,-1044525330),e=c(e,u,f,a,n[v+4],7,-176418897),a=c(a,e,u,f,n[v+5],12,1200080426),f=c(f,a,e,u,n[v+6],17,-1473231341),u=c(u,f,a,e,n[v+7],22,-45705983),e=c(e,u,f,a,n[v+8],7,1770035416),a=c(a,e,u,f,n[v+9],12,-1958414417),f=c(f,a,e,u,n[v+10],17,-42063),u=c(u,f,a,e,n[v+11],22,-1990404162),e=c(e,u,f,a,n[v+12],7,1804603682),a=c(a,e,u,f,n[v+13],12,-40341101),f=c(f,a,e,u,n[v+14],17,-1502002290),e=i(e,u=c(u,f,a,e,n[v+15],22,1236535329),f,a,n[v+1],5,-165796510),a=i(a,e,u,f,n[v+6],9,-1069501632),f=i(f,a,e,u,n[v+11],14,643717713),u=i(u,f,a,e,n[v],20,-373897302),e=i(e,u,f,a,n[v+5],5,-701558691),a=i(a,e,u,f,n[v+10],9,38016083),f=i(f,a,e,u,n[v+15],14,-660478335),u=i(u,f,a,e,n[v+4],20,-405537848),e=i(e,u,f,a,n[v+9],5,568446438),a=i(a,e,u,f,n[v+14],9,-1019803690),f=i(f,a,e,u,n[v+3],14,-187363961),u=i(u,f,a,e,n[v+8],20,1163531501),e=i(e,u,f,a,n[v+13],5,-1444681467),a=i(a,e,u,f,n[v+2],9,-51403784),f=i(f,a,e,u,n[v+7],14,1735328473),e=h(e,u=i(u,f,a,e,n[v+12],20,-1926607734),f,a,n[v+5],4,-378558),a=h(a,e,u,f,n[v+8],11,-2022574463),f=h(f,a,e,u,n[v+11],16,1839030562),u=h(u,f,a,e,n[v+14],23,-35309556),e=h(e,u,f,a,n[v+1],4,-1530992060),a=h(a,e,u,f,n[v+4],11,1272893353),f=h(f,a,e,u,n[v+7],16,-155497632),u=h(u,f,a,e,n[v+10],23,-1094730640),e=h(e,u,f,a,n[v+13],4,681279174),a=h(a,e,u,f,n[v],11,-358537222),f=h(f,a,e,u,n[v+3],16,-722521979),u=h(u,f,a,e,n[v+6],23,76029189),e=h(e,u,f,a,n[v+9],4,-640364487),a=h(a,e,u,f,n[v+12],11,-421815835),f=h(f,a,e,u,n[v+15],16,530742520),e=l(e,u=h(u,f,a,e,n[v+2],23,-995338651),f,a,n[v],6,-198630844),a=l(a,e,u,f,n[v+7],10,1126891415),f=l(f,a,e,u,n[v+14],15,-1416354905),u=l(u,f,a,e,n[v+5],21,-57434055),e=l(e,u,f,a,n[v+12],6,1700485571),a=l(a,e,u,f,n[v+3],10,-1894986606),f=l(f,a,e,u,n[v+10],15,-1051523),u=l(u,f,a,e,n[v+1],21,-2054922799),e=l(e,u,f,a,n[v+8],6,1873313359),a=l(a,e,u,f,n[v+15],10,-30611744),f=l(f,a,e,u,n[v+6],15,-1560198380),u=l(u,f,a,e,n[v+13],21,1309151649),e=l(e,u,f,a,n[v+4],6,-145523070),a=l(a,e,u,f,n[v+11],10,-1120210379),f=l(f,a,e,u,n[v+2],15,718787259),u=l(u,f,a,e,n[v+9],21,-343485551),e=o(e,s),u=o(u,d),f=o(f,p),a=o(a,g)}return[e,u,f,a]}function u(n){if(0===n.length)return[];for(var r=8*n.length,e=new Uint32Array(t(r)),u=0;u<r;u+=8)e[u>>5]|=(255&n[u/8])<<u%32;return e}function o(n,r){var t=(65535&n)+(65535&r);return(n>>16)+(r>>16)+(t>>16)<<16|65535&t}function f(n,r){return n<<r|n>>>32-r}function a(n,r,t,e,u,a){return o(f(o(o(r,n),o(e,a)),u),t)}function c(n,r,t,e,u,o,f){return a(r&t|~r&e,n,r,u,o,f)}function i(n,r,t,e,u,o,f){return a(r&e|t&~e,n,r,u,o,f)}function h(n,r,t,e,u,o,f){return a(r^t^e,n,r,u,o,f)}function l(n,r,t,e,u,o,f){return a(t^(r|~e),n,r,u,o,f)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var v=n;exports.default=v;
},{}],"vJdu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./v35.js")),r=t(require("./md5.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)("v3",48,r.default),d=u;exports.default=d;
},{"./v35.js":"Y6ie","./md5.js":"bGV3"}],"K7Zs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./rng.js")),r=t(require("./stringify.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u,n){var a=(t=t||{}).random||(t.rng||e.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,u){n=n||0;for(var f=0;f<16;++f)u[n+f]=a[f];return u}return(0,r.default)(a)}var n=u;exports.default=n;
},{"./rng.js":"gKk3","./stringify.js":"vDjk"}],"MvYZ":[function(require,module,exports) {
"use strict";function r(r,e,t,a){switch(r){case 0:return e&t^~e&a;case 1:return e^t^a;case 2:return e&t^e&a^t&a;case 3:return e^t^a}}function e(r,e){return r<<e|r>>>32-e}function t(t){var a=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var s=0;s<n.length;++s)t.push(n.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var f=t.length/4+2,u=Math.ceil(f/16),c=new Array(u),l=0;l<u;++l){for(var i=new Uint32Array(16),v=0;v<16;++v)i[v]=t[64*l+4*v]<<24|t[64*l+4*v+1]<<16|t[64*l+4*v+2]<<8|t[64*l+4*v+3];c[l]=i}c[u-1][14]=8*(t.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<u;++h){for(var p=new Uint32Array(80),y=0;y<16;++y)p[y]=c[h][y];for(var d=16;d<80;++d)p[d]=e(p[d-3]^p[d-8]^p[d-14]^p[d-16],1);for(var A=o[0],g=o[1],w=o[2],M=o[3],x=o[4],U=0;U<80;++U){var C=Math.floor(U/20),_=e(A,5)+r(C,g,w,M)+x+a[C]+p[U]>>>0;x=M,M=w,w=e(g,30)>>>0,g=A,A=_}o[0]=o[0]+A>>>0,o[1]=o[1]+g>>>0,o[2]=o[2]+w>>>0,o[3]=o[3]+M>>>0,o[4]=o[4]+x>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t;exports.default=a;
},{}],"K2oB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./v35.js")),r=t(require("./sha1.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)("v5",80,r.default),s=u;exports.default=s;
},{"./v35.js":"Y6ie","./sha1.js":"MvYZ"}],"loGb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="00000000-0000-0000-0000-000000000000";exports.default=e;
},{}],"GRom":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./validate.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(0,e.default)(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var u=t;exports.default=u;
},{"./validate.js":"p9l8"}],"UeUD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"v4",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"v5",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"version",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"validate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"parse",{enumerable:!0,get:function(){return s.default}});var e=a(require("./v1.js")),r=a(require("./v3.js")),t=a(require("./v4.js")),n=a(require("./v5.js")),u=a(require("./nil.js")),i=a(require("./version.js")),o=a(require("./validate.js")),f=a(require("./stringify.js")),s=a(require("./parse.js"));function a(e){return e&&e.__esModule?e:{default:e}}
},{"./v1.js":"qgnI","./v3.js":"vJdu","./v4.js":"K7Zs","./v5.js":"K2oB","./nil.js":"loGb","./version.js":"GRom","./validate.js":"p9l8","./stringify.js":"vDjk","./parse.js":"rtKa"}],"vP1x":[function(require,module,exports) {
var global = arguments[3];
var define;
var n,t=arguments[3];(function(){function r(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function e(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function i(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function o(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function f(n,t){return!(null==n||!n.length)&&y(n,t,0)>-1}function c(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function a(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function l(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function s(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function h(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function p(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function _(n){return n.match(Ot)||[]}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){return t==t?function(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}(n,t,r):g(n,b,r)}function d(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n){return n!=n}function w(n,t){var r=null==n?0:n.length;return r?A(n,t)/r:xn}function m(n){return function(t){return null==t?P:t[n]}}function x(n){return function(t){return null==n?P:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==P&&(r=r===P?i:r+i)}return r}function k(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function O(n){return n?n.slice(0,F(n)+1).replace(mt,""):n}function I(n){return function(t){return n(t)}}function R(n,t){return a(t,function(t){return n[t]})}function z(n,t){return n.has(t)}function E(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function S(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function W(n){return"\\"+kr[n]}function L(n){return br.test(n)}function C(n){return wr.test(n)}function U(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function B(n,t){return function(r){return n(t(r))}}function T(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==J||(n[r]=J,i[u++]=r)}return i}function $(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function D(n){return L(n)?function(n){for(var t=yr.lastIndex=0;yr.test(n);)++t;return t}(n):Nr(n)}function M(n){return L(n)?function(n){return n.match(yr)||[]}(n):function(n){return n.split("")}(n)}function F(n){for(var t=n.length;t--&&xt.test(n.charAt(t)););return t}function N(n){return n.match(dr)||[]}var P,q=200,Z="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",K="Expected a function",V="Invalid `variable` option passed into `_.template`",G="__lodash_hash_undefined__",H=500,J="__lodash_placeholder__",Y=1,Q=2,X=4,nn=1,tn=2,rn=1,en=2,un=4,on=8,fn=16,cn=32,an=64,ln=128,sn=256,hn=512,pn=30,_n="...",vn=800,gn=16,yn=1,dn=2,bn=1/0,wn=9007199254740991,mn=1.7976931348623157e308,xn=NaN,jn=4294967295,An=jn-1,kn=jn>>>1,On=[["ary",ln],["bind",rn],["bindKey",en],["curry",on],["curryRight",fn],["flip",hn],["partial",cn],["partialRight",an],["rearg",sn]],In="[object Arguments]",Rn="[object Array]",zn="[object AsyncFunction]",En="[object Boolean]",Sn="[object Date]",Wn="[object DOMException]",Ln="[object Error]",Cn="[object Function]",Un="[object GeneratorFunction]",Bn="[object Map]",Tn="[object Number]",$n="[object Null]",Dn="[object Object]",Mn="[object Promise]",Fn="[object Proxy]",Nn="[object RegExp]",Pn="[object Set]",qn="[object String]",Zn="[object Symbol]",Kn="[object Undefined]",Vn="[object WeakMap]",Gn="[object WeakSet]",Hn="[object ArrayBuffer]",Jn="[object DataView]",Yn="[object Float32Array]",Qn="[object Float64Array]",Xn="[object Int8Array]",nt="[object Int16Array]",tt="[object Int32Array]",rt="[object Uint8Array]",et="[object Uint8ClampedArray]",ut="[object Uint16Array]",it="[object Uint32Array]",ot=/\b__p \+= '';/g,ft=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,at=/&(?:amp|lt|gt|quot|#39);/g,lt=/[&<>"']/g,st=RegExp(at.source),ht=RegExp(lt.source),pt=/<%-([\s\S]+?)%>/g,_t=/<%([\s\S]+?)%>/g,vt=/<%=([\s\S]+?)%>/g,gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yt=/^\w*$/,dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bt=/[\\^$.*+?()[\]{}|]/g,wt=RegExp(bt.source),mt=/^\s+/,xt=/\s/,jt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,At=/\{\n\/\* \[wrapped with (.+)\] \*/,kt=/,? & /,Ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,It=/[()=,{}\[\]\/\s]/,Rt=/\\(\\)?/g,zt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Et=/\w*$/,St=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,Lt=/^\[object .+?Constructor\]$/,Ct=/^0o[0-7]+$/i,Ut=/^(?:0|[1-9]\d*)$/,Bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tt=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,Dt="\\ud800-\\udfff",Mt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ft="\\u2700-\\u27bf",Nt="a-z\\xdf-\\xf6\\xf8-\\xff",Pt="A-Z\\xc0-\\xd6\\xd8-\\xde",qt="\\ufe0e\\ufe0f",Zt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kt="[']",Vt="["+Dt+"]",Gt="["+Zt+"]",Ht="["+Mt+"]",Jt="\\d+",Yt="["+Ft+"]",Qt="["+Nt+"]",Xt="[^"+Dt+Zt+Jt+Ft+Nt+Pt+"]",nr="\\ud83c[\\udffb-\\udfff]",tr="[^"+Dt+"]",rr="(?:\\ud83c[\\udde6-\\uddff]){2}",er="[\\ud800-\\udbff][\\udc00-\\udfff]",ur="["+Pt+"]",ir="\\u200d",or="(?:"+Qt+"|"+Xt+")",fr="(?:"+ur+"|"+Xt+")",cr="(?:['](?:d|ll|m|re|s|t|ve))?",ar="(?:['](?:D|LL|M|RE|S|T|VE))?",lr="(?:"+Ht+"|"+nr+")"+"?",sr="["+qt+"]?",hr=sr+lr+("(?:"+ir+"(?:"+[tr,rr,er].join("|")+")"+sr+lr+")*"),pr="(?:"+[Yt,rr,er].join("|")+")"+hr,_r="(?:"+[tr+Ht+"?",Ht,rr,er,Vt].join("|")+")",vr=RegExp(Kt,"g"),gr=RegExp(Ht,"g"),yr=RegExp(nr+"(?="+nr+")|"+_r+hr,"g"),dr=RegExp([ur+"?"+Qt+"+"+cr+"(?="+[Gt,ur,"$"].join("|")+")",fr+"+"+ar+"(?="+[Gt,ur+or,"$"].join("|")+")",ur+"?"+or+"+"+cr,ur+"+"+ar,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Jt,pr].join("|"),"g"),br=RegExp("["+ir+Dt+Mt+qt+"]"),wr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xr=-1,jr={};jr[Yn]=jr[Qn]=jr[Xn]=jr[nt]=jr[tt]=jr[rt]=jr[et]=jr[ut]=jr[it]=!0,jr[In]=jr[Rn]=jr[Hn]=jr[En]=jr[Jn]=jr[Sn]=jr[Ln]=jr[Cn]=jr[Bn]=jr[Tn]=jr[Dn]=jr[Nn]=jr[Pn]=jr[qn]=jr[Vn]=!1;var Ar={};Ar[In]=Ar[Rn]=Ar[Hn]=Ar[Jn]=Ar[En]=Ar[Sn]=Ar[Yn]=Ar[Qn]=Ar[Xn]=Ar[nt]=Ar[tt]=Ar[Bn]=Ar[Tn]=Ar[Dn]=Ar[Nn]=Ar[Pn]=Ar[qn]=Ar[Zn]=Ar[rt]=Ar[et]=Ar[ut]=Ar[it]=!0,Ar[Ln]=Ar[Cn]=Ar[Vn]=!1;var kr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Or=parseFloat,Ir=parseInt,Rr="object"==typeof t&&t&&t.Object===Object&&t,zr="object"==typeof self&&self&&self.Object===Object&&self,Er=Rr||zr||Function("return this")(),Sr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wr=Sr&&"object"==typeof module&&module&&!module.nodeType&&module,Lr=Wr&&Wr.exports===Sr,Cr=Lr&&Rr.process,Ur=function(){try{var n=Wr&&Wr.require&&Wr.require("util").types;return n||Cr&&Cr.binding&&Cr.binding("util")}catch(n){}}(),Br=Ur&&Ur.isArrayBuffer,Tr=Ur&&Ur.isDate,$r=Ur&&Ur.isMap,Dr=Ur&&Ur.isRegExp,Mr=Ur&&Ur.isSet,Fr=Ur&&Ur.isTypedArray,Nr=m("length"),Pr=x({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),qr=x({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Zr=x({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Kr=function n(t){function x(n){if(fi(n)&&!Qf(n)&&!(n instanceof Dt)){if(n instanceof Ot)return n;if(Ji.call(n,"__wrapped__"))return Lu(n)}return new Ot(n)}function xt(){}function Ot(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=P}function Dt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jn,this.__views__=[]}function Mt(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Ft(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Nt(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Pt(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new Nt;++t<r;)this.add(n[t])}function qt(n){this.size=(this.__data__=new Ft(n)).size}function Zt(n,t){var r=Qf(n),e=!r&&Yf(n),u=!r&&!e&&nc(n),i=!r&&!e&&!u&&ic(n),o=r||e||u||i,f=o?k(n.length,Pi):[],c=f.length;for(var a in n)!t&&!Ji.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||yu(a,c))||f.push(a);return f}function Kt(n){var t=n.length;return t?n[ee(0,t-1)]:P}function Vt(n,t,r){(r===P||Xu(n[t],r))&&(r!==P||t in n)||Qt(n,t,r)}function Gt(n,t,r){var e=n[t];Ji.call(n,t)&&Xu(e,r)&&(r!==P||t in n)||Qt(n,t,r)}function Ht(n,t){for(var r=n.length;r--;)if(Xu(n[r][0],t))return r;return-1}function Jt(n,t,r,e){return Ho(n,function(n,u,i){t(e,n,r(n),i)}),e}function Yt(n,t){return n&&We(t,mi(t),n)}function Qt(n,t,r){"__proto__"==t&&_o?_o(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function Xt(n,t){for(var r=-1,e=t.length,u=Bi(e),i=null==n;++r<e;)u[r]=i?P:bi(n,t[r]);return u}function nr(n,t,r){return n==n&&(r!==P&&(n=n<=r?n:r),t!==P&&(n=n>=t?n:t)),n}function tr(n,t,r,e,i,o){var f,c=t&Y,a=t&Q,l=t&X;if(r&&(f=i?r(n,e,i,o):r(n)),f!==P)return f;if(!oi(n))return n;var s=Qf(n);if(s){if(f=function(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&Ji.call(n,"index")&&(r.index=n.index,r.input=n.input),r}(n),!c)return Se(n,f)}else{var h=cf(n),p=h==Cn||h==Un;if(nc(n))return ke(n,c);if(h==Dn||h==In||p&&!i){if(f=a||p?{}:vu(n),!c)return a?function(n,t){return We(n,ff(n),t)}(n,function(n,t){return n&&We(t,xi(t),n)}(f,n)):function(n,t){return We(n,of(n),t)}(n,Yt(f,n))}else{if(!Ar[h])return i?n:{};f=function(n,t,r){var e=n.constructor;switch(t){case Hn:return Oe(n);case En:case Sn:return new e(+n);case Jn:return function(n,t){return new n.constructor(t?Oe(n.buffer):n.buffer,n.byteOffset,n.byteLength)}(n,r);case Yn:case Qn:case Xn:case nt:case tt:case rt:case et:case ut:case it:return Ie(n,r);case Bn:return new e;case Tn:case qn:return new e(n);case Nn:return function(n){var t=new n.constructor(n.source,Et.exec(n));return t.lastIndex=n.lastIndex,t}(n);case Pn:return new e;case Zn:return function(n){return Ko?Fi(Ko.call(n)):{}}(n)}}(n,h,c)}}o||(o=new qt);var _=o.get(n);if(_)return _;o.set(n,f),uc(n)?n.forEach(function(e){f.add(tr(e,t,r,e,n,o))}):rc(n)&&n.forEach(function(e,u){f.set(u,tr(e,t,r,u,n,o))});var v=s?P:(l?a?fu:ou:a?xi:mi)(n);return u(v||n,function(e,u){v&&(e=n[u=e]),Gt(f,u,tr(e,t,r,u,n,o))}),f}function rr(n,t,r){var e=r.length;if(null==n)return!e;for(n=Fi(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===P&&!(u in n)||!i(o))return!1}return!0}function er(n,t,r){if("function"!=typeof n)throw new qi(K);return sf(function(){n.apply(P,r)},t)}function ur(n,t,r,e){var u=-1,i=f,o=!0,l=n.length,s=[],h=t.length;if(!l)return s;r&&(t=a(t,I(r))),e?(i=c,o=!1):t.length>=q&&(i=z,o=!1,t=new Pt(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,o&&_==_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function ir(n,t){var r=!0;return Ho(n,function(n,e,u){return r=!!t(n,e,u)}),r}function or(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===P?o==o&&!si(o):r(o,f)))var f=o,c=i}return c}function fr(n,t){var r=[];return Ho(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function cr(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=gu),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?cr(f,t-1,r,e,u):l(u,f):e||(u[u.length]=f)}return u}function ar(n,t){return n&&Yo(n,t,mi)}function lr(n,t){return n&&Qo(n,t,mi)}function sr(n,t){return o(t,function(t){return ei(n[t])})}function hr(n,t){for(var r=0,e=(t=je(t,n)).length;null!=n&&r<e;)n=n[Eu(t[r++])];return r&&r==e?n:P}function pr(n,t,r){var e=t(n);return Qf(n)?e:l(e,r(n))}function _r(n){return null==n?n===P?Kn:$n:po&&po in Fi(n)?function(n){var t=Ji.call(n,po),r=n[po];try{n[po]=P;var e=!0}catch(n){}var u=Xi.call(n);return e&&(t?n[po]=r:delete n[po]),u}(n):function(n){return Xi.call(n)}(n)}function yr(n,t){return n>t}function dr(n,t){return null!=n&&Ji.call(n,t)}function br(n,t){return null!=n&&t in Fi(n)}function wr(n,t,r){for(var e=r?c:f,u=n[0].length,i=n.length,o=i,l=Bi(i),s=1/0,h=[];o--;){var p=n[o];o&&t&&(p=a(p,I(t))),s=Io(p.length,s),l[o]=!r&&(t||u>=120&&p.length>=120)?new Pt(o&&p):P}p=n[0];var _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?z(v,y):e(h,y,r))){for(o=i;--o;){var d=l[o];if(!(d?z(d,y):e(n[o],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function kr(n,t,e){var u=null==(n=ku(n,t=je(t,n)))?n:n[Eu($u(t))];return null==u?P:r(u,n,e)}function Rr(n){return fi(n)&&_r(n)==In}function zr(n,t,r,e,u){return n===t||(null==n||null==t||!fi(n)&&!fi(t)?n!=n&&t!=t:function(n,t,r,e,u,i){var o=Qf(n),f=Qf(t),c=o?Rn:cf(n),a=f?Rn:cf(t),l=(c=c==In?Dn:c)==Dn,s=(a=a==In?Dn:a)==Dn,h=c==a;if(h&&nc(n)){if(!nc(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new qt),o||ic(n)?uu(n,t,r,e,u,i):function(n,t,r,e,u,i,o){switch(r){case Jn:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case Hn:return!(n.byteLength!=t.byteLength||!i(new io(n),new io(t)));case En:case Sn:case Tn:return Xu(+n,+t);case Ln:return n.name==t.name&&n.message==t.message;case Nn:case qn:return n==t+"";case Bn:var f=U;case Pn:var c=e&nn;if(f||(f=$),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=tn,o.set(n,t);var l=uu(f(n),f(t),e,u,i,o);return o.delete(n),l;case Zn:if(Ko)return Ko.call(n)==Ko.call(t)}return!1}(n,t,c,r,e,u,i);if(!(r&nn)){var p=l&&Ji.call(n,"__wrapped__"),_=s&&Ji.call(t,"__wrapped__");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new qt),u(v,g,r,e,i)}}return!!h&&(i||(i=new qt),function(n,t,r,e,u,i){var o=r&nn,f=ou(n),c=f.length;if(c!=ou(t).length&&!o)return!1;for(var a=c;a--;){var l=f[a];if(!(o?l in t:Ji.call(t,l)))return!1}var s=i.get(n),h=i.get(t);if(s&&h)return s==t&&h==n;var p=!0;i.set(n,t),i.set(t,n);for(var _=o;++a<c;){l=f[a];var v=n[l],g=t[l];if(e)var y=o?e(g,v,l,t,n,i):e(v,g,l,n,t,i);if(!(y===P?v===g||u(v,g,r,e,i):y)){p=!1;break}_||(_="constructor"==l)}if(p&&!_){var d=n.constructor,b=t.constructor;d!=b&&"constructor"in n&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof b&&b instanceof b)&&(p=!1)}return i.delete(n),i.delete(t),p}(n,t,r,e,u,i))}(n,t,r,e,zr,u))}function Sr(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=Fi(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){var c=(f=r[u])[0],a=n[c],l=f[1];if(o&&f[2]){if(a===P&&!(c in n))return!1}else{var s=new qt;if(e)var h=e(a,l,c,n,t,s);if(!(h===P?zr(l,a,nn|tn,e,s):h))return!1}}return!0}function Wr(n){return!(!oi(n)||function(n){return!!Qi&&Qi in n}(n))&&(ei(n)?ro:Lt).test(Su(n))}function Cr(n){return"function"==typeof n?n:null==n?zi:"object"==typeof n?Qf(n)?Jr(n[0],n[1]):Hr(n):Li(n)}function Ur(n){if(!mu(n))return ko(n);var t=[];for(var r in Fi(n))Ji.call(n,r)&&"constructor"!=r&&t.push(r);return t}function Nr(n){if(!oi(n))return function(n){var t=[];if(null!=n)for(var r in Fi(n))t.push(r);return t}(n);var t=mu(n),r=[];for(var e in n)("constructor"!=e||!t&&Ji.call(n,e))&&r.push(e);return r}function Vr(n,t){return n<t}function Gr(n,t){var r=-1,e=ni(n)?Bi(n.length):[];return Ho(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function Hr(n){var t=hu(n);return 1==t.length&&t[0][2]?ju(t[0][0],t[0][1]):function(r){return r===n||Sr(r,n,t)}}function Jr(n,t){return bu(n)&&xu(t)?ju(Eu(n),t):function(r){var e=bi(r,n);return e===P&&e===t?wi(r,n):zr(t,e,nn|tn)}}function Yr(n,t,r,e,u){n!==t&&Yo(t,function(i,o){if(u||(u=new qt),oi(i))!function(n,t,r,e,u,i,o){var f=Ou(n,r),c=Ou(t,r),a=o.get(c);if(a)return Vt(n,r,a),P;var l=i?i(f,c,r+"",n,t,o):P,s=l===P;if(s){var h=Qf(c),p=!h&&nc(c),_=!h&&!p&&ic(c);l=c,h||p||_?Qf(f)?l=f:ti(f)?l=Se(f):p?(s=!1,l=ke(c,!0)):_?(s=!1,l=Ie(c,!0)):l=[]:ai(c)||Yf(c)?(l=f,Yf(f)?l=yi(f):oi(f)&&!ei(f)||(l=vu(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Vt(n,r,l)}(n,t,o,r,Yr,e,u);else{var f=e?e(Ou(n,o),i,o+"",n,t,u):P;f===P&&(f=i),Vt(n,o,f)}},xi)}function Qr(n,t){var r=n.length;if(r)return yu(t+=t<0?r:0,r)?n[t]:P}function Xr(n,t,r){t=t.length?a(t,function(n){return Qf(n)?function(t){return hr(t,1===n.length?n[0]:n)}:n}):[zi];var e=-1;return t=a(t,I(lu())),function(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}(Gr(n,function(n,r,u){return{criteria:a(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return function(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=Re(u[e],i[e]);if(c)return e>=f?c:c*("desc"==r[e]?-1:1)}return n.index-t.index}(n,t,r)})}function ne(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=hr(n,o);r(f,o)&&oe(i,je(o,n),f)}return i}function te(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=Se(t)),r&&(f=a(n,I(r)));++i<o;)for(var c=0,l=t[i],s=r?r(l):l;(c=u(f,s,c,e))>-1;)f!==n&&lo.call(f,c,1),lo.call(n,c,1);return n}function re(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;yu(u)?lo.call(n,u,1):ve(n,u)}}return n}function ee(n,t){return n+wo(Eo()*(t-n+1))}function ue(n,t){var r="";if(!n||t<1||t>wn)return r;do{t%2&&(r+=n),(t=wo(t/2))&&(n+=n)}while(t);return r}function ie(n,t){return hf(Au(n,t,zi),n+"")}function oe(n,t,r,e){if(!oi(n))return n;for(var u=-1,i=(t=je(t,n)).length,o=i-1,f=n;null!=f&&++u<i;){var c=Eu(t[u]),a=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return n;if(u!=o){var l=f[c];(a=e?e(l,c,f):P)===P&&(a=oi(l)?l:yu(t[u+1])?[]:{})}Gt(f,c,a),f=f[c]}return n}function fe(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),(r=r>u?u:r)<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=Bi(u);++e<u;)i[e]=n[e+t];return i}function ce(n,t){var r;return Ho(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function ae(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t==t&&u<=kn){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!si(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return le(n,t,zi,r)}function le(n,t,r,e){var u=0,i=null==n?0:n.length;if(0===i)return 0;for(var o=(t=r(t))!=t,f=null===t,c=si(t),a=t===P;u<i;){var l=wo((u+i)/2),s=r(n[l]),h=s!==P,p=null===s,_=s==s,v=si(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Io(i,An)}function se(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!Xu(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function he(n){return"number"==typeof n?n:si(n)?xn:+n}function pe(n){if("string"==typeof n)return n;if(Qf(n))return a(n,pe)+"";if(si(n))return Vo?Vo.call(n):"";var t=n+"";return"0"==t&&1/n==-bn?"-0":t}function _e(n,t,r){var e=-1,u=f,i=n.length,o=!0,a=[],l=a;if(r)o=!1,u=c;else if(i>=q){var s=t?null:ef(n);if(s)return $(s);o=!1,u=z,l=new Pt}else l=t?[]:a;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,o&&p==p){for(var _=l.length;_--;)if(l[_]===p)continue n;t&&l.push(p),a.push(h)}else u(l,p,r)||(l!==a&&l.push(p),a.push(h))}return a}function ve(n,t){return null==(n=ku(n,t=je(t,n)))||delete n[Eu($u(t))]}function ge(n,t,r,e){return oe(n,t,r(hr(n,t)),e)}function ye(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?fe(n,e?0:i,e?i+1:u):fe(n,e?i+1:0,e?u:i)}function de(n,t){var r=n;return r instanceof Dt&&(r=r.value()),s(t,function(n,t){return t.func.apply(t.thisArg,l([n],t.args))},r)}function be(n,t,r){var e=n.length;if(e<2)return e?_e(n[0]):[];for(var u=-1,i=Bi(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=ur(i[u]||o,n[f],t,r));return _e(cr(i,1),t,r)}function we(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;)r(o,n[e],e<i?t[e]:P);return o}function me(n){return ti(n)?n:[]}function xe(n){return"function"==typeof n?n:zi}function je(n,t){return Qf(n)?n:bu(n,t)?[n]:pf(di(n))}function Ae(n,t,r){var e=n.length;return r=r===P?e:r,!t&&r>=e?n:fe(n,t,r)}function ke(n,t){if(t)return n.slice();var r=n.length,e=oo?oo(r):new n.constructor(r);return n.copy(e),e}function Oe(n){var t=new n.constructor(n.byteLength);return new io(t).set(new io(n)),t}function Ie(n,t){return new n.constructor(t?Oe(n.buffer):n.buffer,n.byteOffset,n.length)}function Re(n,t){if(n!==t){var r=n!==P,e=null===n,u=n==n,i=si(n),o=t!==P,f=null===t,c=t==t,a=si(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function ze(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Oo(i-o,0),l=Bi(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function Ee(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Oo(i-f,0),s=Bi(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Se(n,t){var r=-1,e=n.length;for(t||(t=Bi(e));++r<e;)t[r]=n[r];return t}function We(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):P;c===P&&(c=n[f]),u?Qt(r,f,c):Gt(r,f,c)}return r}function Le(n,t){return function(r,u){var i=Qf(r)?e:Jt,o=t?t():{};return i(r,n,lu(u,2),o)}}function Ce(n){return ie(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:P,o=u>2?r[2]:P;for(i=n.length>3&&"function"==typeof i?(u--,i):P,o&&du(r[0],r[1],o)&&(i=u<3?P:i,u=1),t=Fi(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function Ue(n,t){return function(r,e){if(null==r)return r;if(!ni(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=Fi(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function Be(n){return function(t,r,e){for(var u=-1,i=Fi(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(!1===r(i[c],c,i))break}return t}}function Te(n){return function(t){var r=L(t=di(t))?M(t):P,e=r?r[0]:t.charAt(0),u=r?Ae(r,1).join(""):t.slice(1);return e[n]()+u}}function $e(n){return function(t){return s(Ii(Oi(t).replace(vr,"")),n,"")}}function De(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Go(n.prototype),e=n.apply(r,t);return oi(e)?e:r}}function Me(n,t,e){var u=De(n);return function i(){for(var o=arguments.length,f=Bi(o),c=o,a=au(i);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:T(f,a);return(o-=l.length)<e?Ye(n,t,Pe,i.placeholder,P,f,l,P,P,e-o):r(this&&this!==Er&&this instanceof i?u:n,this,f)}}function Fe(n){return function(t,r,e){var u=Fi(t);if(!ni(t)){var i=lu(r,3);t=mi(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:P}}function Ne(n){return iu(function(t){var r=t.length,e=r,u=Ot.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new qi(K);if(u&&!o&&"wrapper"==cu(i))var o=new Ot([],!0)}for(e=o?e:r;++e<r;){var f=cu(i=t[e]),c="wrapper"==f?uf(i):P;o=c&&wu(c[0])&&c[1]==(ln|on|cn|sn)&&!c[4].length&&1==c[9]?o[cu(c[0])].apply(o,c[3]):1==i.length&&wu(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&Qf(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Pe(n,t,r,e,u,i,o,f,c,a){var l=t&ln,s=t&rn,h=t&en,p=t&(on|fn),_=t&hn,v=h?P:De(n);return function g(){for(var y=arguments.length,d=Bi(y),b=y;b--;)d[b]=arguments[b];if(p)var w=au(g),m=function(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}(d,w);if(e&&(d=ze(d,e,u,p)),i&&(d=Ee(d,i,o,p)),y-=m,p&&y<a)return Ye(n,t,Pe,g.placeholder,r,d,T(d,w),f,c,a-y);var x=s?r:this,j=h?x[n]:n;return y=d.length,f?d=function(n,t){for(var r=n.length,e=Io(t.length,r),u=Se(n);e--;){var i=t[e];n[e]=yu(i,r)?u[i]:P}return n}(d,f):_&&y>1&&d.reverse(),l&&c<y&&(d.length=c),this&&this!==Er&&this instanceof g&&(j=v||De(j)),j.apply(x,d)}}function qe(n,t){return function(r,e){return function(n,t,r,e){return ar(n,function(n,u,i){t(e,r(n),u,i)}),e}(r,n,t(e),{})}}function Ze(n,t){return function(r,e){var u;if(r===P&&e===P)return t;if(r!==P&&(u=r),e!==P){if(u===P)return e;"string"==typeof r||"string"==typeof e?(r=pe(r),e=pe(e)):(r=he(r),e=he(e)),u=n(r,e)}return u}}function Ke(n){return iu(function(t){return t=a(t,I(lu())),ie(function(e){var u=this;return n(t,function(n){return r(n,u,e)})})})}function Ve(n,t){var r=(t=t===P?" ":pe(t)).length;if(r<2)return r?ue(t,n):t;var e=ue(t,bo(n/D(t)));return L(t)?Ae(M(e),0,n).join(""):e.slice(0,n)}function Ge(n,t,e,u){var i=t&rn,o=De(n);return function t(){for(var f=-1,c=arguments.length,a=-1,l=u.length,s=Bi(l+c),h=this&&this!==Er&&this instanceof t?o:n;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++f];return r(h,i?e:this,s)}}function He(n){return function(t,r,e){return e&&"number"!=typeof e&&du(t,r,e)&&(r=e=P),t=pi(t),r===P?(r=t,t=0):r=pi(r),function(n,t,r,e){for(var u=-1,i=Oo(bo((t-n)/(r||1)),0),o=Bi(i);i--;)o[e?i:++u]=n,n+=r;return o}(t,r,e=e===P?t<r?1:-1:pi(e),n)}}function Je(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=gi(t),r=gi(r)),n(t,r)}}function Ye(n,t,r,e,u,i,o,f,c,a){var l=t&on;t|=l?cn:an,(t&=~(l?an:cn))&un||(t&=~(rn|en));var s=[n,t,u,l?i:P,l?o:P,l?P:i,l?P:o,f,c,a],h=r.apply(P,s);return wu(n)&&lf(h,s),h.placeholder=e,Iu(h,n,t)}function Qe(n){var t=Mi[n];return function(n,r){if(n=gi(n),(r=null==r?0:Io(_i(r),292))&&jo(n)){var e=(di(n)+"e").split("e");return+((e=(di(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"))[0]+"e"+(+e[1]-r))}return t(n)}}function Xe(n){return function(t){var r=cf(t);return r==Bn?U(t):r==Pn?function(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}(t):function(n,t){return a(t,function(t){return[t,n[t]]})}(t,n(t))}}function nu(n,t,r,e,u,i,o,f){var c=t&en;if(!c&&"function"!=typeof n)throw new qi(K);var a=e?e.length:0;if(a||(t&=~(cn|an),e=u=P),o=o===P?o:Oo(_i(o),0),f=f===P?f:_i(f),a-=u?u.length:0,t&an){var l=e,s=u;e=u=P}var h=c?P:uf(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&function(n,t){var r=n[1],e=t[1],u=r|e,i=u<(rn|en|ln),o=e==ln&&r==on||e==ln&&r==sn&&n[7].length<=t[8]||e==(ln|sn)&&t[7].length<=t[8]&&r==on;if(!i&&!o)return n;e&rn&&(n[2]=t[2],u|=r&rn?0:un);var f=t[3];if(f){var c=n[3];n[3]=c?ze(c,f,t[4]):f,n[4]=c?T(n[3],J):t[4]}(f=t[5])&&(c=n[5],n[5]=c?Ee(c,f,t[6]):f,n[6]=c?T(n[5],J):t[6]),(f=t[7])&&(n[7]=f),e&ln&&(n[8]=null==n[8]?t[8]:Io(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u}(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],!(f=p[9]=p[9]===P?c?0:n.length:Oo(p[9]-a,0))&&t&(on|fn)&&(t&=~(on|fn)),t&&t!=rn)_=t==on||t==fn?Me(n,t,f):t!=cn&&t!=(rn|cn)||u.length?Pe.apply(P,p):Ge(n,t,r,e);else var _=function(n,t,r){var e=t&rn,u=De(n);return function t(){return(this&&this!==Er&&this instanceof t?u:n).apply(e?r:this,arguments)}}(n,t,r);return Iu((h?Xo:lf)(_,p),n,t)}function tu(n,t,r,e){return n===P||Xu(n,Vi[r])&&!Ji.call(e,r)?t:n}function ru(n,t,r,e,u,i){return oi(n)&&oi(t)&&(i.set(t,n),Yr(n,t,P,ru,i),i.delete(t)),n}function eu(n){return ai(n)?P:n}function uu(n,t,r,e,u,i){var o=r&nn,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n),l=i.get(t);if(a&&l)return a==t&&l==n;var s=-1,h=!0,_=r&tn?new Pt:P;for(i.set(n,t),i.set(t,n);++s<f;){var v=n[s],g=t[s];if(e)var y=o?e(g,v,s,t,n,i):e(v,g,s,n,t,i);if(y!==P){if(y)continue;h=!1;break}if(_){if(!p(t,function(n,t){if(!z(_,t)&&(v===n||u(v,n,r,e,i)))return _.push(t)})){h=!1;break}}else if(v!==g&&!u(v,g,r,e,i)){h=!1;break}}return i.delete(n),i.delete(t),h}function iu(n){return hf(Au(n,P,Bu),n+"")}function ou(n){return pr(n,mi,of)}function fu(n){return pr(n,xi,ff)}function cu(n){for(var t=n.name+"",r=Do[t],e=Ji.call(Do,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function au(n){return(Ji.call(x,"placeholder")?x:n).placeholder}function lu(){var n=x.iteratee||Ei;return n=n===Ei?Cr:n,arguments.length?n(arguments[0],arguments[1]):n}function su(n,t){var r=n.__data__;return function(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?r["string"==typeof t?"string":"hash"]:r.map}function hu(n){for(var t=mi(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,xu(u)]}return t}function pu(n,t){var r=function(n,t){return null==n?P:n[t]}(n,t);return Wr(r)?r:P}function _u(n,t,r){for(var e=-1,u=(t=je(t,n)).length,i=!1;++e<u;){var o=Eu(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&ii(u)&&yu(o,u)&&(Qf(n)||Yf(n))}function vu(n){return"function"!=typeof n.constructor||mu(n)?{}:Go(fo(n))}function gu(n){return Qf(n)||Yf(n)||!!(so&&n&&n[so])}function yu(n,t){var r=typeof n;return!!(t=null==t?wn:t)&&("number"==r||"symbol"!=r&&Ut.test(n))&&n>-1&&n%1==0&&n<t}function du(n,t,r){if(!oi(r))return!1;var e=typeof t;return!!("number"==e?ni(r)&&yu(t,r.length):"string"==e&&t in r)&&Xu(r[t],n)}function bu(n,t){if(Qf(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!si(n))||yt.test(n)||!gt.test(n)||null!=t&&n in Fi(t)}function wu(n){var t=cu(n),r=x[t];if("function"!=typeof r||!(t in Dt.prototype))return!1;if(n===r)return!0;var e=uf(r);return!!e&&n===e[0]}function mu(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||Vi)}function xu(n){return n==n&&!oi(n)}function ju(n,t){return function(r){return null!=r&&r[n]===t&&(t!==P||n in Fi(r))}}function Au(n,t,e){return t=Oo(t===P?n.length-1:t,0),function(){for(var u=arguments,i=-1,o=Oo(u.length-t,0),f=Bi(o);++i<o;)f[i]=u[t+i];i=-1;for(var c=Bi(t+1);++i<t;)c[i]=u[i];return c[t]=e(f),r(n,this,c)}}function ku(n,t){return t.length<2?n:hr(n,fe(t,0,-1))}function Ou(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}function Iu(n,t,r){var e=t+"";return hf(n,function(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(jt,"{\n/* [wrapped with "+t+"] */\n")}(e,Wu(function(n){var t=n.match(At);return t?t[1].split(kt):[]}(e),r)))}function Ru(n){var t=0,r=0;return function(){var e=Ro(),u=gn-(e-r);if(r=e,u>0){if(++t>=vn)return arguments[0]}else t=0;return n.apply(P,arguments)}}function zu(n,t){var r=-1,e=n.length,u=e-1;for(t=t===P?e:t;++r<t;){var i=ee(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function Eu(n){if("string"==typeof n||si(n))return n;var t=n+"";return"0"==t&&1/n==-bn?"-0":t}function Su(n){if(null!=n){try{return Hi.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function Wu(n,t){return u(On,function(r){var e="_."+r[0];t&r[1]&&!f(n,e)&&n.push(e)}),n.sort()}function Lu(n){if(n instanceof Dt)return n.clone();var t=new Ot(n.__wrapped__,n.__chain__);return t.__actions__=Se(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Cu(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:_i(r);return u<0&&(u=Oo(e+u,0)),g(n,lu(t,3),u)}function Uu(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==P&&(u=_i(r),u=r<0?Oo(e+u,0):Io(u,e-1)),g(n,lu(t,3),u,!0)}function Bu(n){return null!=n&&n.length?cr(n,1):[]}function Tu(n){return n&&n.length?n[0]:P}function $u(n){var t=null==n?0:n.length;return t?n[t-1]:P}function Du(n,t){return n&&n.length&&t&&t.length?te(n,t):n}function Mu(n){return null==n?n:So.call(n)}function Fu(n){if(!n||!n.length)return[];var t=0;return n=o(n,function(n){if(ti(n))return t=Oo(n.length,t),!0}),k(t,function(t){return a(n,m(t))})}function Nu(n,t){if(!n||!n.length)return[];var e=Fu(n);return null==t?e:a(e,function(n){return r(t,P,n)})}function Pu(n){var t=x(n);return t.__chain__=!0,t}function qu(n,t){return t(n)}function Zu(n,t){return(Qf(n)?u:Ho)(n,lu(t,3))}function Ku(n,t){return(Qf(n)?function(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}:Jo)(n,lu(t,3))}function Vu(n,t){return(Qf(n)?a:Gr)(n,lu(t,3))}function Gu(n,t,r){return t=r?P:t,t=n&&null==t?n.length:t,nu(n,ln,P,P,P,P,t)}function Hu(n,t){var r;if("function"!=typeof t)throw new qi(K);return n=_i(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=P),r}}function Ju(n,t,r){function e(t){var r=c,e=a;return c=a=P,_=t,s=n.apply(e,r)}function u(n){var r=n-p;return p===P||r>=t||r<0||g&&n-_>=l}function i(){var n=Mf();return u(n)?o(n):(h=sf(i,function(n){var r=t-(n-p);return g?Io(r,l-(n-_)):r}(n)),P)}function o(n){return h=P,y&&c?e(n):(c=a=P,s)}function f(){var n=Mf(),r=u(n);if(c=arguments,a=this,p=n,r){if(h===P)return function(n){return _=n,h=sf(i,t),v?e(n):s}(p);if(g)return rf(h),h=sf(i,t),e(p)}return h===P&&(h=sf(i,t)),s}var c,a,l,s,h,p,_=0,v=!1,g=!1,y=!0;if("function"!=typeof n)throw new qi(K);return t=gi(t)||0,oi(r)&&(v=!!r.leading,l=(g="maxWait"in r)?Oo(gi(r.maxWait)||0,t):l,y="trailing"in r?!!r.trailing:y),f.cancel=function(){h!==P&&rf(h),_=0,c=p=a=h=P},f.flush=function(){return h===P?s:o(Mf())},f}function Yu(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new qi(K);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Yu.Cache||Nt),r}function Qu(n){if("function"!=typeof n)throw new qi(K);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Xu(n,t){return n===t||n!=n&&t!=t}function ni(n){return null!=n&&ii(n.length)&&!ei(n)}function ti(n){return fi(n)&&ni(n)}function ri(n){if(!fi(n))return!1;var t=_r(n);return t==Ln||t==Wn||"string"==typeof n.message&&"string"==typeof n.name&&!ai(n)}function ei(n){if(!oi(n))return!1;var t=_r(n);return t==Cn||t==Un||t==zn||t==Fn}function ui(n){return"number"==typeof n&&n==_i(n)}function ii(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=wn}function oi(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function fi(n){return null!=n&&"object"==typeof n}function ci(n){return"number"==typeof n||fi(n)&&_r(n)==Tn}function ai(n){if(!fi(n)||_r(n)!=Dn)return!1;var t=fo(n);if(null===t)return!0;var r=Ji.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Hi.call(r)==no}function li(n){return"string"==typeof n||!Qf(n)&&fi(n)&&_r(n)==qn}function si(n){return"symbol"==typeof n||fi(n)&&_r(n)==Zn}function hi(n){if(!n)return[];if(ni(n))return li(n)?M(n):Se(n);if(ho&&n[ho])return function(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}(n[ho]());var t=cf(n);return(t==Bn?U:t==Pn?$:Ai)(n)}function pi(n){return n?(n=gi(n))===bn||n===-bn?(n<0?-1:1)*mn:n==n?n:0:0===n?n:0}function _i(n){var t=pi(n),r=t%1;return t==t?r?t-r:t:0}function vi(n){return n?nr(_i(n),0,jn):0}function gi(n){if("number"==typeof n)return n;if(si(n))return xn;if(oi(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=oi(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=O(n);var r=Wt.test(n);return r||Ct.test(n)?Ir(n.slice(2),r?2:8):St.test(n)?xn:+n}function yi(n){return We(n,xi(n))}function di(n){return null==n?"":pe(n)}function bi(n,t,r){var e=null==n?P:hr(n,t);return e===P?r:e}function wi(n,t){return null!=n&&_u(n,t,br)}function mi(n){return ni(n)?Zt(n):Ur(n)}function xi(n){return ni(n)?Zt(n,!0):Nr(n)}function ji(n,t){if(null==n)return{};var r=a(fu(n),function(n){return[n]});return t=lu(t),ne(n,r,function(n,r){return t(n,r[0])})}function Ai(n){return null==n?[]:R(n,mi(n))}function ki(n){return Sc(di(n).toLowerCase())}function Oi(n){return(n=di(n))&&n.replace(Bt,Pr).replace(gr,"")}function Ii(n,t,r){return n=di(n),(t=r?P:t)===P?C(n)?N(n):_(n):n.match(t)||[]}function Ri(n){return function(){return n}}function zi(n){return n}function Ei(n){return Cr("function"==typeof n?n:tr(n,Y))}function Si(n,t,r){var e=mi(t),i=sr(t,e);null!=r||oi(t)&&(i.length||!e.length)||(r=t,t=n,n=this,i=sr(t,mi(t)));var o=!(oi(r)&&"chain"in r&&!r.chain),f=ei(n);return u(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Se(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,l([this.value()],arguments))})}),n}function Wi(){}function Li(n){return bu(n)?m(Eu(n)):function(n){return function(t){return hr(t,n)}}(n)}function Ci(){return[]}function Ui(){return!1}var Bi=(t=null==t?Er:Kr.defaults(Er.Object(),t,Kr.pick(Er,mr))).Array,Ti=t.Date,$i=t.Error,Di=t.Function,Mi=t.Math,Fi=t.Object,Ni=t.RegExp,Pi=t.String,qi=t.TypeError,Zi=Bi.prototype,Ki=Di.prototype,Vi=Fi.prototype,Gi=t["__core-js_shared__"],Hi=Ki.toString,Ji=Vi.hasOwnProperty,Yi=0,Qi=function(){var n=/[^.]+$/.exec(Gi&&Gi.keys&&Gi.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Xi=Vi.toString,no=Hi.call(Fi),to=Er._,ro=Ni("^"+Hi.call(Ji).replace(bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eo=Lr?t.Buffer:P,uo=t.Symbol,io=t.Uint8Array,oo=eo?eo.allocUnsafe:P,fo=B(Fi.getPrototypeOf,Fi),co=Fi.create,ao=Vi.propertyIsEnumerable,lo=Zi.splice,so=uo?uo.isConcatSpreadable:P,ho=uo?uo.iterator:P,po=uo?uo.toStringTag:P,_o=function(){try{var n=pu(Fi,"defineProperty");return n({},"",{}),n}catch(n){}}(),vo=t.clearTimeout!==Er.clearTimeout&&t.clearTimeout,go=Ti&&Ti.now!==Er.Date.now&&Ti.now,yo=t.setTimeout!==Er.setTimeout&&t.setTimeout,bo=Mi.ceil,wo=Mi.floor,mo=Fi.getOwnPropertySymbols,xo=eo?eo.isBuffer:P,jo=t.isFinite,Ao=Zi.join,ko=B(Fi.keys,Fi),Oo=Mi.max,Io=Mi.min,Ro=Ti.now,zo=t.parseInt,Eo=Mi.random,So=Zi.reverse,Wo=pu(t,"DataView"),Lo=pu(t,"Map"),Co=pu(t,"Promise"),Uo=pu(t,"Set"),Bo=pu(t,"WeakMap"),To=pu(Fi,"create"),$o=Bo&&new Bo,Do={},Mo=Su(Wo),Fo=Su(Lo),No=Su(Co),Po=Su(Uo),qo=Su(Bo),Zo=uo?uo.prototype:P,Ko=Zo?Zo.valueOf:P,Vo=Zo?Zo.toString:P,Go=function(){function n(){}return function(t){if(!oi(t))return{};if(co)return co(t);n.prototype=t;var r=new n;return n.prototype=P,r}}();x.templateSettings={escape:pt,evaluate:_t,interpolate:vt,variable:"",imports:{_:x}},x.prototype=xt.prototype,x.prototype.constructor=x,Ot.prototype=Go(xt.prototype),Ot.prototype.constructor=Ot,Dt.prototype=Go(xt.prototype),Dt.prototype.constructor=Dt,Mt.prototype.clear=function(){this.__data__=To?To(null):{},this.size=0},Mt.prototype.delete=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},Mt.prototype.get=function(n){var t=this.__data__;if(To){var r=t[n];return r===G?P:r}return Ji.call(t,n)?t[n]:P},Mt.prototype.has=function(n){var t=this.__data__;return To?t[n]!==P:Ji.call(t,n)},Mt.prototype.set=function(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=To&&t===P?G:t,this},Ft.prototype.clear=function(){this.__data__=[],this.size=0},Ft.prototype.delete=function(n){var t=this.__data__,r=Ht(t,n);return!(r<0||(r==t.length-1?t.pop():lo.call(t,r,1),--this.size,0))},Ft.prototype.get=function(n){var t=this.__data__,r=Ht(t,n);return r<0?P:t[r][1]},Ft.prototype.has=function(n){return Ht(this.__data__,n)>-1},Ft.prototype.set=function(n,t){var r=this.__data__,e=Ht(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this},Nt.prototype.clear=function(){this.size=0,this.__data__={hash:new Mt,map:new(Lo||Ft),string:new Mt}},Nt.prototype.delete=function(n){var t=su(this,n).delete(n);return this.size-=t?1:0,t},Nt.prototype.get=function(n){return su(this,n).get(n)},Nt.prototype.has=function(n){return su(this,n).has(n)},Nt.prototype.set=function(n,t){var r=su(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this},Pt.prototype.add=Pt.prototype.push=function(n){return this.__data__.set(n,G),this},Pt.prototype.has=function(n){return this.__data__.has(n)},qt.prototype.clear=function(){this.__data__=new Ft,this.size=0},qt.prototype.delete=function(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r},qt.prototype.get=function(n){return this.__data__.get(n)},qt.prototype.has=function(n){return this.__data__.has(n)},qt.prototype.set=function(n,t){var r=this.__data__;if(r instanceof Ft){var e=r.__data__;if(!Lo||e.length<q-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new Nt(e)}return r.set(n,t),this.size=r.size,this};var Ho=Ue(ar),Jo=Ue(lr,!0),Yo=Be(),Qo=Be(!0),Xo=$o?function(n,t){return $o.set(n,t),n}:zi,nf=_o?function(n,t){return _o(n,"toString",{configurable:!0,enumerable:!1,value:Ri(t),writable:!0})}:zi,tf=ie,rf=vo||function(n){return Er.clearTimeout(n)},ef=Uo&&1/$(new Uo([,-0]))[1]==bn?function(n){return new Uo(n)}:Wi,uf=$o?function(n){return $o.get(n)}:Wi,of=mo?function(n){return null==n?[]:(n=Fi(n),o(mo(n),function(t){return ao.call(n,t)}))}:Ci,ff=mo?function(n){for(var t=[];n;)l(t,of(n)),n=fo(n);return t}:Ci,cf=_r;(Wo&&cf(new Wo(new ArrayBuffer(1)))!=Jn||Lo&&cf(new Lo)!=Bn||Co&&cf(Co.resolve())!=Mn||Uo&&cf(new Uo)!=Pn||Bo&&cf(new Bo)!=Vn)&&(cf=function(n){var t=_r(n),r=t==Dn?n.constructor:P,e=r?Su(r):"";if(e)switch(e){case Mo:return Jn;case Fo:return Bn;case No:return Mn;case Po:return Pn;case qo:return Vn}return t});var af=Gi?ei:Ui,lf=Ru(Xo),sf=yo||function(n,t){return Er.setTimeout(n,t)},hf=Ru(nf),pf=function(n){var t=Yu(n,function(n){return r.size===H&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(dt,function(n,r,e,u){t.push(e?u.replace(Rt,"$1"):r||n)}),t}),_f=ie(function(n,t){return ti(n)?ur(n,cr(t,1,ti,!0)):[]}),vf=ie(function(n,t){var r=$u(t);return ti(r)&&(r=P),ti(n)?ur(n,cr(t,1,ti,!0),lu(r,2)):[]}),gf=ie(function(n,t){var r=$u(t);return ti(r)&&(r=P),ti(n)?ur(n,cr(t,1,ti,!0),P,r):[]}),yf=ie(function(n){var t=a(n,me);return t.length&&t[0]===n[0]?wr(t):[]}),df=ie(function(n){var t=$u(n),r=a(n,me);return t===$u(r)?t=P:r.pop(),r.length&&r[0]===n[0]?wr(r,lu(t,2)):[]}),bf=ie(function(n){var t=$u(n),r=a(n,me);return(t="function"==typeof t?t:P)&&r.pop(),r.length&&r[0]===n[0]?wr(r,P,t):[]}),wf=ie(Du),mf=iu(function(n,t){var r=null==n?0:n.length,e=Xt(n,t);return re(n,a(t,function(n){return yu(n,r)?+n:n}).sort(Re)),e}),xf=ie(function(n){return _e(cr(n,1,ti,!0))}),jf=ie(function(n){var t=$u(n);return ti(t)&&(t=P),_e(cr(n,1,ti,!0),lu(t,2))}),Af=ie(function(n){var t=$u(n);return t="function"==typeof t?t:P,_e(cr(n,1,ti,!0),P,t)}),kf=ie(function(n,t){return ti(n)?ur(n,t):[]}),Of=ie(function(n){return be(o(n,ti))}),If=ie(function(n){var t=$u(n);return ti(t)&&(t=P),be(o(n,ti),lu(t,2))}),Rf=ie(function(n){var t=$u(n);return t="function"==typeof t?t:P,be(o(n,ti),P,t)}),zf=ie(Fu),Ef=ie(function(n){var t=n.length,r=t>1?n[t-1]:P;return r="function"==typeof r?(n.pop(),r):P,Nu(n,r)}),Sf=iu(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return Xt(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Dt&&yu(r)?((e=e.slice(r,+r+(t?1:0))).__actions__.push({func:qu,args:[u],thisArg:P}),new Ot(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(P),n})):this.thru(u)}),Wf=Le(function(n,t,r){Ji.call(n,r)?++n[r]:Qt(n,r,1)}),Lf=Fe(Cu),Cf=Fe(Uu),Uf=Le(function(n,t,r){Ji.call(n,r)?n[r].push(t):Qt(n,r,[t])}),Bf=ie(function(n,t,e){var u=-1,i="function"==typeof t,o=ni(n)?Bi(n.length):[];return Ho(n,function(n){o[++u]=i?r(t,n,e):kr(n,t,e)}),o}),Tf=Le(function(n,t,r){Qt(n,r,t)}),$f=Le(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),Df=ie(function(n,t){if(null==n)return[];var r=t.length;return r>1&&du(n,t[0],t[1])?t=[]:r>2&&du(t[0],t[1],t[2])&&(t=[t[0]]),Xr(n,cr(t,1),[])}),Mf=go||function(){return Er.Date.now()},Ff=ie(function(n,t,r){var e=rn;if(r.length){var u=T(r,au(Ff));e|=cn}return nu(n,e,t,r,u)}),Nf=ie(function(n,t,r){var e=rn|en;if(r.length){var u=T(r,au(Nf));e|=cn}return nu(t,e,n,r,u)}),Pf=ie(function(n,t){return er(n,1,t)}),qf=ie(function(n,t,r){return er(n,gi(t)||0,r)});Yu.Cache=Nt;var Zf=tf(function(n,t){var e=(t=1==t.length&&Qf(t[0])?a(t[0],I(lu())):a(cr(t,1),I(lu()))).length;return ie(function(u){for(var i=-1,o=Io(u.length,e);++i<o;)u[i]=t[i].call(this,u[i]);return r(n,this,u)})}),Kf=ie(function(n,t){return nu(n,cn,P,t,T(t,au(Kf)))}),Vf=ie(function(n,t){return nu(n,an,P,t,T(t,au(Vf)))}),Gf=iu(function(n,t){return nu(n,sn,P,P,P,t)}),Hf=Je(yr),Jf=Je(function(n,t){return n>=t}),Yf=Rr(function(){return arguments}())?Rr:function(n){return fi(n)&&Ji.call(n,"callee")&&!ao.call(n,"callee")},Qf=Bi.isArray,Xf=Br?I(Br):function(n){return fi(n)&&_r(n)==Hn},nc=xo||Ui,tc=Tr?I(Tr):function(n){return fi(n)&&_r(n)==Sn},rc=$r?I($r):function(n){return fi(n)&&cf(n)==Bn},ec=Dr?I(Dr):function(n){return fi(n)&&_r(n)==Nn},uc=Mr?I(Mr):function(n){return fi(n)&&cf(n)==Pn},ic=Fr?I(Fr):function(n){return fi(n)&&ii(n.length)&&!!jr[_r(n)]},oc=Je(Vr),fc=Je(function(n,t){return n<=t}),cc=Ce(function(n,t){if(mu(t)||ni(t))return We(t,mi(t),n),P;for(var r in t)Ji.call(t,r)&&Gt(n,r,t[r])}),ac=Ce(function(n,t){We(t,xi(t),n)}),lc=Ce(function(n,t,r,e){We(t,xi(t),n,e)}),sc=Ce(function(n,t,r,e){We(t,mi(t),n,e)}),hc=iu(Xt),pc=ie(function(n,t){n=Fi(n);var r=-1,e=t.length,u=e>2?t[2]:P;for(u&&du(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=xi(i),f=-1,c=o.length;++f<c;){var a=o[f],l=n[a];(l===P||Xu(l,Vi[a])&&!Ji.call(n,a))&&(n[a]=i[a])}return n}),_c=ie(function(n){return n.push(P,ru),r(bc,P,n)}),vc=qe(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=Xi.call(t)),n[t]=r},Ri(zi)),gc=qe(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=Xi.call(t)),Ji.call(n,t)?n[t].push(r):n[t]=[r]},lu),yc=ie(kr),dc=Ce(function(n,t,r){Yr(n,t,r)}),bc=Ce(function(n,t,r,e){Yr(n,t,r,e)}),wc=iu(function(n,t){var r={};if(null==n)return r;var e=!1;t=a(t,function(t){return t=je(t,n),e||(e=t.length>1),t}),We(n,fu(n),r),e&&(r=tr(r,Y|Q|X,eu));for(var u=t.length;u--;)ve(r,t[u]);return r}),mc=iu(function(n,t){return null==n?{}:function(n,t){return ne(n,t,function(t,r){return wi(n,r)})}(n,t)}),xc=Xe(mi),jc=Xe(xi),Ac=$e(function(n,t,r){return t=t.toLowerCase(),n+(r?ki(t):t)}),kc=$e(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Oc=$e(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Ic=Te("toLowerCase"),Rc=$e(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),zc=$e(function(n,t,r){return n+(r?" ":"")+Sc(t)}),Ec=$e(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Sc=Te("toUpperCase"),Wc=ie(function(n,t){try{return r(n,P,t)}catch(r){return ri(r)?r:new $i(r)}}),Lc=iu(function(n,t){return u(t,function(t){t=Eu(t),Qt(n,t,Ff(n[t],n))}),n}),Cc=Ne(),Uc=Ne(!0),Bc=ie(function(n,t){return function(r){return kr(r,n,t)}}),Tc=ie(function(n,t){return function(r){return kr(n,r,t)}}),$c=Ke(a),Dc=Ke(i),Mc=Ke(p),Fc=He(),Nc=He(!0),Pc=Ze(function(n,t){return n+t},0),qc=Qe("ceil"),Zc=Ze(function(n,t){return n/t},1),Kc=Qe("floor"),Vc=Ze(function(n,t){return n*t},1),Gc=Qe("round"),Hc=Ze(function(n,t){return n-t},0);return x.after=function(n,t){if("function"!=typeof t)throw new qi(K);return n=_i(n),function(){if(--n<1)return t.apply(this,arguments)}},x.ary=Gu,x.assign=cc,x.assignIn=ac,x.assignInWith=lc,x.assignWith=sc,x.at=hc,x.before=Hu,x.bind=Ff,x.bindAll=Lc,x.bindKey=Nf,x.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return Qf(n)?n:[n]},x.chain=Pu,x.chunk=function(n,t,r){t=(r?du(n,t,r):t===P)?1:Oo(_i(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=Bi(bo(e/t));u<e;)o[i++]=fe(n,u,u+=t);return o},x.compact=function(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u},x.concat=function(){var n=arguments.length;if(!n)return[];for(var t=Bi(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return l(Qf(r)?Se(r):[r],cr(t,1))},x.cond=function(n){var t=null==n?0:n.length,e=lu();return n=t?a(n,function(n){if("function"!=typeof n[1])throw new qi(K);return[e(n[0]),n[1]]}):[],ie(function(e){for(var u=-1;++u<t;){var i=n[u];if(r(i[0],this,e))return r(i[1],this,e)}})},x.conforms=function(n){return function(n){var t=mi(n);return function(r){return rr(r,n,t)}}(tr(n,Y))},x.constant=Ri,x.countBy=Wf,x.create=function(n,t){var r=Go(n);return null==t?r:Yt(r,t)},x.curry=function n(t,r,e){var u=nu(t,on,P,P,P,P,P,r=e?P:r);return u.placeholder=n.placeholder,u},x.curryRight=function n(t,r,e){var u=nu(t,fn,P,P,P,P,P,r=e?P:r);return u.placeholder=n.placeholder,u},x.debounce=Ju,x.defaults=pc,x.defaultsDeep=_c,x.defer=Pf,x.delay=qf,x.difference=_f,x.differenceBy=vf,x.differenceWith=gf,x.drop=function(n,t,r){var e=null==n?0:n.length;return e?fe(n,(t=r||t===P?1:_i(t))<0?0:t,e):[]},x.dropRight=function(n,t,r){var e=null==n?0:n.length;return e?fe(n,0,(t=e-(t=r||t===P?1:_i(t)))<0?0:t):[]},x.dropRightWhile=function(n,t){return n&&n.length?ye(n,lu(t,3),!0,!0):[]},x.dropWhile=function(n,t){return n&&n.length?ye(n,lu(t,3),!0):[]},x.fill=function(n,t,r,e){var u=null==n?0:n.length;return u?(r&&"number"!=typeof r&&du(n,t,r)&&(r=0,e=u),function(n,t,r,e){var u=n.length;for((r=_i(r))<0&&(r=-r>u?0:u+r),(e=e===P||e>u?u:_i(e))<0&&(e+=u),e=r>e?0:vi(e);r<e;)n[r++]=t;return n}(n,t,r,e)):[]},x.filter=function(n,t){return(Qf(n)?o:fr)(n,lu(t,3))},x.flatMap=function(n,t){return cr(Vu(n,t),1)},x.flatMapDeep=function(n,t){return cr(Vu(n,t),bn)},x.flatMapDepth=function(n,t,r){return r=r===P?1:_i(r),cr(Vu(n,t),r)},x.flatten=Bu,x.flattenDeep=function(n){return null!=n&&n.length?cr(n,bn):[]},x.flattenDepth=function(n,t){return null!=n&&n.length?cr(n,t=t===P?1:_i(t)):[]},x.flip=function(n){return nu(n,hn)},x.flow=Cc,x.flowRight=Uc,x.fromPairs=function(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e},x.functions=function(n){return null==n?[]:sr(n,mi(n))},x.functionsIn=function(n){return null==n?[]:sr(n,xi(n))},x.groupBy=Uf,x.initial=function(n){return null!=n&&n.length?fe(n,0,-1):[]},x.intersection=yf,x.intersectionBy=df,x.intersectionWith=bf,x.invert=vc,x.invertBy=gc,x.invokeMap=Bf,x.iteratee=Ei,x.keyBy=Tf,x.keys=mi,x.keysIn=xi,x.map=Vu,x.mapKeys=function(n,t){var r={};return t=lu(t,3),ar(n,function(n,e,u){Qt(r,t(n,e,u),n)}),r},x.mapValues=function(n,t){var r={};return t=lu(t,3),ar(n,function(n,e,u){Qt(r,e,t(n,e,u))}),r},x.matches=function(n){return Hr(tr(n,Y))},x.matchesProperty=function(n,t){return Jr(n,tr(t,Y))},x.memoize=Yu,x.merge=dc,x.mergeWith=bc,x.method=Bc,x.methodOf=Tc,x.mixin=Si,x.negate=Qu,x.nthArg=function(n){return n=_i(n),ie(function(t){return Qr(t,n)})},x.omit=wc,x.omitBy=function(n,t){return ji(n,Qu(lu(t)))},x.once=function(n){return Hu(2,n)},x.orderBy=function(n,t,r,e){return null==n?[]:(Qf(t)||(t=null==t?[]:[t]),Qf(r=e?P:r)||(r=null==r?[]:[r]),Xr(n,t,r))},x.over=$c,x.overArgs=Zf,x.overEvery=Dc,x.overSome=Mc,x.partial=Kf,x.partialRight=Vf,x.partition=$f,x.pick=mc,x.pickBy=ji,x.property=Li,x.propertyOf=function(n){return function(t){return null==n?P:hr(n,t)}},x.pull=wf,x.pullAll=Du,x.pullAllBy=function(n,t,r){return n&&n.length&&t&&t.length?te(n,t,lu(r,2)):n},x.pullAllWith=function(n,t,r){return n&&n.length&&t&&t.length?te(n,t,P,r):n},x.pullAt=mf,x.range=Fc,x.rangeRight=Nc,x.rearg=Gf,x.reject=function(n,t){return(Qf(n)?o:fr)(n,Qu(lu(t,3)))},x.remove=function(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=lu(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return re(n,u),r},x.rest=function(n,t){if("function"!=typeof n)throw new qi(K);return ie(n,t=t===P?t:_i(t))},x.reverse=Mu,x.sampleSize=function(n,t,r){return t=(r?du(n,t,r):t===P)?1:_i(t),(Qf(n)?function(n,t){return zu(Se(n),nr(t,0,n.length))}:function(n,t){var r=Ai(n);return zu(r,nr(t,0,r.length))})(n,t)},x.set=function(n,t,r){return null==n?n:oe(n,t,r)},x.setWith=function(n,t,r,e){return e="function"==typeof e?e:P,null==n?n:oe(n,t,r,e)},x.shuffle=function(n){return(Qf(n)?function(n){return zu(Se(n))}:function(n){return zu(Ai(n))})(n)},x.slice=function(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&du(n,t,r)?(t=0,r=e):(t=null==t?0:_i(t),r=r===P?e:_i(r)),fe(n,t,r)):[]},x.sortBy=Df,x.sortedUniq=function(n){return n&&n.length?se(n):[]},x.sortedUniqBy=function(n,t){return n&&n.length?se(n,lu(t,2)):[]},x.split=function(n,t,r){return r&&"number"!=typeof r&&du(n,t,r)&&(t=r=P),(r=r===P?jn:r>>>0)?(n=di(n))&&("string"==typeof t||null!=t&&!ec(t))&&!(t=pe(t))&&L(n)?Ae(M(n),0,r):n.split(t,r):[]},x.spread=function(n,t){if("function"!=typeof n)throw new qi(K);return t=null==t?0:Oo(_i(t),0),ie(function(e){var u=e[t],i=Ae(e,0,t);return u&&l(i,u),r(n,this,i)})},x.tail=function(n){var t=null==n?0:n.length;return t?fe(n,1,t):[]},x.take=function(n,t,r){return n&&n.length?fe(n,0,(t=r||t===P?1:_i(t))<0?0:t):[]},x.takeRight=function(n,t,r){var e=null==n?0:n.length;return e?fe(n,(t=e-(t=r||t===P?1:_i(t)))<0?0:t,e):[]},x.takeRightWhile=function(n,t){return n&&n.length?ye(n,lu(t,3),!1,!0):[]},x.takeWhile=function(n,t){return n&&n.length?ye(n,lu(t,3)):[]},x.tap=function(n,t){return t(n),n},x.throttle=function(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new qi(K);return oi(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Ju(n,t,{leading:e,maxWait:t,trailing:u})},x.thru=qu,x.toArray=hi,x.toPairs=xc,x.toPairsIn=jc,x.toPath=function(n){return Qf(n)?a(n,Eu):si(n)?[n]:Se(pf(di(n)))},x.toPlainObject=yi,x.transform=function(n,t,r){var e=Qf(n),i=e||nc(n)||ic(n);if(t=lu(t,4),null==r){var o=n&&n.constructor;r=i?e?new o:[]:oi(n)&&ei(o)?Go(fo(n)):{}}return(i?u:ar)(n,function(n,e,u){return t(r,n,e,u)}),r},x.unary=function(n){return Gu(n,1)},x.union=xf,x.unionBy=jf,x.unionWith=Af,x.uniq=function(n){return n&&n.length?_e(n):[]},x.uniqBy=function(n,t){return n&&n.length?_e(n,lu(t,2)):[]},x.uniqWith=function(n,t){return t="function"==typeof t?t:P,n&&n.length?_e(n,P,t):[]},x.unset=function(n,t){return null==n||ve(n,t)},x.unzip=Fu,x.unzipWith=Nu,x.update=function(n,t,r){return null==n?n:ge(n,t,xe(r))},x.updateWith=function(n,t,r,e){return e="function"==typeof e?e:P,null==n?n:ge(n,t,xe(r),e)},x.values=Ai,x.valuesIn=function(n){return null==n?[]:R(n,xi(n))},x.without=kf,x.words=Ii,x.wrap=function(n,t){return Kf(xe(t),n)},x.xor=Of,x.xorBy=If,x.xorWith=Rf,x.zip=zf,x.zipObject=function(n,t){return we(n||[],t||[],Gt)},x.zipObjectDeep=function(n,t){return we(n||[],t||[],oe)},x.zipWith=Ef,x.entries=xc,x.entriesIn=jc,x.extend=ac,x.extendWith=lc,Si(x,x),x.add=Pc,x.attempt=Wc,x.camelCase=Ac,x.capitalize=ki,x.ceil=qc,x.clamp=function(n,t,r){return r===P&&(r=t,t=P),r!==P&&(r=(r=gi(r))==r?r:0),t!==P&&(t=(t=gi(t))==t?t:0),nr(gi(n),t,r)},x.clone=function(n){return tr(n,X)},x.cloneDeep=function(n){return tr(n,Y|X)},x.cloneDeepWith=function(n,t){return tr(n,Y|X,t="function"==typeof t?t:P)},x.cloneWith=function(n,t){return tr(n,X,t="function"==typeof t?t:P)},x.conformsTo=function(n,t){return null==t||rr(n,t,mi(t))},x.deburr=Oi,x.defaultTo=function(n,t){return null==n||n!=n?t:n},x.divide=Zc,x.endsWith=function(n,t,r){n=di(n),t=pe(t);var e=n.length,u=r=r===P?e:nr(_i(r),0,e);return(r-=t.length)>=0&&n.slice(r,u)==t},x.eq=Xu,x.escape=function(n){return(n=di(n))&&ht.test(n)?n.replace(lt,qr):n},x.escapeRegExp=function(n){return(n=di(n))&&wt.test(n)?n.replace(bt,"\\$&"):n},x.every=function(n,t,r){var e=Qf(n)?i:ir;return r&&du(n,t,r)&&(t=P),e(n,lu(t,3))},x.find=Lf,x.findIndex=Cu,x.findKey=function(n,t){return v(n,lu(t,3),ar)},x.findLast=Cf,x.findLastIndex=Uu,x.findLastKey=function(n,t){return v(n,lu(t,3),lr)},x.floor=Kc,x.forEach=Zu,x.forEachRight=Ku,x.forIn=function(n,t){return null==n?n:Yo(n,lu(t,3),xi)},x.forInRight=function(n,t){return null==n?n:Qo(n,lu(t,3),xi)},x.forOwn=function(n,t){return n&&ar(n,lu(t,3))},x.forOwnRight=function(n,t){return n&&lr(n,lu(t,3))},x.get=bi,x.gt=Hf,x.gte=Jf,x.has=function(n,t){return null!=n&&_u(n,t,dr)},x.hasIn=wi,x.head=Tu,x.identity=zi,x.includes=function(n,t,r,e){n=ni(n)?n:Ai(n),r=r&&!e?_i(r):0;var u=n.length;return r<0&&(r=Oo(u+r,0)),li(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1},x.indexOf=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:_i(r);return u<0&&(u=Oo(e+u,0)),y(n,t,u)},x.inRange=function(n,t,r){return t=pi(t),r===P?(r=t,t=0):r=pi(r),function(n,t,r){return n>=Io(t,r)&&n<Oo(t,r)}(n=gi(n),t,r)},x.invoke=yc,x.isArguments=Yf,x.isArray=Qf,x.isArrayBuffer=Xf,x.isArrayLike=ni,x.isArrayLikeObject=ti,x.isBoolean=function(n){return!0===n||!1===n||fi(n)&&_r(n)==En},x.isBuffer=nc,x.isDate=tc,x.isElement=function(n){return fi(n)&&1===n.nodeType&&!ai(n)},x.isEmpty=function(n){if(null==n)return!0;if(ni(n)&&(Qf(n)||"string"==typeof n||"function"==typeof n.splice||nc(n)||ic(n)||Yf(n)))return!n.length;var t=cf(n);if(t==Bn||t==Pn)return!n.size;if(mu(n))return!Ur(n).length;for(var r in n)if(Ji.call(n,r))return!1;return!0},x.isEqual=function(n,t){return zr(n,t)},x.isEqualWith=function(n,t,r){var e=(r="function"==typeof r?r:P)?r(n,t):P;return e===P?zr(n,t,P,r):!!e},x.isError=ri,x.isFinite=function(n){return"number"==typeof n&&jo(n)},x.isFunction=ei,x.isInteger=ui,x.isLength=ii,x.isMap=rc,x.isMatch=function(n,t){return n===t||Sr(n,t,hu(t))},x.isMatchWith=function(n,t,r){return r="function"==typeof r?r:P,Sr(n,t,hu(t),r)},x.isNaN=function(n){return ci(n)&&n!=+n},x.isNative=function(n){if(af(n))throw new $i(Z);return Wr(n)},x.isNil=function(n){return null==n},x.isNull=function(n){return null===n},x.isNumber=ci,x.isObject=oi,x.isObjectLike=fi,x.isPlainObject=ai,x.isRegExp=ec,x.isSafeInteger=function(n){return ui(n)&&n>=-wn&&n<=wn},x.isSet=uc,x.isString=li,x.isSymbol=si,x.isTypedArray=ic,x.isUndefined=function(n){return n===P},x.isWeakMap=function(n){return fi(n)&&cf(n)==Vn},x.isWeakSet=function(n){return fi(n)&&_r(n)==Gn},x.join=function(n,t){return null==n?"":Ao.call(n,t)},x.kebabCase=kc,x.last=$u,x.lastIndexOf=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==P&&(u=(u=_i(r))<0?Oo(e+u,0):Io(u,e-1)),t==t?function(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}(n,t,u):g(n,b,u,!0)},x.lowerCase=Oc,x.lowerFirst=Ic,x.lt=oc,x.lte=fc,x.max=function(n){return n&&n.length?or(n,zi,yr):P},x.maxBy=function(n,t){return n&&n.length?or(n,lu(t,2),yr):P},x.mean=function(n){return w(n,zi)},x.meanBy=function(n,t){return w(n,lu(t,2))},x.min=function(n){return n&&n.length?or(n,zi,Vr):P},x.minBy=function(n,t){return n&&n.length?or(n,lu(t,2),Vr):P},x.stubArray=Ci,x.stubFalse=Ui,x.stubObject=function(){return{}},x.stubString=function(){return""},x.stubTrue=function(){return!0},x.multiply=Vc,x.nth=function(n,t){return n&&n.length?Qr(n,_i(t)):P},x.noConflict=function(){return Er._===this&&(Er._=to),this},x.noop=Wi,x.now=Mf,x.pad=function(n,t,r){n=di(n);var e=(t=_i(t))?D(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return Ve(wo(u),r)+n+Ve(bo(u),r)},x.padEnd=function(n,t,r){n=di(n);var e=(t=_i(t))?D(n):0;return t&&e<t?n+Ve(t-e,r):n},x.padStart=function(n,t,r){n=di(n);var e=(t=_i(t))?D(n):0;return t&&e<t?Ve(t-e,r)+n:n},x.parseInt=function(n,t,r){return r||null==t?t=0:t&&(t=+t),zo(di(n).replace(mt,""),t||0)},x.random=function(n,t,r){if(r&&"boolean"!=typeof r&&du(n,t,r)&&(t=r=P),r===P&&("boolean"==typeof t?(r=t,t=P):"boolean"==typeof n&&(r=n,n=P)),n===P&&t===P?(n=0,t=1):(n=pi(n),t===P?(t=n,n=0):t=pi(t)),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var u=Eo();return Io(n+u*(t-n+Or("1e-"+((u+"").length-1))),t)}return ee(n,t)},x.reduce=function(n,t,r){var e=Qf(n)?s:j,u=arguments.length<3;return e(n,lu(t,4),r,u,Ho)},x.reduceRight=function(n,t,r){var e=Qf(n)?h:j,u=arguments.length<3;return e(n,lu(t,4),r,u,Jo)},x.repeat=function(n,t,r){return t=(r?du(n,t,r):t===P)?1:_i(t),ue(di(n),t)},x.replace=function(){var n=arguments,t=di(n[0]);return n.length<3?t:t.replace(n[1],n[2])},x.result=function(n,t,r){var e=-1,u=(t=je(t,n)).length;for(u||(u=1,n=P);++e<u;){var i=null==n?P:n[Eu(t[e])];i===P&&(e=u,i=r),n=ei(i)?i.call(n):i}return n},x.round=Gc,x.runInContext=n,x.sample=function(n){return(Qf(n)?Kt:function(n){return Kt(Ai(n))})(n)},x.size=function(n){if(null==n)return 0;if(ni(n))return li(n)?D(n):n.length;var t=cf(n);return t==Bn||t==Pn?n.size:Ur(n).length},x.snakeCase=Rc,x.some=function(n,t,r){var e=Qf(n)?p:ce;return r&&du(n,t,r)&&(t=P),e(n,lu(t,3))},x.sortedIndex=function(n,t){return ae(n,t)},x.sortedIndexBy=function(n,t,r){return le(n,t,lu(r,2))},x.sortedIndexOf=function(n,t){var r=null==n?0:n.length;if(r){var e=ae(n,t);if(e<r&&Xu(n[e],t))return e}return-1},x.sortedLastIndex=function(n,t){return ae(n,t,!0)},x.sortedLastIndexBy=function(n,t,r){return le(n,t,lu(r,2),!0)},x.sortedLastIndexOf=function(n,t){if(null!=n&&n.length){var r=ae(n,t,!0)-1;if(Xu(n[r],t))return r}return-1},x.startCase=zc,x.startsWith=function(n,t,r){return n=di(n),r=null==r?0:nr(_i(r),0,n.length),t=pe(t),n.slice(r,r+t.length)==t},x.subtract=Hc,x.sum=function(n){return n&&n.length?A(n,zi):0},x.sumBy=function(n,t){return n&&n.length?A(n,lu(t,2)):0},x.template=function(n,t,r){var e=x.templateSettings;r&&du(n,t,r)&&(t=P),n=di(n),t=lc({},t,e,tu);var u,i,o=lc({},t.imports,e.imports,tu),f=mi(o),c=R(o,f),a=0,l=t.interpolate||Tt,s="__p += '",h=Ni((t.escape||Tt).source+"|"+l.source+"|"+(l===vt?zt:Tt).source+"|"+(t.evaluate||Tt).source+"|$","g"),p="//# sourceURL="+(Ji.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xr+"]")+"\n";n.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace($t,W),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),a=c+t.length,t}),s+="';\n";var _=Ji.call(t,"variable")&&t.variable;if(_){if(It.test(_))throw new $i(V)}else s="with (obj) {\n"+s+"\n}\n";s=(i?s.replace(ot,""):s).replace(ft,"$1").replace(ct,"$1;"),s="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var v=Wc(function(){return Di(f,p+"return "+s).apply(P,c)});if(v.source=s,ri(v))throw v;return v},x.times=function(n,t){if((n=_i(n))<1||n>wn)return[];var r=jn,e=Io(n,jn);t=lu(t),n-=jn;for(var u=k(e,t);++r<n;)t(r);return u},x.toFinite=pi,x.toInteger=_i,x.toLength=vi,x.toLower=function(n){return di(n).toLowerCase()},x.toNumber=gi,x.toSafeInteger=function(n){return n?nr(_i(n),-wn,wn):0===n?n:0},x.toString=di,x.toUpper=function(n){return di(n).toUpperCase()},x.trim=function(n,t,r){if((n=di(n))&&(r||t===P))return O(n);if(!n||!(t=pe(t)))return n;var e=M(n),u=M(t);return Ae(e,E(e,u),S(e,u)+1).join("")},x.trimEnd=function(n,t,r){if((n=di(n))&&(r||t===P))return n.slice(0,F(n)+1);if(!n||!(t=pe(t)))return n;var e=M(n);return Ae(e,0,S(e,M(t))+1).join("")},x.trimStart=function(n,t,r){if((n=di(n))&&(r||t===P))return n.replace(mt,"");if(!n||!(t=pe(t)))return n;var e=M(n);return Ae(e,E(e,M(t))).join("")},x.truncate=function(n,t){var r=pn,e=_n;if(oi(t)){var u="separator"in t?t.separator:u;r="length"in t?_i(t.length):r,e="omission"in t?pe(t.omission):e}var i=(n=di(n)).length;if(L(n)){var o=M(n);i=o.length}if(r>=i)return n;var f=r-D(e);if(f<1)return e;var c=o?Ae(o,0,f).join(""):n.slice(0,f);if(u===P)return c+e;if(o&&(f+=c.length-f),ec(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=Ni(u.source,di(Et.exec(u))+"g")),u.lastIndex=0;a=u.exec(l);)var s=a.index;c=c.slice(0,s===P?f:s)}}else if(n.indexOf(pe(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e},x.unescape=function(n){return(n=di(n))&&st.test(n)?n.replace(at,Zr):n},x.uniqueId=function(n){var t=++Yi;return di(n)+t},x.upperCase=Ec,x.upperFirst=Sc,x.each=Zu,x.eachRight=Ku,x.first=Tu,Si(x,function(){var n={};return ar(x,function(t,r){Ji.call(x.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),x.VERSION="4.17.21",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){x[n].placeholder=x}),u(["drop","take"],function(n,t){Dt.prototype[n]=function(r){r=r===P?1:Oo(_i(r),0);var e=this.__filtered__&&!t?new Dt(this):this.clone();return e.__filtered__?e.__takeCount__=Io(r,e.__takeCount__):e.__views__.push({size:Io(r,jn),type:n+(e.__dir__<0?"Right":"")}),e},Dt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),u(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==yn||3==r;Dt.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:lu(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),u(["head","last"],function(n,t){var r="take"+(t?"Right":"");Dt.prototype[n]=function(){return this[r](1).value()[0]}}),u(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Dt.prototype[n]=function(){return this.__filtered__?new Dt(this):this[r](1)}}),Dt.prototype.compact=function(){return this.filter(zi)},Dt.prototype.find=function(n){return this.filter(n).head()},Dt.prototype.findLast=function(n){return this.reverse().find(n)},Dt.prototype.invokeMap=ie(function(n,t){return"function"==typeof n?new Dt(this):this.map(function(r){return kr(r,n,t)})}),Dt.prototype.reject=function(n){return this.filter(Qu(lu(n)))},Dt.prototype.slice=function(n,t){n=_i(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Dt(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==P&&(r=(t=_i(t))<0?r.dropRight(-t):r.take(t-n)),r)},Dt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Dt.prototype.toArray=function(){return this.take(jn)},ar(Dt.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=x[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(x.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Dt,c=o[0],a=f||Qf(t),s=function(n){var t=u.apply(x,l([n],o));return e&&h?t[0]:t};a&&r&&"function"==typeof c&&1!=c.length&&(f=a=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&a){t=v?t:new Dt(this);var g=n.apply(t,o);return g.__actions__.push({func:qu,args:[s],thisArg:P}),new Ot(g,h)}return _&&v?n.apply(this,o):(g=this.thru(s),_?e?g.value()[0]:g.value():g)})}),u(["pop","push","shift","sort","splice","unshift"],function(n){var t=Zi[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);x.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(Qf(u)?u:[],n)}return this[r](function(r){return t.apply(Qf(r)?r:[],n)})}}),ar(Dt.prototype,function(n,t){var r=x[t];if(r){var e=r.name+"";Ji.call(Do,e)||(Do[e]=[]),Do[e].push({name:t,func:r})}}),Do[Pe(P,en).name]=[{name:"wrapper",func:P}],Dt.prototype.clone=function(){var n=new Dt(this.__wrapped__);return n.__actions__=Se(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Se(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Se(this.__views__),n},Dt.prototype.reverse=function(){if(this.__filtered__){var n=new Dt(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},Dt.prototype.value=function(){var n=this.__wrapped__.value(),t=this.__dir__,r=Qf(n),e=t<0,u=r?n.length:0,i=function(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Io(t,n+o);break;case"takeRight":n=Oo(n,t-o)}}return{start:n,end:t}}(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Io(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return de(n,this.__actions__);var _=[];n:for(;c--&&h<p;){for(var v=-1,g=n[a+=t];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==dn)g=w;else if(!w){if(b==yn)continue n;break n}}_[h++]=g}return _},x.prototype.at=Sf,x.prototype.chain=function(){return Pu(this)},x.prototype.commit=function(){return new Ot(this.value(),this.__chain__)},x.prototype.next=function(){this.__values__===P&&(this.__values__=hi(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?P:this.__values__[this.__index__++]}},x.prototype.plant=function(n){for(var t,r=this;r instanceof xt;){var e=Lu(r);e.__index__=0,e.__values__=P,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t},x.prototype.reverse=function(){var n=this.__wrapped__;if(n instanceof Dt){var t=n;return this.__actions__.length&&(t=new Dt(this)),(t=t.reverse()).__actions__.push({func:qu,args:[Mu],thisArg:P}),new Ot(t,this.__chain__)}return this.thru(Mu)},x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=function(){return de(this.__wrapped__,this.__actions__)},x.prototype.first=x.prototype.head,ho&&(x.prototype[ho]=function(){return this}),x}();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(Er._=Kr,n(function(){return Kr})):Wr?((Wr.exports=Kr)._=Kr,Sr._=Kr):Er._=Kr}).call(this);
},{}],"GKKl":[function(require,module,exports) {
exports.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},exports.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},exports.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},exports.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},exports.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},exports.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},exports.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},exports.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},exports.realToAlias=function(){var e=Object.prototype.hasOwnProperty,t=exports.aliasToReal,r={};for(var i in t){var a=t[i];e.call(r,a)?r[a].push(i):r[a]=[i]}return r}(),exports.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},exports.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},exports.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0};
},{}],"DL1l":[function(require,module,exports) {
module.exports={};
},{}],"M9jC":[function(require,module,exports) {
var r=require("./_mapping"),n=require("./placeholder"),t=Array.prototype.push;function e(r,n){return 2==n?function(n,t){return r.apply(void 0,arguments)}:function(n){return r.apply(void 0,arguments)}}function u(r,n){return 2==n?function(n,t){return r(n,t)}:function(n){return r(n)}}function i(r){for(var n=r?r.length:0,t=Array(n);n--;)t[n]=r[n];return t}function a(r){return function(n){return r({},n)}}function o(r,n){return function(){for(var e=arguments.length,u=e-1,i=Array(e);e--;)i[e]=arguments[e];var a=i[n],o=i.slice(0,n);return a&&t.apply(o,a),n!=u&&t.apply(o,i.slice(n+1)),r.apply(this,o)}}function c(r,n){return function(){var t=arguments.length;if(t){for(var e=Array(t);t--;)e[t]=arguments[t];var u=e[0]=n.apply(void 0,e);return r.apply(void 0,e),u}}}function f(t,p,l,y){var v="function"==typeof p,s=p===Object(p);if(s&&(y=l,l=p,p=void 0),null==l)throw new TypeError;y||(y={});var h={cap:!("cap"in y)||y.cap,curry:!("curry"in y)||y.curry,fixed:!("fixed"in y)||y.fixed,immutable:!("immutable"in y)||y.immutable,rearg:!("rearg"in y)||y.rearg},g=v?l:n,d="curry"in y&&y.curry,m="fixed"in y&&y.fixed,x="rearg"in y&&y.rearg,A=v?l.runInContext():void 0,b=v?l:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},k=b.ary,E=b.assign,R=b.clone,j=b.curry,I=b.forEach,M=b.isArray,O=b.isError,F=b.isFunction,T=b.isWeakMap,C=b.keys,P=b.rearg,W=b.toInteger,q=b.toPath,w=C(r.aryMethod),S={castArray:function(r){return function(){var n=arguments[0];return M(n)?r(i(n)):r.apply(void 0,arguments)}},iteratee:function(r){return function(){var n=arguments[0],t=arguments[1],e=r(n,t),i=e.length;return h.cap&&"number"==typeof t?(t=t>2?t-2:1,i&&i<=t?e:u(e,t)):e}},mixin:function(r){return function(n){var t=this;if(!F(t))return r(t,Object(n));var e=[];return I(C(n),function(r){F(n[r])&&e.push([r,t.prototype[r]])}),r(t,Object(n)),I(e,function(r){var n=r[1];F(n)?t.prototype[r[0]]=n:delete t.prototype[r[0]]}),t}},nthArg:function(r){return function(n){var t=n<0?1:W(n)+1;return j(r(n),t)}},rearg:function(r){return function(n,t){var e=t?t.length:0;return j(r(n,t),e)}},runInContext:function(r){return function(n){return f(t,r(n),y)}}};function _(n,t){if(h.cap){var i=r.iterateeRearg[n];if(i)return function(r,n){return H(r,function(r){var t=n.length;return e(P(u(r,t),n),t)})}(t,i);var a=!v&&r.iterateeAry[n];if(a)return function(r,n){return H(r,function(r){return"function"==typeof r?u(r,n):r})}(t,a)}return t}function z(n,t,e){if(h.fixed&&(m||!r.skipFixed[n])){var u=r.methodSpread[n],i=u&&u.start;return void 0===i?k(t,e):o(t,i)}return t}function B(n,t,e){return h.rearg&&e>1&&(x||!r.skipRearg[n])?P(t,r.methodRearg[n]||r.aryRearg[e]):t}function D(r,n){for(var t=-1,e=(n=q(n)).length,u=e-1,i=R(Object(r)),a=i;null!=a&&++t<e;){var o=n[t],c=a[o];null==c||F(c)||O(c)||T(c)||(a[o]=R(t==u?c:Object(c))),a=a[o]}return i}function G(n,t){var e=r.aliasToReal[n]||n,u=r.remap[e]||e,i=y;return function(r){var n=v?A:b,a=v?A[u]:t,o=E(E({},i),r);return f(n,e,a,o)}}function H(r,n){return function(){var t=arguments.length;if(!t)return r();for(var e=Array(t);t--;)e[t]=arguments[t];var u=h.rearg?0:t-1;return e[u]=n(e[u]),r.apply(void 0,e)}}function J(n,t,e){var u,o=r.aliasToReal[n]||n,f=t,p=S[o];return p?f=p(t):h.immutable&&(r.mutate.array[o]?f=c(t,i):r.mutate.object[o]?f=c(t,a(t)):r.mutate.set[o]&&(f=c(t,D))),I(w,function(n){return I(r.aryMethod[n],function(t){if(o==t){var e=r.methodSpread[o],i=e&&e.afterRearg;return u=i?z(o,B(o,f,n),n):B(o,z(o,f,n),n),u=_(o,u),a=u,c=n,u=d||h.curry&&c>1?j(a,c):a,!1}var a,c}),!u}),u||(u=f),u==t&&(u=d?j(u,1):function(){return t.apply(this,arguments)}),u.convert=G(o,t),u.placeholder=t.placeholder=e,u}if(!s)return J(p,l,g);var K=l,L=[];return I(w,function(n){I(r.aryMethod[n],function(n){var t=K[r.remap[n]||n];t&&L.push([n,J(n,t,K)])})}),I(C(K),function(r){var n=K[r];if("function"==typeof n){for(var t=L.length;t--;)if(L[t][0]==r)return;n.convert=G(r,n),L.push([r,n])}}),I(L,function(r){K[r[0]]=r[1]}),K.convert=function(r){return K.runInContext.convert(r)(void 0)},K.placeholder=K,I(C(K),function(n){I(r.realToAlias[n]||[],function(r){K[r]=K[n]})}),K}module.exports=f;
},{"./_mapping":"GKKl","./placeholder":"DL1l"}],"w45N":[function(require,module,exports) {
var e=require("./lodash.min").runInContext();module.exports=require("./fp/_baseConvert")(e,e);
},{"./lodash.min":"vP1x","./fp/_baseConvert":"M9jC"}],"LWdp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("react")),n=require("uuid"),r=a(require("lodash/fp")),t=require("sendbird-uikit");require("sendbird-uikit/dist/index.css");var o=a(require("lightning-container"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:n})(e)}function i(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(n);if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(t,a,i):t[a]=e[a]}return t.default=e,r&&r.set(e,t),t}function l(e,n){return p(e)||s(e,n)||d(e,n)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,n){if(e){if("string"==typeof e)return f(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function s(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a=[],u=!0,i=!1;try{for(r=r.call(e);!(u=(t=r.next()).done)&&(a.push(t.value),!n||a.length!==n);u=!0);}catch(l){i=!0,o=l}finally{try{u||null==r.return||r.return()}finally{if(i)throw o}}return a}}function p(e){if(Array.isArray(e))return e}var v=function(e){e.getTotalUnreadMessageCount(function(e,n){n||(console.log("Sending unread count:",e),o.default.sendMessage({event:"NEWMESSAGE",unreadCount:e}))})},h=function(r){var t=r.sdk,o=l((0,e.useState)((0,n.v4)()),2),a=o[0],u=o[1];return(0,e.useEffect)(function(){if(t.ChannelHandler){try{var e=new t.ChannelHandler;e.onMessageReceived=function(e,n){console.warn("New Message arrived:",n),v(t)},t.addChannelHandler(a,e),u(a),console.warn("created channel event handler withID:",a)}catch(n){console.warn("something went wrong in creating handler",n)}return function(){try{t.removeChannelHandler(a),console.warn("removed event handler withID:",a)}catch(n){console.warn("something went wrong in removing handler",n)}}}},[t]),e.default.createElement("div",null)},y=r.default.compose(r.default.get("stores.sdkStore.sdk"),r.default.defaultTo({})),g=(0,t.withSendBird)(h,function(e){return{sdk:y(e)}});exports.default=g;
},{"react":"HdMw","uuid":"UeUD","lodash/fp":"w45N","sendbird-uikit":"MDMF","sendbird-uikit/dist/index.css":"D9Nj","lightning-container":"oEs9"}],"xMPT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.YOUR_SALESFORCE_URL=exports.NICKNAME=exports.USER_ID=exports.APP_ID=void 0;var e="65840362-69D4-4253-B261-128D197080DB";exports.APP_ID=e;var r="friend1";exports.USER_ID=r;var t="friend1";exports.NICKNAME=t;var o="https://daytwo--dev--c.container.lightning.com";exports.YOUR_SALESFORCE_URL=o;var s={APP_ID:e,USER_ID:r,NICKNAME:t,YOUR_SALESFORCE_URL:o};exports.default=s;
},{}],"Tx4v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("react"));require("./styles.css");var t=l(require("lightning-container")),r=require("sendbird-uikit");require("sendbird-uikit/dist/index.css");var n=l(require("./EventListener")),a=require("./const");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}function o(e,t){return p(e)||d(e,t)||s(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],u=!0,i=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);u=!0);}catch(o){i=!0,a=o}finally{try{u||null==r.return||r.return()}finally{if(i)throw a}}return l}}function p(e){if(Array.isArray(e))return e}function v(l){console.log(l);var u=o((0,e.useState)(!1),2),i=u[0],c=u[1],s=o((0,e.useState)(null),2),f=s[0],d=s[1];if(f){console.log("Sending channel to Salesforce: ",f);var p={event:"CURRENTCHANNEL",channelUrl:f};t.default.sendMessage(p)}return e.default.createElement("div",{className:"App",style:{height:"95vh"}},e.default.createElement(r.SendBirdProvider,{appId:a.APP_ID,userId:l.user.userId,nickname:l.user.nickname},e.default.createElement("div",{className:"sendbird-app__wrap"},e.default.createElement(r.ChannelList,{onChannelSelect:function(e){e&&e.url&&d(e.url)}}),e.default.createElement("div",{className:"sendbird-app__conversation-wrap"},e.default.createElement(r.Channel,{channelUrl:f,onChatHeaderActionClick:function(){c(!0)}}))),i&&e.default.createElement("div",{className:"sendbird-app__settingspanel-wrap"},e.default.createElement(r.ChannelSettings,{channelUrl:f,onCloseClick:function(){c(!1)}})),e.default.createElement(n.default,null)))}var y=v;exports.default=y;
},{"react":"HdMw","./styles.css":"D9Nj","lightning-container":"oEs9","sendbird-uikit":"MDMF","sendbird-uikit/dist/index.css":"D9Nj","./EventListener":"LWdp","./const":"xMPT"}],"dTSW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tabFocused=void 0;var e=n(require("lightning-container"));function n(e){return e&&e.__esModule?e:{default:e}}var i=function(){var e,n,i={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(e in i)if(e in document){n=i[e];break}return function(i){return i&&document.addEventListener(n,i),!document[e]}}();exports.tabFocused=i;var t=function(){e.default.sendMessage({event:"NEWMESSAGE",unreadCount:0})};i(function(){i()?(console.log("Sendbird tab gained focus! Reset message count"),t()):console.log("Sendbird Lost focus")}),window.addEventListener("focus",function(e){console.log("Sendbird window gained focus! Reset message count"),t()},!1);
},{"lightning-container":"oEs9"}],"H99C":[function(require,module,exports) {
"use strict";var e=a(require("lightning-container")),r=a(require("react")),t=a(require("react-dom")),n=a(require("./UIKit"));function a(e){return e&&e.__esModule?e:{default:e}}require("./styles.css"),require("./tabFocus.js");var o=document.getElementById("app"),u=function(e){return r.default.createElement("div",null,r.default.createElement(n.default,{user:e.user}))};try{var l="READY";e.default.sendMessage(l),console.log("Lightning Container --\x3e TO SALESFORCE --\x3e Sent:",l)}catch(c){console.error("LLC NOT WORKING",c)}try{e.default.addErrorHandler(function(e){return console.log("LLC ERROR:",e)}),e.default.addMessageHandler(function(e){console.log("SALESFORCE --\x3e Lightning Container --\x3e Arrived:",e),t.default.render(r.default.createElement(u,{env:"salesforce",user:e}),o)})}catch(c){console.error("Error from LLC!!",c)}
},{"lightning-container":"oEs9","react":"HdMw","react-dom":"X9zx","./UIKit":"Tx4v","./styles.css":"D9Nj","./tabFocus.js":"dTSW"}]},{},["H99C"], null)
//# sourceMappingURL=/src.19f1a7a0.js.map